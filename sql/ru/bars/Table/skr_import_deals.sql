

PROMPT ===================================================================================== 
PROMPT *** Run *** ========== Scripts /Sql/BARS/Table/SKR_IMPORT_DEALS.sql =========*** Run 
PROMPT ===================================================================================== 


PROMPT *** ALTER_POLICY_INFO to SKR_IMPORT_DEALS ***


BEGIN 
        execute immediate  
          'begin  
               bpa.alter_policy_info(''SKR_IMPORT_DEALS'', ''FILIAL'' , null, null, null, null);
               bpa.alter_policy_info(''SKR_IMPORT_DEALS'', ''WHOLE'' , null, null, null, null);
               null;
           end; 
          '; 
END; 
/

PROMPT *** Create  table SKR_IMPORT_DEALS ***
begin 
  execute immediate '
  CREATE TABLE BARS.SKR_IMPORT_DEALS 
   (	SAFE_NUM VARCHAR2(64), 
	SAFE_TYPE_ID NUMBER, 
	KEY_USED NUMBER, 
	KEY_NUMBER VARCHAR2(30), 
	KEY_COUNT NUMBER, 
	BAIL_SUM NUMBER, 
	DAY_SUM NUMBER, 
	PENY_SUM NUMBER, 
	FUTURE_SUM NUMBER, 
	DEAL_NUM VARCHAR2(30), 
	DEAL_DATE DATE, 
	DEAL_START_DATE DATE, 
	DEAL_END_DATE DATE, 
	CUSTTYPE NUMBER, 
	FIO VARCHAR2(70), 
	OKPO VARCHAR2(10), 
	DOC VARCHAR2(100), 
	ISSUED VARCHAR2(100), 
	ADDRESS VARCHAR2(100), 
	BIRTHPLACE VARCHAR2(100), 
	BIRTHDATE DATE, 
	PHONE VARCHAR2(30), 
	NMK VARCHAR2(70), 
	NLSK VARCHAR2(15), 
	MFOK VARCHAR2(12), 
	BRANCH VARCHAR2(30 CHAR), 
	ERROR VARCHAR2(4000 CHAR), 
	IMPORTED NUMBER(1,0) DEFAULT 0, 
	NLS2909 VARCHAR2(14), 
	NLS3600 VARCHAR2(14)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE BRSDYND ';
exception when others then       
  if sqlcode=-955 then null; else raise; end if; 
end; 
/




PROMPT *** ALTER_POLICIES to SKR_IMPORT_DEALS ***
 exec bpa.alter_policies('SKR_IMPORT_DEALS');


COMMENT ON TABLE BARS.SKR_IMPORT_DEALS IS '';
COMMENT ON COLUMN BARS.SKR_IMPORT_DEALS.SAFE_NUM IS '';
COMMENT ON COLUMN BARS.SKR_IMPORT_DEALS.SAFE_TYPE_ID IS '';
COMMENT ON COLUMN BARS.SKR_IMPORT_DEALS.KEY_USED IS '';
COMMENT ON COLUMN BARS.SKR_IMPORT_DEALS.KEY_NUMBER IS '';
COMMENT ON COLUMN BARS.SKR_IMPORT_DEALS.KEY_COUNT IS '';
COMMENT ON COLUMN BARS.SKR_IMPORT_DEALS.BAIL_SUM IS '';
COMMENT ON COLUMN BARS.SKR_IMPORT_DEALS.DAY_SUM IS '';
COMMENT ON COLUMN BARS.SKR_IMPORT_DEALS.PENY_SUM IS '';
COMMENT ON COLUMN BARS.SKR_IMPORT_DEALS.FUTURE_SUM IS '';
COMMENT ON COLUMN BARS.SKR_IMPORT_DEALS.DEAL_NUM IS '';
COMMENT ON COLUMN BARS.SKR_IMPORT_DEALS.DEAL_DATE IS '';
COMMENT ON COLUMN BARS.SKR_IMPORT_DEALS.DEAL_START_DATE IS '';
COMMENT ON COLUMN BARS.SKR_IMPORT_DEALS.DEAL_END_DATE IS '';
COMMENT ON COLUMN BARS.SKR_IMPORT_DEALS.CUSTTYPE IS '';
COMMENT ON COLUMN BARS.SKR_IMPORT_DEALS.FIO IS '';
COMMENT ON COLUMN BARS.SKR_IMPORT_DEALS.OKPO IS '';
COMMENT ON COLUMN BARS.SKR_IMPORT_DEALS.DOC IS '';
COMMENT ON COLUMN BARS.SKR_IMPORT_DEALS.ISSUED IS '';
COMMENT ON COLUMN BARS.SKR_IMPORT_DEALS.ADDRESS IS '';
COMMENT ON COLUMN BARS.SKR_IMPORT_DEALS.BIRTHPLACE IS '';
COMMENT ON COLUMN BARS.SKR_IMPORT_DEALS.BIRTHDATE IS '';
COMMENT ON COLUMN BARS.SKR_IMPORT_DEALS.PHONE IS '';
COMMENT ON COLUMN BARS.SKR_IMPORT_DEALS.NMK IS '';
COMMENT ON COLUMN BARS.SKR_IMPORT_DEALS.NLSK IS '';
COMMENT ON COLUMN BARS.SKR_IMPORT_DEALS.MFOK IS '';
COMMENT ON COLUMN BARS.SKR_IMPORT_DEALS.BRANCH IS '';
COMMENT ON COLUMN BARS.SKR_IMPORT_DEALS.ERROR IS '';
COMMENT ON COLUMN BARS.SKR_IMPORT_DEALS.IMPORTED IS '';
COMMENT ON COLUMN BARS.SKR_IMPORT_DEALS.NLS2909 IS 'Рахунок для розгортання залишку 2909';
COMMENT ON COLUMN BARS.SKR_IMPORT_DEALS.NLS3600 IS 'Рахунок для розгортання залишку 3600';




PROMPT *** Create  constraint PK_SKRIMPORTDEALS ***
begin   
 execute immediate '
  ALTER TABLE BARS.SKR_IMPORT_DEALS ADD CONSTRAINT PK_SKRIMPORTDEALS PRIMARY KEY (DEAL_NUM, BRANCH)
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE BRSDYND  ENABLE';
exception when others then
  if  sqlcode=-2260 or sqlcode=-2261 or sqlcode=-2264 or sqlcode=-2275 or sqlcode=-1442 then null; else raise; end if;
 end;
/




PROMPT *** Create  index PK_SKRIMPORTDEALS ***
begin   
 execute immediate '
  CREATE UNIQUE INDEX BARS.PK_SKRIMPORTDEALS ON BARS.SKR_IMPORT_DEALS (DEAL_NUM, BRANCH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE BRSDYND ';
exception when others then
  if  sqlcode=-955  then null; else raise; end if;
 end;
/





PROMPT ===================================================================================== 
PROMPT *** End *** ========== Scripts /Sql/BARS/Table/SKR_IMPORT_DEALS.sql =========*** End 
PROMPT ===================================================================================== 
