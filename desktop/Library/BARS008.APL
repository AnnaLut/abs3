.head 0 +  Application Description: ! BARS008.APD - Dynalib 
! BARS008.APL - ДИЛИНГ - МЕЖБАНКОВСКИЕ КРЕДИТЫ 
! ООО Унити-Барс  ( C )  1996-2001
! Разработчик: СУХОВА

.head 1 -  Outline Version - 4.0.26
.head 1 +  Design-time Settings
.data VIEWINFO
0000: 6F00000003000000 FFFF01000D004347 5458566965775374 6174650400010000
0020: 0000000000100000 002C000000030000 0003000000000000 005D020000F8FFFF
0040: FFE2FFFFFFB5FFFF FFFEFFFFFFE10200 004F020000010000 0001000000010000
0060: 000F4170706C6963 6174696F6E497465 6D00000000000001 8002000200000000
0080: 000000000000002C 0000000000000001 000000FFFFFFFFFF FFFFFFF8FFFFFFE2
00A0: FFFFFF4200000042 00000024040000B1 0200000000000000 000000030000000F
00C0: 4170706C69636174 696F6E4974656D12 496E7465726E616C 2046756E6374696F
00E0: 6E7306496E693030 3800000000
.enddata
.data DT_MAKERUNDLG
0000: 0200000000001E71 3A5C626172733938 5C6C696272617279 5C524547434C4E45
0020: 582E646C6C1E713A 5C6261727339385C 6C6962726172795C 524547434C4E4558
0040: 2E61706300000101 011E713A5C626172 7339385C6C696272 6172795C52454743
0060: 4C4E45582E72756E 1E713A5C62617273 39385C6C69627261 72795C524547434C
0080: 4E45582E646C6C1E 713A5C6261727339 385C6C6962726172 795C524547434C4E
00A0: 45582E6170630000 010101175C424152 5339385C42494E5C 424152533030382E
00C0: 415044175C424152 5339385C42494E5C 70726F636170692E 646C6C175C424152
00E0: 5339385C42494E5C 70726F636170692E 6170630000010101 001E713A5C626172
0100: 7339385C6C696272 6172795C52454743 4C4E45582E646C6C 1E713A5C62617273
0120: 39385C6C69627261 72795C524547434C 4E45582E61706300 00010101
.enddata
.head 2 -  Outline Window State: Normal
.head 2 +  Outline Window Location and Size
.data VIEWINFO
0000: 6600040003002D00 0000000000000000 0000B71E5D0E0500 1D00FFFF4D61696E
0020: 0000000000000000 0000000000000000 0000003B00010000 00000000000000E9
0040: 1E800A00008600FF FF496E7465726E61 6C2046756E637469 6F6E730000000000
0060: 0000000000000000 0000000000003200 0100000000000000 0000E91E800A0000
0080: DF00FFFF56617269 61626C6573000000 0000000000000000 0000000000000000
00A0: 3000010000000000 00000000F51E100D 0000F400FFFF436C 6173736573000000
00C0: 0000000000000000 0000000000000000
.enddata
.data VIEWSIZE
0000: D000
.enddata
.head 3 -  Left:   -0.013"
.head 3 -  Top:    0.0"
.head 3 -  Width:  8.013"
.head 3 -  Height: 4.969"
.head 2 +  Options Box Location
.data VIEWINFO
0000: 0518B80BB80B2500
.enddata
.data VIEWSIZE
0000: 0800
.enddata
.head 3 -  Visible? Yes
.head 3 -  Left:   4.15"
.head 3 -  Top:    1.885"
.head 3 -  Width:  3.8"
.head 3 -  Height: 2.073"
.head 2 +  Class Editor Location
.head 3 -  Visible? No
.head 3 -  Left:   0.575"
.head 3 -  Top:    0.094"
.head 3 -  Width:  5.063"
.head 3 -  Height: 2.719"
.head 2 +  Tool Palette Location
.head 3 -  Visible? No
.head 3 -  Left:   6.388"
.head 3 -  Top:    0.729"
.head 2 -  Fully Qualified External References? Yes
.head 2 -  Reject Multiple Window Instances? No
.head 2 -  Enable Runtime Checks Of External References? Yes
.head 2 -  Use Release 4.0 Scope Rules? No
.head 1 +  Libraries
.head 2 -  Dynalib: Global.apd
.head 2 -  Dynalib: Message.apd
.head 2 -  Dynalib: Absapi.apd
.head 2 -  Dynalib: Bars010.apd
.head 2 -  Dynalib: Custacnt.apd
.head 2 -  Dynalib: Nsiapi.apd
.head 2 -  Dynalib: BARS008f.APD
.head 2 -  Dynalib: BARS008c.APD
.head 2 -  Dynalib: Bars017.apd
.head 2 -  Dynalib: Bars017r.apd
.head 2 -  Dynalib: CC_DOC.APD
.head 2 -  Dynalib: BARS013.APD
.head 2 -  Dynalib: DOCVIEW.APD
.head 2 -  !
.head 2 -  File Include: Gentbl.apl
.head 2 -  File Include: GentblD.apl
.head 2 -  File Include: Genlist.apl
.head 2 -  File Include: Genlabel.apl
.head 2 -  File Include: Winapi.apl
.head 2 -  File Include: Genemnu.apl
.head 2 -  File Include: Vtfile.apl
.head 2 -  !
.head 2 -  File Include: Docwis6.apl
.head 2 -  File Include: vttblwin.apl
.head 2 -  File Include: Xsalcpt.apl
.head 2 -  File Include: XSALIMG.APL
.head 1 +  Global Declarations
.head 2 +  Window Defaults
.head 3 +  Tool Bar
.head 4 -  Display Style? Etched
.head 4 -  Font Name: MS Sans Serif
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: System Default
.head 4 -  Text Color: System Default
.head 4 -  Background Color: System Default
.head 3 +  Form Window
.head 4 -  Display Style? Etched
.head 4 -  Font Name: MS Sans Serif
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: System Default
.head 4 -  Text Color: System Default
.head 4 -  Background Color: System Default
.head 3 +  Dialog Box
.head 4 -  Display Style? Etched
.head 4 -  Font Name: MS Sans Serif
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: System Default
.head 4 -  Text Color: System Default
.head 4 -  Background Color: System Default
.head 3 +  Top Level Table Window
.head 4 -  Font Name: MS Sans Serif
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: System Default
.head 4 -  Text Color: System Default
.head 4 -  Background Color: System Default
.head 3 +  Data Field
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 4 -  Text Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  Multiline Field
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 4 -  Text Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  Spin Field
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 4 -  Text Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  Background Text
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 4 -  Text Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  Pushbutton
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 3 +  Radio Button
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 4 -  Text Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  Check Box
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 4 -  Text Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  Option Button
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 3 +  Group Box
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 4 -  Text Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  Child Table Window
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 4 -  Text Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  List Box
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 4 -  Text Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  Combo Box
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 4 -  Text Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  Line
.head 4 -  Line Color: Use Parent
.head 3 +  Frame
.head 4 -  Border Color: Use Parent
.head 4 -  Background Color: 3D Face Color
.head 3 +  Picture
.head 4 -  Border Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 2 +  Formats
.head 3 -  Number: 0'%'
.head 3 -  Number: #0
.head 3 -  Number: ###000
.head 3 -  Number: ###000;'($'###000')'
.head 3 -  Date/Time: hh:mm:ss AMPM
.head 3 -  Date/Time: M/d/yy
.head 3 -  Date/Time: MM-dd-yy
.head 3 -  Date/Time: dd-MMM-yyyy
.head 3 -  Date/Time: MMM d, yyyy
.head 3 -  Date/Time: MMM d, yyyy hh:mm AMPM
.head 3 -  Date/Time: MMMM d, yyyy hh:mm AMPM
.head 3 -  Date/Time: dd-MM-yy
.head 3 -  Date/Time: dd/MM/yyyy
.head 3 -  Number: ###00000
.head 3 -  Number: ###00000
.head 3 -  Number: 00000
.head 3 -  Number: ###000;'($'###000')'
.head 3 -  Number: #000
.head 2 +  External Functions
.head 2 +  Constants
.data CCDATA
0000: 3000000000000000 0000000000000000 00000000
.enddata
.data CCSIZE
0000: 1400
.enddata
.head 3 +  System
.head 3 +  User
.head 4 -  ! 10.06.2015
.head 4 -  String: AppVersion = '18. '
.head 4 -  String: AppCode    = 'MBDK. '
.head 2 +  Resources
.head 2 +  Variables
.head 3 -  Window Handle: hWin0
.head 3 -  Window Handle: hWin1
.head 3 -  Window Handle: hWin2
.head 3 -  Window Handle: hWin3
.head 3 -  Window Handle: hWin4
.head 3 -  Window Handle: hWin5
.head 3 -  Window Handle: hWinP
.head 3 -  Window Handle: hBANKI
.head 3 -  Window Handle: hWinW
.head 3 -  Window Handle: hWinF
.head 3 -  Window Handle: hNETTO
.head 3 -  Window Handle: hARC
.head 3 -  Window Handle: hRO
.head 3 -  Window Handle: hDeal
.head 3 -  Boolean: bApdInited
.head 3 -  Number: nFetchRes
.head 3 -  !
.head 3 -  ! Константа в назначении платежа по МежФил Привлечению-Размещению (3-й класс)
.head 3 -  String: sMBD_LET
.head 3 -  ! Константа в назначении платежа по Привлечению-Размещению (1-й класс)
.head 3 -  String: sMBD_TIK
.head 3 -  ! МБД в нац.вал. через транзит-1,  Без транзита-0
.head 3 -  Boolean: bMBD_NV
.head 3 -  ! Использовать в платежах МБДК для номера документа референс документа (REF) или номер договора МБДК (ND)
.head 3 -  String: sMBK_ND
.head 3 -  ! Минимальный набор полей для 3-го кл.
.head 3 -  Boolean: bMBK_MIN3
.head 3 -  ! БС РЕПО
.head 3 -  String: sMBK_REPONBS
.head 3 -  ! Признак НБУ
.head 3 -  Boolean: bNBUBANK
.head 3 -  ! Признак мультимфо
.head 3 -  Number: nHAVETOBO
.head 3 -  ! SWIFT
.head 3 -  Boolean: bSWIFT
.head 3 -  Boolean: bSWIFT_MB
.head 3 -  Boolean: bTELEX
.head 3 -  Boolean: bGPK
.head 3 -  Boolean: bMBK7
.head 2 +  Internal Functions
.head 3 +  Function: Sel008	! __exported
.head 4 -  Description: Bars008_Selector
.head 4 -  Returns
.head 4 +  Parameters
.head 5 -  Window Handle: hWndParent
.head 5 -  Number: nMode
.head 5 -  Number: nPar
.head 5 -  String: strPar01
.head 5 -  String: strPar02
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Call Ini008()
.head 5 -  ! 0-12: MBDK+FOREX
.head 5 +  Select Case nMode
.head 6 +  Case 0	! Портфель межбанковских КРЕДИТОВ-Депозитов
.head 7 +  If not IsWindow(hNETTO)
.head 8 -  Set hNETTO = SalCreateWindow(NETTO, hWndMDI, nMode, nPar, strPar01, strPar02)
.head 7 +  Else
.head 8 -  Call SalBringWindowToTop(hNETTO)
.head 7 -  Break
.head 6 +  ! Case 2	! Ввод сделок на межбанковский КРЕДИТ-Депозит
.head 7 +  If not IsWindow(hWin2)
.head 8 -  Set hWin2 = SalCreateWindow(KRE_DEPO, hWndParent, nMode, nPar, strPar01, strPar02)
.head 7 +  Else 
.head 8 -  Call SalBringWindowToTop(KRE_DEPO)
.head 7 -  Break 
.head 6 +  Case 2	! Ввод сделок на межбанковский КРЕДИТ-Депозит
.head 7 -  Call SalCreateWindow(KRE_DEPO, hWndParent, nMode, nPar, strPar01, strPar02)
.head 7 -  Break
.head 6 +  Case 1	! Ввод сделок на межбанковский КРЕДИТ-Депозит
.head 7 +  If not IsWindow(hWin2)
.head 8 -  Set hWin2 = SalCreateWindow(KRE_DEPO, hWndParent, nMode, nPar, strPar01, strPar02)
.head 7 +  Else
.head 8 -  Call SalBringWindowToTop(KRE_DEPO)
.head 7 -  Break
.head 6 +  Case 3	! Просмотр своб.сч. на межбанк КРЕДИТ-Депозит
.head 7 +  If not IsWindow(hWin3)
.head 8 -  Set hWin3 = SalCreateWindow(KRE_DEPO1, hWndParent, nMode, nPar, strPar01, strPar02)
.head 7 +  Else
.head 8 -  Call SalBringWindowToTop(KRE_DEPO1)
.head 7 -  Break
.head 6 +  Case 4	! Партнеры-резиденты
.head 7 -  Call Sel008p(hWndMDI, 1, nPar)
.head 7 -  Break
.head 6 +  Case 5	! Партнеры-НеРезиденты
.head 7 -  Call Sel008p(hWndMDI, 2, nPar)
.head 7 -  Break
.head 6 +  Case 6	! Архив межбанковских КРЕДИТОВ-Депозитов
.head 7 +  If not IsWindow(hARC)
.head 8 -  Set hARC = SalCreateWindow(ARC, hWndMDI,nMode, nPar,strPar01,strPar02)
.head 7 +  Else
.head 8 -  Call SalBringWindowToTop ( ARC )
.head 7 -  Break
.head 6 -  ! FOREX
.head 6 +  Case 10
.head 7 -  Call Sel008f(hWndParent, nMode, nPar, strPar01, strPar02)
.head 7 -  Break
.head 6 +  Case 11
.head 7 -  Call Sel008f(hWndParent, nMode, nPar, strPar01, strPar02)
.head 7 -  Break
.head 6 +  Case 12
.head 7 -  Call Sel008f(hWndParent, nMode, nPar, strPar01, strPar02)
.head 7 -  Break
.head 6 +  Case 13	!
.head 7 +  If not IsWindow(hDeal)
.head 8 -  Set hDeal = SalCreateWindow(frmDeal, hWndMDI, nPar, strPar01)
.head 7 +  Else
.head 8 -  Call SalBringWindowToTop(hDeal)
.head 7 -  Break
.head 6 +  Case 14
.head 7 -  Call Sel008f(hWndParent, 13, nPar, strPar01, strPar02)
.head 7 -  Break
.head 5 -  ! 20-50: CB
.head 5 +  If nMode >= 20 and nMode <= 50
.head 6 -  Call Sel008c(hWndParent,nMode,nPar,strPar01,strPar02)
.head 5 -  ! 1000-...: Ввод сделок МБДК
.head 5 +  If nMode >= 1000
.head 6 +  ! If not IsWindow(hWin2)
.head 7 -  Set hWin2 = SalCreateWindow(KRE_DEPO, hWndParent, nMode, nPar, strPar01, strPar02)
.head 6 +  ! Else
.head 7 -  Call SalBringWindowToTop(KRE_DEPO)
.head 6 -  Call SalCreateWindow(KRE_DEPO, hWndParent, nMode, nPar, strPar01, strPar02)
.head 3 +  Function: Sel008p
.head 4 -  Description:
.head 4 -  Returns
.head 4 +  Parameters
.head 5 -  Window Handle: hWndParent
.head 5 -  Number: nMode
.head 5 -  Number: nPar
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 +  If not IsWindow(hBANKI)
.head 6 -  Set hBANKI = SalCreateWindow(BANKI, hWndMDI, nMode, nPar)
.head 5 +  Else
.head 6 -  Call SalBringWindowToTop(hBANKI)
.head 5 +  ! Select Case nMode
.head 6 +  Case 4 ! Партнеры-резиденты
.head 7 +  If not IsWindow(hBANKI)
.head 8 -  Set hBANKI = SalCreateWindow(BANKI, hWndMDI, nMode-3, nPar)
.head 7 +  Else 
.head 8 -  Call SalBringWindowToTop(hBANKI)
.head 7 -  Break 
.head 6 +  Case 5 ! Партнеры-НеРезиденты
.head 7 +  If not IsWindow(hBANKI)
.head 8 -  Set hBANKI = SalCreateWindow(BANKI, hWndMDI, nMode-3, nPar, strPar01, strPar02)
.head 7 +  Else 
.head 8 -  Call SalBringWindowToTop(hBANKI)
.head 7 -  Break 
.head 6 +  Default 
.head 7 -  Break 
.head 3 +  Function: Ini008
.head 4 -  Description: инициализация библиотеки
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: strPathToLangResources
.head 5 -  String: strLangId
.head 5 -  String: strFileName
.head 4 +  Actions
.head 5 +  If not bApdInited
.head 6 -  ! Константа в назначении платежа по МежФил Привлечению-Размещению (3-й класс)
.head 6 -  Set sMBD_LET  = GetGlobalOption('MBD_LET')
.head 6 -  ! Константа в назначении платежа по Привлечению-Размещению (1-й класс)
.head 6 -  Set sMBD_TIK  = GetGlobalOption('MBD_TIK')
.head 6 -  ! МБД в нац.вал. через транзит-1,  Без транзита-0
.head 6 -  Set bMBD_NV   = GetGlobalOptionEx('MBD_NV') = 1
.head 6 -  ! Использовать в платежах МБДК для номера документа референс документа (REF) или номер договора МБДК (ND)
.head 6 -  Set sMBK_ND   = GetGlobalOption('MBK_ND')
.head 6 -  ! Минимальный набор полей для 3-го кл.
.head 6 -  Set bMBK_MIN3 = GetGlobalOptionEx('MBK_MIN3') = 1
.head 6 -  ! БС РЕПО
.head 6 -  Set sMBK_REPONBS = GetGlobalOption('MBK_REPONBS')
.head 6 -  ! Признак НБУ
.head 6 -  Set bNBUBANK  = GetGlobalOptionEx('NBUBANK') = 1
.head 6 -  ! Признак мультимфо
.head 6 -  Set nHAVETOBO = GetGlobalOptionEx('HAVETOBO')
.head 6 -  ! SWIFT
.head 6 -  Set bTELEX    = GetGlobalOptionEx('TELEX') = 1
.head 6 -  Set bSWIFT    = GetGlobalOptionEx('SWIFT') = 1
.head 6 -  Set bSWIFT_MB = GetGlobalOptionEx('SWIFT_MB') = 1
.head 6 -  !
.head 6 -  Set bGPK  = GetValueStr("select count(*) from meta_tables where tabname = 'MBK_GPK0'") = '1'
.head 6 -  Set bMBK7 = GetValueStr("select count(*) from meta_tables where tabname = 'MBK7'") = '1'
.head 6 -  !
.head 6 -  Set bStaticsAsWindows = TRUE
.head 6 -  Set strPathToLangResources = GetLangPath()
.head 6 -  Set strLangId = GetLang()
.head 6 -  Set strFileName = strPathToLangResources || "\\" || strLangId || "\\bars008.lng"
.head 6 +  If (NOT strLangId) OR (NOT CurrentLangTable.InitFromFile( strFileName, strLangId ))
.head 7 -  Call CurrentLangTable.Init()
.head 7 -  ! ====================================================
.head 7 -  Call CurrentLangTable.AddAtom('cTAt', 'Внимание!')
.head 7 -  Call CurrentLangTable.AddAtom('cTErr','Ошибка!')
.head 7 -  Call CurrentLangTable.AddAtom('cTInfo','Информация')
.head 7 -  Call CurrentLangTable.AddAtom('cTNaznGenUgoda','Ген.угода')
.head 7 -  Call CurrentLangTable.AddAtom('cTNaznDogovor', 'Договір')
.head 7 -  Call CurrentLangTable.AddAtom('cTNaznOt', 'вiд')
.head 7 -  Call CurrentLangTable.AddAtom('cTMessRef','Реф.')
.head 7 -  Call CurrentLangTable.AddAtom('cTShow','Просмотр')
.head 7 -  Call CurrentLangTable.AddAtom('cBTipRez', 'Партнеры-Резиденты')
.head 7 -  Call CurrentLangTable.AddAtom('cBTipNRez','Партнеры-НеРезиденты')
.head 7 -  Call CurrentLangTable.AddAtom('cBTipBuch','Просмотр Бух.модели сделки')
.head 7 -  Call CurrentLangTable.AddAtom('cBTipPasport','Паспорт клиента-контрагента')
.head 7 -  Call CurrentLangTable.AddAtom('cBTipPrcAcc', 'Открытые счета контрагента')
.head 7 -  Call CurrentLangTable.AddAtom('cBTipArch',   'Архив всех сделок')
.head 7 -  Call CurrentLangTable.AddAtom('cBTipTiket',  'Печать тикета сделки')
.head 7 -  Call CurrentLangTable.AddAtom('cBTipPoisk',  'Поиск контрагента')
.head 7 -  Call CurrentLangTable.AddAtom('cBTipProL',   'Відомості про зміни в угоді')
.head 7 -  Call CurrentLangTable.AddAtom('cTRNK', 'Рег.№')
.head 7 -  Call CurrentLangTable.AddAtom('cTOKPO','ОКПО')
.head 7 -  Call CurrentLangTable.AddAtom('cTMFO', 'МФО')
.head 7 -  Call CurrentLangTable.AddAtom('cTBIC', 'BIC')
.head 7 -  Call CurrentLangTable.AddAtom('cTND',  '№ ген.соглашения')
.head 7 -  Call CurrentLangTable.AddAtom('cTKOD_BB','1-ПБ')
.head 7 -  Call CurrentLangTable.AddAtom('cTNLS', 'Основной')
.head 7 -  Call CurrentLangTable.AddAtom('cTNLSN','Начисленных %')
.head 7 -  Call CurrentLangTable.AddAtom('cTTipd0','Размещение')
.head 7 -  Call CurrentLangTable.AddAtom('cTTipd1','Привлечение')
.head 7 -  ! ====================================================
.head 7 -  ! ARC
.head 7 -  Call CurrentLangTable.AddAtom('ARC.cTWndTitle','АРХИВ МБ кредитов и депозитов')
.head 7 -  ! column
.head 7 -  Call CurrentLangTable.AddAtom('ARC.DAT',  'Дата~Заключения')
.head 7 -  Call CurrentLangTable.AddAtom('ARC.CC_ID','№ дог~(тикета)')
.head 7 -  Call CurrentLangTable.AddAtom('ARC.DAT1', 'Дата~Начала')
.head 7 -  Call CurrentLangTable.AddAtom('ARC.DAT2', 'Дата~окончания')
.head 7 -  Call CurrentLangTable.AddAtom('ARC.KV',   'Вал')
.head 7 -  Call CurrentLangTable.AddAtom('ARC.S',    'Размещ/~Привлечение')
.head 7 -  Call CurrentLangTable.AddAtom('ARC.P',    '%~ст')
.head 7 -  Call CurrentLangTable.AddAtom('ARC.NMK',  'Наименование')
.head 7 -  Call CurrentLangTable.AddAtom('ARC.ND',   'Реф')
.head 7 -  Call CurrentLangTable.AddAtom('ARC.NLS',  'ЛС')
.head 7 -  Call CurrentLangTable.AddAtom('ARC.NLSN', 'ЛС~нач.%')
.head 7 -  Call CurrentLangTable.AddAtom('ARC.RNK',  'Рег №')
.head 7 -  Call CurrentLangTable.AddAtom('ARC.US',   'Исп')
.head 7 -  Call CurrentLangTable.AddAtom('ARC.KPROLOG','Кол~прол')
.head 7 -  Call CurrentLangTable.AddAtom('ARC.colZalog','Залог')
.head 7 -  ! button strTip
.head 7 -  Call CurrentLangTable.AddAtom('ARC.cBTipTiket','Печать тикета сделки из архива')
.head 7 -  ! ====================================================
.head 7 -  ! BANKI
.head 7 -  ! column
.head 7 -  Call CurrentLangTable.AddAtom('BANKI.ND',  '№~ГЕН.~соглашения')
.head 7 -  Call CurrentLangTable.AddAtom('BANKI.DAT_ND','Дата~ГЕН.~соглашения')
.head 7 -  Call CurrentLangTable.AddAtom('BANKI.RNK', 'Рег №')
.head 7 -  Call CurrentLangTable.AddAtom('BANKI.OKPO','ОКПО')
.head 7 -  Call CurrentLangTable.AddAtom('BANKI.NMK', 'Наименование')
.head 7 -  Call CurrentLangTable.AddAtom('BANKI.MFO', 'МФО')
.head 7 -  Call CurrentLangTable.AddAtom('BANKI.NB',  'Наименование~банка по S_UCH')
.head 7 -  Call CurrentLangTable.AddAtom('BANKI.BIC', 'BIC-код')
.head 7 -  Call CurrentLangTable.AddAtom('BANKI.KOD_B','1_ПБ')
.head 7 -  Call CurrentLangTable.AddAtom('BANKI.LIM', 'Лимит')
.head 7 -  Call CurrentLangTable.AddAtom('BANKI.NMKK','Наименование~краткое')
.head 7 -  ! button strTip
.head 7 -  Call CurrentLangTable.AddAtom('BANKI.cBTipPrcAcc', 'Открытые счета клиента')
.head 7 -  ! constants
.head 7 -  Call CurrentLangTable.AddAtom('BANKI.cTTitle1','Контрагенты HEрезиденты')
.head 7 -  Call CurrentLangTable.AddAtom('BANKI.cTTitle2','Контрагенты резиденты')
.head 7 -  ! ====================================================
.head 7 -  ! Dlg_Plat
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat.cTWndTitle','Платежи по сделке')
.head 7 -  !
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat.pb1', 'KV2 (грн), KV3 (вал) Отправить на размещение ОСНОВНУЮ сумму')
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat.pb2', 'WD1 Принять погашение ОСНОВНОЙ суммы')
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat.pb3', 'WD1 Принять погашение ПРОЦЕНТОВ')
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat.pb4', 'WD1 Принять на привлечение ОСНОВНУЮ сумму')
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat.pbPD','%%1 Начислить ПРОЦЕНТЫ /доходы')
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat.pbPR','%%1 Начислить ПРОЦЕНТЫ /расходы')
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat.pb5', 'WD2 (грн), WD3(вал) Отправить возврат ОСНОВНОЙ суммы')
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat.pb6', 'WD2(грн), WD3(вал) Отправить начисленные ПРОЦЕНТЫ')
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat.cb_SWIFT', 'Автоматическое поступление из платежной системы')
.head 7 -  ! button strTip
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat.cBTip9','Перечитать состояние возможных операций')
.head 7 -  ! nazn text
.head 7 -  ! pb1
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat.cTNazn11','Кошти наданi')
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat.cTNazn12','Ставка')
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat.cTNazn13','% рiчних.')
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat.cTNazn14','Термiн погашення')
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat.cTNazn15','Застава ДЦП.')
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat.cTNazn16','Пролонгація')
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat.cTNazn17','Розміщення')
.head 7 -  ! pb2
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat.cTNazn21','Погашення кредиту.')
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat.cTNazn22','Розпорядження №')
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat.cTNazn23','Погашення розміщень')
.head 7 -  ! pb3
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat.cTNazn31','Погашення нарах.дох.')
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat.cTNazn32','Погашення процентів по розміщенню')
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat.cTNazn33','Фактично отримані дох.')
.head 7 -  ! pb4
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat.cTNazn41','Залучення')
.head 7 -  ! pb5
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat.cTNazn51','Повернення залучень')
.head 7 -  ! pb6
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat.cTNazn61','Погашення процентів по залученням')
.head 7 -  !
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat.cTNazn71','Розп.НБУ №')
.head 7 -  ! ====================================================
.head 7 -  ! Dlg_Plat1
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat1.cTWndTitle','Раскрыть дебеторскую задолженность')
.head 7 -  ! button strTip
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat1.cBTip11','Подтвердить дату и сумму')
.head 7 -  ! BG
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat1.bgDat','Дата')
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat1.bgSum','Сумма')
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat1.bgNazn','Назначение платежа')
.head 7 -  ! message text
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat1.cTMess1','Раскрыта деб.задолж. по счету')
.head 7 -  Call CurrentLangTable.AddAtom('Dlg_Plat1.cTMess2','Фактично отримані дох.')
.head 7 -  ! ====================================================
.head 7 -  ! FREE
.head 7 -  ! column
.head 7 -  Call CurrentLangTable.AddAtom('FREE.tbl.NLS1','Основной~счет')
.head 7 -  Call CurrentLangTable.AddAtom('FREE.tbl.DAT1','Дата~завершения~осн.')
.head 7 -  Call CurrentLangTable.AddAtom('FREE.tbl.OST1','Остаток~основного~счета')
.head 7 -  Call CurrentLangTable.AddAtom('FREE.tbl.NLS2','Счет~начисленных %%')
.head 7 -  Call CurrentLangTable.AddAtom('FREE.tbl.DAT2','Дата~завершения~нач.%%')
.head 7 -  Call CurrentLangTable.AddAtom('FREE.tbl.OST2','Остаток~счета~начисленных %%')
.head 7 -  ! constants
.head 7 -  Call CurrentLangTable.AddAtom('FREE.cTTitle1','Свободные счета контрагента')
.head 7 -  Call CurrentLangTable.AddAtom('FREE.cTTitle2','Вал.')
.head 7 -  Call CurrentLangTable.AddAtom('FREE.cTTitle3','Cчета контрагента')
.head 7 -  Call CurrentLangTable.AddAtom('FREE.cTTitle4','Вне портфеля')
.head 7 -  Call CurrentLangTable.AddAtom('FREE.cTTitle5','В портфеле')
.head 7 -  ! ====================================================
.head 7 -  ! NETTO
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cTWndTitle','Позиция по МБ Кредиту-Депозиту')
.head 7 -  ! column
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.PL',  'Пл')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.DAT', 'Дата~начала')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.DAT_V','Дата~валютир.')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.DAT2','Дата~окончания')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.NMK', 'Наименование')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.KV',  'Вал')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.NLS', 'ЛС')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.ND',  'Реф')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.OSTC','Текущий~остаток')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.KPROLOG','Кол~прол')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.P1',  '%~ст')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.NLSN','ЛС~нач.%')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.OSTN','Сумма~нач.%')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.S1',  'Размещ/~Привлечение')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.OSTB','Плановый~остаток')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.OSTF','Форвардный~остаток')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.CC_ID','№ дог~(тикета)')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.D1',  'Срок')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.SROK','Ост~срок')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.US',  'Исп')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.colZalog','Залог')
.head 7 -  ! button strTip
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cBTipPrintDeal','Печать договора')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cBTipDel',    'Изъятие сделки-ПУСТЫШКИ из портфеля')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cBTipDelRO',  'Откат СЕГОДНЯШНЕЙ сделки RollOver')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cBTipUpdate', 'Коррекция № тикета')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cBTipDetails','Счета по ОДНОМУ договору')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cBTipPay',    'Сформировать платежи по ОДНОМУ договору')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cBTipProc',   'Начислить %% по ПОРТФЕЛЮ')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cBTipAll_Pay','Сформировать ВСЕ текущие Возвраты')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cBTipAll_Proc','Сформировать ВСЕ текущие Возвраты %%')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cBTipRoll',   'Пролонгация. Изменить параметры сделки')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cBTipZalog',  'Новые Договора ОБЕСПЕЧЕНИЯ на выбранный договор РАЗМЕЩЕНИЯ')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cBTipZalog_All', 'Существующие Договора ОБЕСПЕЧЕНИЯ на выбранный договор РАЗМЕЩЕНИЯ')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cBTipZ','Связь Договоров ОБЕСПЕЧЕНИЯ и выбранного договора РАЗМЕЩЕНИЯ')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cBTipLinkZal','Привязать операцию залога')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cBTipP','Отвязать залог ДЦП')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cBTipUnLinkRef','Отвязать документ')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cBTipUnLinkAcc','Отвязать счет залога')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cBTipCreateSWT', 'Сформировать SWIFT сообщение')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cBTipILinkSWT',  'Привязать входящее SWIFT сообщение')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cBTipIUnLinkSWT','Отвязать входящее SWIFT сообщение')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cBTipIViewSWT',  'Просмотреть входящее SWIFT сообщение')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cBTipOLinkSWT',  'Привязать исходящее SWIFT сообщение')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cBTipOUnLinkSWT','Отвязать исходящее SWIFT сообщение')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cBTipOViewSWT',  'Просмотреть исходящее SWIFT сообщение')
.head 7 -  ! nazn text
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cTNazn1','Повернення залучень')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cTNazn2','Договір')
.head 7 -  ! message text
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cTMessProv','Сформированы проводки !, Изъятие невозможно !')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cTMessDel1','Вы уверены, что хотите ИЗЪЯТЬ сделку')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cTMessDel2','Изъята сдека МБ из ПОРТФЕЛЯ')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cTMessTik', 'Изменен № тик.')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cTMessAvto','Авто-платеж на возврат МБ')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cTMessDelRO', 'Вы уверены, что хотите вернуть сделку RollOver')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cTMessDelRO1','По договору')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cTMessDelRO2','сформированы проводки !')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cTMessDelRO3','Вернуть проводки и продолжить откат сделки RollOver?')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cTMessDelRO4','сформированы межбанковские платежи.')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cTMessDelRONo','Невозможно откатить сделку RollOver!')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cTMessDelROOk','Успешно изъяли сделку RollOver')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cTMsgCreateSWT','Сформировано SWIFT сообщение')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cTMsgLinkSWT',  'Привязано SWIFT сообщение')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cTMsgUnLinkSWT','Отвязано SWIFT сообщение')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cTMsgUnLinkDCP','Отвязан залог ДЦП')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cTMsgUnLinkRef','Отвязан документ')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cTMsgUnLinkAcc','Отвязан счет')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cTMsgQstUnLinkAcc','Отвязать счет')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cTMsgQstUnLinkRef1','Отвязать документ')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cTMsgQstUnLinkRef2','от договора')
.head 7 -  ! error text
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cTErrAvto','Неуспешный авто-платеж на возврат МБ')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cTErrProc','Ошибка при выполнении процедуры !')
.head 7 -  ! constants
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cTItog1','Итог размещений (экв)')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cTItog2','Итог привлечений (экв)')
.head 7 -  Call CurrentLangTable.AddAtom('NETTO.cTItog3','NETTO (экв)')
.head 7 -  ! ====================================================
.head 7 -  ! KRE_DEPO
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cTWndTitle','Ввод сделок по МБД - МБК')
.head 7 -  ! field
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cb_DCP', 'Залог "ДЦП"')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cb_LORO','Внутрішні')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cbLimitB','Ліміт коррахунку')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cbCapitalization','Капитализация')
.head 7 -  ! button strTip
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cBTipPrintDeal','Печать договора')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cBTipPortfel','Портфель текущих сделок')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cBTipOk1',    'Сохранить сделку')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cBTipAcc',    'Счета по сделке')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cBTipProc',   'Проценты')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cBTipPay',    'Платежи')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cBTipNew',    'Очистить окно ввода')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cBTipCancel1','Выйти')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cBTipFree',   'Свободные счета без остатка')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cBTipFree1',  'Все свободные счета (в тч с остатком) вне потрфеля')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cBTipFree2',  'Все свободные счета с остатком в потрфеле')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cBTipFromSWT',  'Сформировать сделку по SWIFT сообщению')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cBTipCreateSWT','Сформировать SWIFT сообщение')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cBTipSWDetail','Ввод доп. реквизитов SWIFT')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cBTipSavePartner','Сохранение трасс для партнера')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cBTipViewSWT','Просмотр сформированного сообщения')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cBTipSearchBICB','Поиск участника SWIFT')
.head 7 -  !
.head 7 -  ! field strTip
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cFTipKV',   'Валюта')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cFTipNBKA',  'Наименование счета для входа валюты')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cFTipProcStavka','% ставка')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cFTipRNKB', 'Рег.№ партнера')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cFTipOKPOB','ОКПО партнера')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cFTipMFOB', 'МФО партнера')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cFTipBICB', 'BIC партнера')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cFTipND',   '№ ген.соглашения')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cFTipKOD_BB','Код 1-ПБ партнера')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cFTipBICKB','BIC банка-корресп партнера')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cFTipSSLB', 'Счет VOSTRO партнера у его банка-корресп')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cFTipBICKA','BIC нашего банка-корреспонд')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cFTipSSLA', 'Счет VOSTRO у нашего банка-корреспонд')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cFTipSSA',  'Счет для входа валюты')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cFTipDB_1819','Счет-транзит')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cFTipKv',   'Вал.счета-транзита')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cFTipOst_DB_1819','Остаток на счете-транзите')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cFTipLim',  'Неснижаемый остаток партнера у нас (Лимит)')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cFTipOstBQ','Плановый остаток партнера у нас (Акт.ост. в экв)')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cFTipPLBQ', 'Свободная сумма ( Лим - Акт.ост)')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cFTipKvZ',  'Вал обеспечения')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cFTipSummaZ','Сумма обеспечения')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cFTipNLSZ',  'Счет обеспечения')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cFTipOst_Zal','Остаток на счете обеспечения')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cFTipFN_DCP', 'Файл из депозитария')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cFTipId_Ug_DCP', 'Ид.договора из депозитария')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cFTipDat_Ug_DCP','Дата договора из депозитария')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cFTipNLS_LORO',  'LORO - счет')
.head 7 -  ! BG
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.bgVIDD',  'Вид договора')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.bgKV',    'Вал')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.bgSumma', 'Сумма')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.bgBaseC',  'Базовая цена')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.bgCC_ID', 'N тикета/договора')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.bgDatWidKre','Начало')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.bgDatValDog','Валютирование')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.bgDatEndDog','Завершение')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.bgProcStavka','% ставка')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.bgBasey', '% база')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.bgSummaP','Сумма %%')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.bgSummaP_V','в баз. валюте')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.bgBaseC','Базовая цена')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.bgAccDox','Счет доходов')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.bgObesp', 'Обеспечение')
.head 7 -  ! nazn text
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cTNazn1','Застава згідно угоди')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cTNazn2','Повернення застави згідно угоди')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cTNazn3','% по дог.')
.head 7 -  ! message text
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cTMessQuestSave','Сохранить сделку?')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cTMessRekv','Реквизиты договора введены')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cTMessDeal','Сделка')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cTMessSave','СОХРАНЕНА')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cTMessNotSave','НЕ сохранена!')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cTMessOffis',  'Передано в БЭК-офис')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cTMessAccOst', 'Внимание! Используются счета с остатком!')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cTMessNotOpenAcc','Не открыт счет')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cTMessNoSave', 'сохранение невозможно')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cTMessAccNotFound','Счет не найден !')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cTMessYet','Попробуем еще раз?')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cTMessCcIdAlreadyExists','Договор с таким номером уже существует!')
.head 7 -  ! error text
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cTErrPar',    'Ошибочные параметры сделки, сохранение невозможно')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cTErrPROC_DR','Не заполнен справочник PROC_DR, сохранение невозможно')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cTErrOpenAcc','Невозможно откр.счет')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cTErrExecOp', 'Невозможно выполнить оп')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cTErrInsert', 'Невозможно внести в')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cTErrGrp',    'Невозможно проставить группу дост')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cTErrKR',     'Ош.счет(контр.разряд).~Попробуем еще раз?')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cTErrLoro',   'Лоро')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cTErrNostro', 'Ностро')
.head 7 -  ! constants
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cTNMS', 'НАД.')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cTNMSN','НАР.ДОХ.')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cTBICKB','Трасса платежа исходящего (57-BIC, 58-Счет)')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO.cTBICKA','Трасса платежа входящего (57-BIC, 58-Счет)')
.head 7 -  ! ====================================================
.head 7 -  ! KRE_DEPO1
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO1.cTWndTitle','Поиск свободного счета для сделки')
.head 7 -  ! BG
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO1.bgVIDD',  'Вид договора')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO1.bgKV',    'Валюта')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO1.bgMFOB',  'МФО')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO1.bgBICB',  'BIC')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO1.bgOKPOB', 'ОКПО')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO1.bgRNKB',  'Рег.№')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO1.bgND',    '№ ген.соглашения')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO1.bgKOD_BB','1_ПБ')
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO1.bgNMKB',  'Наименование')
.head 7 -  ! error text
.head 7 -  Call CurrentLangTable.AddAtom('KRE_DEPO1.cTErrAcc','Нет похожих')
.head 7 -  ! ====================================================
.head 7 -  ! frmDeal
.head 7 -  Call CurrentLangTable.AddAtom('frmDeal.cTWndTitle','Просмотр сделки')
.head 7 -  ! ====================================================
.head 7 -  ! RO
.head 7 -  Call CurrentLangTable.AddAtom('RO.cTWndTitle','Изменение параметров сделки на МБ')
.head 7 -  ! field
.head 7 -  Call CurrentLangTable.AddAtom('RO.cb_NEW','Новая сделка')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cbCapitalization','Капитализация')
.head 7 -  ! button strTip
.head 7 -  Call CurrentLangTable.AddAtom('RO.cBTipUpdate','Сохранить новые параметры')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cBTipExit',  'Выйти')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cBTipPay',   'Сформировать платежи по ОДНОМУ договору')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cBTipFree',  'Свободные счета без остатка')
.head 7 -  ! field strTip
.head 7 -  Call CurrentLangTable.AddAtom('RO.cFTipGND',    '№ ген.соглашения')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cFTipDAT_GND','Дата ген.соглашения')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cFTipRnk',    'Рег.№ партнера')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cFTipNmk',    'Наименование партнера')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cFTipKPROLOG','Количество изменений')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cFTipNKv',    'Код вал')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cFTipSKv',    'Наименование вал')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cFTipNVidd',  'Код вида сделки')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cFTipSVidd',  'Наименование вида сделки')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cFTipOst',    'Остаток на основном счете')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cFTipOstN',   'Остаток на счете нач.%')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cFTipDB_1819','Счет деб.задолженности')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cFTipOst_DB_1819','Остаток на счете деб.задолженности')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cFTipCC_ID','№ предыдущего тикета')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cFTipDAT',  'Дата предыдущего тикета')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cFTipCC_ID_NEW',  '№ нового тикета')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cFTipNEW',  'Новая/Предыдущая сделка')
.head 7 -  ! BG
.head 7 -  Call CurrentLangTable.AddAtom('RO.bgRNum', '№ распоряжения')
.head 7 -  Call CurrentLangTable.AddAtom('RO.bgGND',  '№ ген.договора и дата')
.head 7 -  Call CurrentLangTable.AddAtom('RO.bgCC_ID','№ тек.сделки и дата')
.head 7 -  Call CurrentLangTable.AddAtom('RO.bgDATK', 'Дата завершения')
.head 7 -  Call CurrentLangTable.AddAtom('RO.bgDATN', 'Дата начала')
.head 7 -  Call CurrentLangTable.AddAtom('RO.bgS',    'Сумма договора')
.head 7 -  Call CurrentLangTable.AddAtom('RO.bgPr',   '% ставка')
.head 7 -  Call CurrentLangTable.AddAtom('RO.bgIntS', 'Сумма процентов')
.head 7 -  Call CurrentLangTable.AddAtom('RO.bgLast', 'Предыдущее')
.head 7 -  Call CurrentLangTable.AddAtom('RO.bgNew',  'Новое')
.head 7 -  Call CurrentLangTable.AddAtom('RO.bgVIDD', 'Вид договора')
.head 7 -  Call CurrentLangTable.AddAtom('RO.bgZal',  'Обеспечение')
.head 7 -  Call CurrentLangTable.AddAtom('RO.bgKPROLOG','Пролонгаций')
.head 7 -  Call CurrentLangTable.AddAtom('RO.bgP',    'Приращение')
.head 7 -  ! nazn text
.head 7 -  Call CurrentLangTable.AddAtom('RO.cTNaznRO','Пролонгація по договору')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cTNazn1', 'Пролонгація')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cTNazn2', 'Просрочено')
.head 7 -  ! message text
.head 7 -  Call CurrentLangTable.AddAtom('RO.cTMess1','переведен остаток')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cTMess2','Дата')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cTMess3','% ст')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cTMess4','Сумма')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cTMess5','Успешно изъли/скорректировали  форвард.')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cTMess6','Некорректно заполнены данные по счетам.')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cTMess7','Оставить старые значения?')
.head 7 -  ! error text
.head 7 -  Call CurrentLangTable.AddAtom('RO.cTErr1','Невозможно ИЗЪЯТЬ форвард.')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cTErr2','Недопустимый изменяемый вид договора!')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cTErr3','Не изменили вид договора!')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cTErr4','Заполнены не все реквизиты!')
.head 7 -  Call CurrentLangTable.AddAtom('RO.cTErrUpdateAcc','Не удалось изменить счета сделки!')
.head 7 -  ! ====================================================
.head 7 -  ! RO1
.head 7 -  Call CurrentLangTable.AddAtom('RO1.cTWndTitle','Відомості про зміни в угоді')
.head 7 -  ! field strTip
.head 7 -  Call CurrentLangTable.AddAtom('RO1.cFTipND','внутрішній Реф.угоди')
.head 7 -  Call CurrentLangTable.AddAtom('RO1.cFTipNmk','Назва партнеру')
.head 7 -  Call CurrentLangTable.AddAtom('RO1.cFTipCC_ID','Номер угоди')
.head 7 -  Call CurrentLangTable.AddAtom('RO1.cFTipDAT1','Дата угоди')
.head 7 -  ! column
.head 7 -  Call CurrentLangTable.AddAtom('RO1.FDAT','Дата~змін')
.head 7 -  Call CurrentLangTable.AddAtom('RO1.NPP','№~п/п')
.head 7 -  Call CurrentLangTable.AddAtom('RO1.KV','Вал')
.head 7 -  Call CurrentLangTable.AddAtom('RO1.NLS','Осн.рахунок')
.head 7 -  Call CurrentLangTable.AddAtom('RO1.TXT','Опис змін')
.head 7 -  ! ====================================================
.head 7 -  ! dlgLinkZal
.head 7 -  Call CurrentLangTable.AddAtom('dlgLinkZal.cTWndTitle','Привязка документа залога')
.head 7 -  Call CurrentLangTable.AddAtom('dlgLinkZal.rbOldRef','привязать документ залога')
.head 7 -  Call CurrentLangTable.AddAtom('dlgLinkZal.rbNewRef','создать документ залога')
.head 7 -  Call CurrentLangTable.AddAtom('dlgLinkZal.bgRef','Референс')
.head 7 -  Call CurrentLangTable.AddAtom('dlgLinkZal.bgSummaZ','Сумма обеспечения')
.head 7 -  Call CurrentLangTable.AddAtom('dlgLinkZal.bgKvZ','Валюта обеспечения')
.head 7 -  Call CurrentLangTable.AddAtom('dlgLinkZal.bgNlsZ','Счет обеспечения')
.head 7 -  Call CurrentLangTable.AddAtom('dlgLinkZal.bgOstZ','Остаток на сч. обесп.')
.head 7 -  Call CurrentLangTable.AddAtom('dlgLinkZal.pbShowDoc','Документ')
.head 7 -  Call CurrentLangTable.AddAtom('dlgLinkZal.pbLinkZal','Привязать')
.head 7 -  Call CurrentLangTable.AddAtom('dlgLinkZal.cTRefNotSet','Не указан референс!')
.head 7 -  Call CurrentLangTable.AddAtom('dlgLinkZal.cTDocNotFound','документ не найден!')
.head 7 -  Call CurrentLangTable.AddAtom('dlgLinkZal.cTDocNotZal','документ не является документом залога!')
.head 7 -  Call CurrentLangTable.AddAtom('dlgLinkZal.cTDocLinked','документ уже привязан к договору')
.head 7 -  Call CurrentLangTable.AddAtom('dlgLinkZal.cTQstLink','Привязать документ залога')
.head 7 -  Call CurrentLangTable.AddAtom('dlgLinkZal.cTForDeal','к договору')
.head 7 -  Call CurrentLangTable.AddAtom('dlgLinkZal.cTMsgLink','Привязан документ залога')
.head 7 -  Call CurrentLangTable.AddAtom('dlgLinkZal.cTMsgLinkZAL','Добавлен залог к договору')
.head 7 -  Call CurrentLangTable.AddAtom('dlgLinkZal.cTMsgNbsZNotFound','Не указан БС счета залога!')
.head 7 -  Call CurrentLangTable.AddAtom('dlgLinkZal.cTMsgEmptyFields','Не все поля заполнены!')
.head 7 -  ! ====================================================
.head 7 -  ! tblDelRef
.head 7 -  Call CurrentLangTable.AddAtom('tblDelRef.cTWndTitle','Отвязка документов от договора')
.head 7 -  Call CurrentLangTable.AddAtom('tblDelRef.cBTipDetails','Просмотреть документ')
.head 7 -  Call CurrentLangTable.AddAtom('tblDelRef.colRef','Реф')
.head 7 -  Call CurrentLangTable.AddAtom('tblDelRef.colTt','Оп.')
.head 7 -  Call CurrentLangTable.AddAtom('tblDelRef.colVDat','Дата~валютирования')
.head 7 -  Call CurrentLangTable.AddAtom('tblDelRef.colNlsA','Счет-А')
.head 7 -  Call CurrentLangTable.AddAtom('tblDelRef.colS','Сумма')
.head 7 -  Call CurrentLangTable.AddAtom('tblDelRef.colKv','Вал.')
.head 7 -  Call CurrentLangTable.AddAtom('tblDelRef.colDk','Д/К')
.head 7 -  Call CurrentLangTable.AddAtom('tblDelRef.colNlsB','Счет-Б')
.head 7 -  Call CurrentLangTable.AddAtom('tblDelRef.colNazn','Назначение платежа')
.head 7 -  ! ====================================================
.head 6 -  ! Инициализация языковой таблицы ввода документов
.head 6 -  Call DocWisInit('CB_VVOD1.')
.head 6 -  Call CurrentLangTable.AddAtom('CB_VVOD1.cTTitle','Ввод документа')
.head 6 -  !
.head 6 -  Set bApdInited = TRUE
.head 5 -  Return bApdInited
.head 3 +  Function: F_PRINT_MB
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 +  Parameters
.head 5 -  String: strTempl1
.head 5 -  String: TEMA
.head 5 -  Number: KPROLOG
.head 5 -  Number: ND
.head 5 -  String: dfND
.head 5 -  String: CC_ID
.head 5 -  String: cmb_VIDD
.head 5 -  Number: nKv
.head 5 -  Number: colSumma
.head 5 -  Number: colProcStavka
.head 5 -  Number: colSummaP
.head 5 -  Number: nTipd
.head 5 -  Date/Time: colDatWidKre
.head 5 -  Date/Time: colDatEndDog
.head 5 -  String: NMKB
.head 5 -  String: MFOB
.head 5 -  String: NLSB
.head 5 -  String: MFOB_
.head 5 -  String: NLSNB
.head 5 -  String: MFONB_
.head 5 -  String: BICKB
.head 5 -  String: NBKB
.head 5 -  String: BICB
.head 5 -  String: OKPOB
.head 5 -  String: SSLB
.head 5 -  String: NMKA
.head 5 -  String: MFOA
.head 5 -  String: NLSA
.head 5 -  String: NLSNA
.head 5 -  String: BICKA
.head 5 -  String: NBKA
.head 5 -  String: BICA
.head 5 -  String: OKPOA
.head 5 -  String: SSLA
.head 5 -  Number: colKvZ
.head 5 -  Number: colSummaZ
.head 5 -  Receive Boolean: bArc
.head 5 -  !
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: strReport
.head 5 -  String: strTempl
.head 5 -  String: sTmp
.head 5 -  Long String: sTiket
.head 5 -  File Handle: hFile
.head 5 -  String: sTicName
.head 5 -  String: sVars
.head 5 -  String: sVals
.head 4 +  Actions
.head 5 -  Set sTicName = strTempl1
.head 5 +  If SalStrScan(sTicName, '.') != -1
.head 6 -  Set sTicName = Subs(sTicName, 1, SalStrScan(sTicName, '.'))
.head 5 +  If not SqlPLSQLCommand(hSql(), "mbk.get_print_value(ND, sTicName, sVars, sVals)")
.head 6 -  Return FALSE
.head 5 -  ! ---------------     Печатаем тикет            -----------------
.head 5 -  Set strReport = GetPrnDir()||'\\tc'||SalFmtFormatDateTime(SalDateCurrent() ,'hhhmmss') ||
    '.D' || SalStrRightX('0' || SalNumberToStrX(SalDateDay(SalDateCurrent()), 0), 2)
.head 5 -  ! Set strTempl=GetTemplateDir()||'\\tic_kdo.qrd'
.head 5 -  Set strTempl = GetTemplateDir() || '\\' || strTempl1 
.head 5 -  Set sTmp = sVals || '~'
.head 5 -  Set sTmp = sTmp || dfND || '~'
.head 5 -  Set sTmp = sTmp || CC_ID || IifS(KPROLOG>0, '/' || Str(KPROLOG), '') || '~'
.head 5 -  Set sTmp = sTmp || SalFmtFormatDateTime(SalDateCurrent(),'dd/MM/yyyy') || '~'
.head 5 -  Set sTmp = sTmp || SalFmtFormatDateTime(SalDateCurrent(),'hhh:mm:ss') || '~'
.head 5 -  Set sTmp = sTmp || cmb_VIDD || '~' || TEMA || '~' || Str(nKv) || '~'
.head 5 -  Set sTmp = sTmp || SalNumberToStrX(colSumma,2) || '~'
                || SalNumberToStrX(colProcStavka,4) || '~'
                || SalNumberToStrX(colSummaP,2) || '~'
.head 5 +  If nTipd = 1
.head 6 -  Set sTmp = sTmp || SalFmtFormatDateTime(colDatWidKre,'dd/MM/yyyy') || '~'
                || SalFmtFormatDateTime(colDatEndDog,'dd/MM/yyyy') || '~'
.head 5 +  Else
.head 6 -  Set sTmp = sTmp || SalFmtFormatDateTime(colDatEndDog,'dd/MM/yyyy') || '~'
                || SalFmtFormatDateTime(colDatWidKre,'dd/MM/yyyy') || '~'
.head 5 -  Set sTmp = sTmp || NMKB || '~' || MFOB || '~' || NLSB || '~' || NLSNB || '~' || 
                  BICKB || '~' || NBKB || '~' || BICB || '~' || OKPOB || '~' || SSLB || '~' || MFOB_ || '~' || MFONB_ || '~'
.head 5 -  Set sTmp = sTmp || NMKA || '~' || MFOA || '~' || NLSA || '~' || NLSNA || '~' || 
                  BICKA || '~' || NBKA || '~' || BICA || '~' || OKPOA || '~' || SSLA || '~'
.head 5 +  If colSummaZ != NUMBER_Null and colSummaZ > 0 
.head 6 -  Set sTmp = sTmp || "Застава: Вал " || Str(colKvZ) || '~' || ' сума ' || SalNumberToStrX(colSummaZ,2)
.head 5 +  Else
.head 6 -  Set sTmp = sTmp || '~'
.head 5 -  !
.head 5 -  !
.head 5 -  Call DosReport(strTempl, strReport,
     sVars || '~CC_ID~dTiket~ODate~OTime~TIPD~TEMA~LCV~colS~colP~colR~colDB~colDE~' ||
     'NBB~MFOB~NLSB~NLSNB~BICKB~NBKB~BICB~OKPOB~SSLB~MFOB_~MFONB_~' ||
     'NBA~MFOA~NLSA~NLSNA~BICKA~NBKA~BICA~OKPOA~SSLA~LCVZ~colZ',
     sTmp, 0)
.head 5 -  Call DosDirectPrint(strReport)
.head 5 +  If bArc
.head 6 +  If SalFileOpen(hFile, strReport, 0) 
.head 7 -  Call SalFileRead(hFile, sTiket, VisFileGetSize(strReport))
.head 7 +  If NOT cdoc_SetDocText(hSql(), TRUE, 'TXT', ND, KPROLOG, DATETIME_Null, sTiket)
.head 8 -  Call SqlRollback(hSql())
.head 7 +  Else
.head 8 -  Call SqlCommitEx(hSql(), "Сделка " || Str(ND) || " помещена в архив")
.head 8 -  Set bArc = FALSE
.head 7 -  Call SalFileClose(hFile)
.head 5 -  ! вставить в архив это текстовый файл strReport
.head 5 -  Return TRUE
.head 3 +  Function: PrintDeal
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Number:
.head 4 +  Parameters
.head 5 -  Number: nId
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sTemplateId
.head 5 -  Long String: sDoc
.head 5 -  : cCnc
.head 6 -  Class: cABSConnect
.head 5 -  : cCnc2
.head 6 -  Class: cABSConnect
.head 4 +  Actions
.head 5 +  If NOT cdoc_SelectDocTemplate("DOC_SCHEME", "ID", "NAME", " ID LIKE 'MBDK%' ", sTemplateId)
.head 6 -  Return 0
.head 5 +  If sTemplateId
.head 6 -  Call XConnectGetParams( cCnc )
.head 6 +  If cCnc.Connect() and cCnc2.Clone( cCnc, TRUE )
.head 7 -  Set sDoc=cdoc_CreateDocFromTemplate( cCnc.hSql(), cCnc2.hSql(), sTemplateId,  nId, 0)
.head 7 +  If sDoc
.head 8 -  Call cdoc_ShowDoc(sDoc,TRUE,FALSE)
.head 7 -  Call cCnc.Disconnect()
.head 7 -  Call cCnc2.Disconnect()
.head 3 +  Function: F_DCP
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 +  Parameters
.head 5 -  Number: mND
.head 5 -  !
.head 5 -  String: MfoA
.head 5 -  String: MfoB
.head 5 -  String: NlsB
.head 5 -  String: OkpoB
.head 5 -  Number: SumB
.head 5 -  !
.head 5 -  Receive String: FN
.head 5 -  Receive Number: Id
.head 5 -  Receive String: Id_Ug
.head 5 -  Receive Date/Time: Dat_Ug
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 +  If SqlPrepareAndExecute( hSql(), 
"SELECT id, id_ug, dat_ug, fn  INTO  :Id,:Id_Ug,:Dat_Ug,:FN
 FROM dcp_p  
 WHERE (ref =:mND AND ref<0 ) OR 
       (mfoa=:MfoA AND 
        mfob=:MfoB AND nlsb=:NlsB AND okpob=:OkpoB AND s=:SumB AND ref is null)
 FOR UPDATE OF ref NOWAIT " )
and not SqlFetchNext( hSql(), nFetchRes)
.head 6 -  Call SalMessageBox("Не найдена информация-подтверждение из Депозитария !" ,
"В Н И М А Н И Е ! ", MB_IconStop)
.head 6 -  Return FALSE
.head 5 +  Else
.head 6 -  Return TRUE
.head 3 -  ! Размещение (tipd=1)
.head 3 +  Function: T1_OutS	! Отправить на размещение ОСНОВНУЮ сумму
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 +  Parameters
.head 5 -  Number: nTipd	! размещение(1)/привлечение(2)
.head 5 -  Number: nS
.head 5 -  Number: a_ostc
.head 5 -  Number: a_ostb
.head 5 -  Number: a_ostf
.head 5 -  Date/Time: a_mdate
.head 5 -  Date/Time: Dat_v
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  ! Документа на отправку еще нет 
( Ост. факт. осн. сч. < суммы договора
и ост. план. осн. сч. < суммы договора
и дата погашения еще не наступила 
и дата валютирования уже наступила)
.head 5 -  Return nTipd = 1
   and Abs(a_ostc) < nS
   and Abs(a_ostb) < nS
   and a_mdate >  GetBankDate()
   and Dat_v   <= GetBankDate()
.head 3 +  Function: T1_InS	! Принять погашение ОСНОВНОЙ суммы
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 +  Parameters
.head 5 -  Number: nTipd	! размещение(1)/привлечение(2)
.head 5 -  Number: a_ostb
.head 5 -  Number: a_ostf
.head 5 -  Date/Time: a_mdate
.head 5 -  Number: nKv
.head 5 -  Number: nVps
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  ! документ на отправку уже есть (ostb), можно Принять погашение ОСНОВНОЙ суммы
! для валюты или для гривны по параметру bMBD_NV
.head 5 -  Return nTipd = 1
   and a_ostb < 0 
   and a_ostf = 0
   and a_mdate >= GetBankDate()
   and (nKv != GetBaseVal() and not nVps or bMBD_NV)
.head 3 +  Function: T1_InSN	! Принять погашение ПРОЦЕНТОВ
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 +  Parameters
.head 5 -  Number: nTipd	! размещение(1)/привлечение(2)
.head 5 -  Number: b_ostb
.head 5 -  Number: b_ostf
.head 5 -  Date/Time: b_mdate
.head 5 -  Number: nKv
.head 5 -  Number: nVps
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  ! %% уже начислены (ostb), можно Принять погашение ПРОЦЕНТОВ
.head 5 -  Return nTipd = 1
   and b_ostb < 0 
   and b_ostf = 0
   and b_mdate >= GetBankDate()
   and (nKv != GetBaseVal() and not nVps or bMBD_NV)
.head 3 -  ! Привлечение (tipd=2)
.head 3 +  Function: T2_InS	! Принять на привлечение ОСНОВНУЮ сумму 
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 +  Parameters
.head 5 -  Number: nTipd	! размещение(1)/привлечение(2)
.head 5 -  Number: nS
.head 5 -  Number: a_ostc
.head 5 -  Number: a_ostb
.head 5 -  Number: a_ostf
.head 5 -  Date/Time: a_mdate
.head 5 -  Number: nKv
.head 5 -  Number: nVps
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  ! Документа на привлечение еще нет 
( Ост. факт. осн. сч. < суммы договора
и ост. план. осн. сч. < суммы договора
и дата погашения еще не наступила)
.head 5 -  Return nTipd = 2
   and a_ostc < nS
   and a_ostb < nS
   and a_ostf < nS
   and a_mdate > GetBankDate()
   and (nKv != GetBaseVal() and not nVps or bMBD_NV)
.head 3 +  Function: T2_OutS	! Отправить возврат ОСНОВНОЙ суммы
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 +  Parameters
.head 5 -  Number: nTipd	! размещение(1)/привлечение(2)
.head 5 -  Number: a_ostb
.head 5 -  Number: a_ostf
.head 5 -  Date/Time: a_mdate
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Return nTipd = 2
   and a_ostf = 0
   and (a_ostb > 0 or a_mdate > GetBankDate())
.head 3 +  Function: T2_OutSN	! Отправить начисленные ПРОЦЕНТЫ
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 +  Parameters
.head 5 -  Number: nTipd	! размещение(1)/привлечение(2)
.head 5 -  Number: b_ostb
.head 5 -  Number: b_ostf
.head 5 -  Date/Time: b_mdate
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Return nTipd = 2
   and b_ostb > 0
   and b_ostf = 0 
   and b_mdate >= GetBankDate()
.head 3 -  ! Привлечение (tipd=2) - текущие
.head 3 +  Function: T2_OutS_Tek	! Отправить возврат ОСНОВНОЙ суммы
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 +  Parameters
.head 5 -  Number: nTipd	! размещение(1)/привлечение(2)
.head 5 -  Number: nS
.head 5 -  Number: a_ostc
.head 5 -  Number: a_ostb
.head 5 -  Number: a_ostf
.head 5 -  Date/Time: a_mdate
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  ! Возврат основной суммы для текущих сделок (форвардные документы не делаем)
  остаток на счете = сумме сделки и дата завершения сделки уже наступила
.head 5 -  Return nTipd = 2
   and Abs(nS) = Abs(a_ostc)
   and a_ostc > 0 
   and a_ostc = a_ostb
   and a_ostf = 0
   and a_mdate <= GetBankDate()
.head 3 +  Function: T2_OutSN_Tek	! Отправить начисленные ПРОЦЕНТЫ
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 +  Parameters
.head 5 -  Number: nTipd	! размещение(1)/привлечение(2)
.head 5 -  Number: b_ostc
.head 5 -  Number: b_ostb
.head 5 -  Number: b_ostf
.head 5 -  Date/Time: b_mdate
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  ! Отправка нач. %%:
  есть остаток на счете нач. %% - отправляем
.head 5 -  Return nTipd = 2
   and b_ostc > 0
   and b_ostc = b_ostb
   and b_ostf = 0
.head 3 +  Function: CorrectDateMbk
.head 4 -  Description: Вычисление ближайшей рабочей даты
.head 4 +  Returns
.head 5 -  Date/Time: dtNewDate
.head 4 +  Parameters
.head 5 -  Number: nKV
.head 5 -  Date/Time: dtOldDate
.head 5 -  Date/Time: dtEndDate
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Date/Time: dDat
.head 5 -  Number: n1
.head 5 -  Number: nn
.head 5 -  Number: ed
.head 4 +  Actions
.head 5 -  Set dDat = dtOldDate
.head 5 -  Set ed = IifN(dtOldDate < dtEndDate, 1, -1)
.head 5 +  While TRUE
.head 6 -  Call SqlPrepareAndExecute(hSql(), 
"SELECT kv INTO :nn
   FROM holiday
  WHERE kv = :nKV and holiday = :dDat")
.head 6 +  If SqlFetchNext(hSql(), n1)
.head 7 -  Set dDat = dDat + ed
.head 6 +  Else
.head 7 -  Return dDat
.head 2 +  Named Menus
.head 2 +  Class Definitions
.data RESOURCE 0 0 1 25218691
0000: 37010000A2000000 0000000000000000 0200000200FFFF01 00160000436C6173
0020: 73566172004F7574 6C696E6552006567 496E666F22003C00 000A630047656E46
0040: 696C746500727400 00000400001E0002 0400C10001000000 3F8001F800000037
0060: 040001F00D000000 FF1F110000DC0002 00FF7F1570000000 0100FFFF21018022
0080: 000001C200000B63 47F8444669B30004 00770200F601004F 800100FE008D0400
00A0: 010DFD00FF371100 02F700FFDF15DC00 0100FF7F
.enddata
.head 3 +  Functional Class: cDopR
.head 4 -  Description:
.head 4 -  Derived From
.head 4 -  Class Variables
.head 4 +  Instance Variables
.head 5 -  String: KOD_G
.head 5 -  String: KOD_B
.head 5 -  String: s56
.head 5 -  String: s57
.head 5 -  String: s58
.head 5 -  String: s72
.head 4 -  Functions
.head 2 +  Default Classes
.head 3 -  MDI Window: cBaseMDI
.head 3 -  Form Window:
.head 3 -  Dialog Box:
.head 3 -  Table Window:
.head 3 -  Quest Window:
.head 3 -  Data Field:
.head 3 -  Spin Field:
.head 3 -  Multiline Field:
.head 3 -  Pushbutton: ctb_pbChilds
.head 3 -  Radio Button: cRadioButtonLabeled
.head 3 -  Option Button:
.head 3 -  Check Box: cCheckBoxLabeled
.head 3 -  Child Table:
.head 3 -  Quest Child Window: cQuickDatabase
.head 3 -  List Box:
.head 3 -  Combo Box: cGenComboBox_NumId
.head 3 -  Picture:
.head 3 -  Vertical Scroll Bar:
.head 3 -  Horizontal Scroll Bar:
.head 3 -  Column:
.head 3 -  Background Text:
.head 3 -  Group Box:
.head 3 -  Line:
.head 3 -  Frame:
.head 3 -  Custom Control:
.head 2 +  Application Actions
.head 3 -  On SAM_AppStartup
.head 1 +  Dialog Box: dlg_MSG
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Реквизиты введены
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left:   Default
.head 4 -  Top:    Default
.head 4 -  Width:  7.5"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 3.0"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  Frame
.head 4 -  Resource Id: 56507
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.086"
.head 5 -  Top:    0.052"
.head 5 -  Width:  7.257"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.76"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 56508
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.086"
.head 5 -  Top:    1.875"
.head 5 -  Width:  7.257"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.688"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Подтвердите
.head 4 -  Resource Id: 56509
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    0.2"
.head 5 -  Width:  7.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: 10
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: tbgSave
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Multiline Field: mlTxt
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  String Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Border? Yes
.head 5 -  Word Wrap? Yes
.head 5 -  Vertical Scroll? Yes
.head 5 -  Window Location and Size
.head 6 -  Left:   0.2"
.head 6 -  Top:    0.531"
.head 6 -  Width:  7.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.2"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbOk	! Сохранить
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cPushButtonLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Сохранить
.head 4 -  Window Location and Size
.head 5 -  Left:   4.8"
.head 5 -  Top:    1.99"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.448"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: \BARS98\RESOURCE\BMP\Apply.bmp
.head 4 -  Picture Transparent Color: Gray
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set sRetText = mlTxt
.head 6 -  Call SalEndDialog(hWndForm, TRUE)
.head 3 +  Pushbutton: pbClose	! Отменить
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cPushButtonLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Отменить
.head 4 -  Window Location and Size
.head 5 -  Left:   6.0"
.head 5 -  Top:    1.99"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.448"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: \BARS98\RESOURCE\BMP\Discard.bmp
.head 4 -  Picture Transparent Color: Gray
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalEndDialog(hWndForm, FALSE)
.head 2 -  Functions
.head 2 +  Window Parameters
.head 3 -  Receive String: sRetText
.head 3 -  String: sText
.head 2 -  Window Variables
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  Call SalCenterWindow(hWndForm)
.head 4 -  Call SetWindowFont(hWndForm)
.head 4 -  ! Присваиваем значения многоязыковым объектам
.head 4 -  Call SalSendMsgToChildren(hWndForm, UM_QueryLabelText, 0, 0 )
.head 4 -  Call SalSetWindowText(hWndForm, 'Підтвердження...')
.head 4 -  !
.head 4 -  Call SalSetWindowLabelText(tbgSave, sText)
.head 4 -  Set mlTxt = sRetText
.head 4 -  Call SalSetFocus(pbOk)
.head 1 +  Form Window: CB_VVOD1
.head 2 -  Class: cDocW
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title:
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Class Default
.head 2 -  Visible? Class Default
.head 2 -  Display Settings
.head 3 -  Display Style? Class Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? Class Default
.head 3 -  Initial State: Class Default
.head 3 -  Maximizable? Class Default
.head 3 -  Minimizable? Class Default
.head 3 -  System Menu? Class Default
.head 3 -  Resizable? Class Default
.head 3 -  Window Location and Size
.head 4 -  Left:   Default
.head 4 -  Top:    Default
.head 4 -  Width:  Class Default
.head 4 -  Width Editable? Class Default
.head 4 -  Height: Class Default
.head 4 -  Height Editable? Class Default
.head 3 -  Form Size
.head 4 -  Width:  Class Default
.head 4 -  Height: Class Default
.head 4 -  Number of Pages: Class Default
.head 3 -  Font Name: Class Default
.head 3 -  Font Size: Class Default
.head 3 -  Font Enhancement: Class Default
.head 3 -  Text Color: Class Default
.head 3 -  Background Color: Class Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Class Default
.head 4 -  Location? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Size: Class Default
.head 4 -  Size Editable? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 3 +  Contents
.head 4 +  Pushbutton: pbPayDoc
.head 5 -  Class Child Ref Key: 27
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cDocW
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbExit
.head 5 -  Class Child Ref Key: 29
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cDocW
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbPrtDoc
.head 5 -  Class Child Ref Key: 30
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cDocW
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 -  Line
.head 5 -  Resource Id: 53013
.head 5 -  Class Child Ref Key: 33
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cDocW
.head 5 -  Coordinates
.head 6 -  Begin X:  Class Default
.head 6 -  Begin Y:  Class Default
.head 6 -  End X:  Class Default
.head 6 -  End Y:  Class Default
.head 5 -  Visible? Class Default
.head 5 -  Line Style: Class Default
.head 5 -  Line Thickness: Class Default
.head 5 -  Line Color: Class Default
.head 4 -  Background Text:
.head 5 -  Resource Id: 53014
.head 5 -  Class Child Ref Key: 75
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cDocW
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 4 -  Line
.head 5 -  Resource Id: 53015
.head 5 -  Class Child Ref Key: 34
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cDocW
.head 5 -  Coordinates
.head 6 -  Begin X:  Class Default
.head 6 -  Begin Y:  Class Default
.head 6 -  End X:  Class Default
.head 6 -  End Y:  Class Default
.head 5 -  Visible? Class Default
.head 5 -  Line Style: Class Default
.head 5 -  Line Thickness: Class Default
.head 5 -  Line Color: Class Default
.head 4 -  Line
.head 5 -  Resource Id: 53016
.head 5 -  Class Child Ref Key: 59
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cDocW
.head 5 -  Coordinates
.head 6 -  Begin X:  Class Default
.head 6 -  Begin Y:  Class Default
.head 6 -  End X:  Class Default
.head 6 -  End Y:  Class Default
.head 5 -  Visible? Class Default
.head 5 -  Line Style: Class Default
.head 5 -  Line Thickness: Class Default
.head 5 -  Line Color: Class Default
.head 4 +  Data Field: dfZn
.head 5 -  Class Child Ref Key: 35
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cDocW
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left:   Class Default
.head 7 -  Top:    Class Default
.head 7 -  Width:  Class Default
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Data Field: dfOst
.head 5 -  Class Child Ref Key: 31
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cDocW
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left:   Class Default
.head 7 -  Top:    Class Default
.head 7 -  Width:  Class Default
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbNewDoc
.head 5 -  Class Child Ref Key: 53
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cDocW
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbNewTTs
.head 5 -  Class Child Ref Key: 60
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cDocW
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbDocBal
.head 5 -  Class Child Ref Key: 72
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cDocW
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbHelp
.head 5 -  Class Child Ref Key: 62
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cDocW
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbSaveKor
.head 5 -  Class Child Ref Key: 64
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cDocW
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 -  Line
.head 5 -  Resource Id: 53017
.head 5 -  Class Child Ref Key: 77
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cDocW
.head 5 -  Coordinates
.head 6 -  Begin X:  Class Default
.head 6 -  Begin Y:  Class Default
.head 6 -  End X:  Class Default
.head 6 -  End Y:  Class Default
.head 5 -  Visible? Class Default
.head 5 -  Line Style: Class Default
.head 5 -  Line Thickness: Class Default
.head 5 -  Line Color: Class Default
.head 4 +  Pushbutton: pbHotVytyag
.head 5 -  Class Child Ref Key: 138
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cDocW
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbHotName
.head 5 -  Class Child Ref Key: 137
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cDocW
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbHotFio
.head 5 -  Class Child Ref Key: 141
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cDocW
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbLocalD
.head 5 -  Class Child Ref Key: 148
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cDocW
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbHotOstat
.head 5 -  Class Child Ref Key: 150
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cDocW
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 2 +  Contents
.head 3 +  Combo Box: cmbVob
.head 4 -  Class Child Ref Key: 39
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left:   Class Default
.head 5 -  Top:    Class Default
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Устанавливаем VOB
.head 6 +  If nKv != GetBaseVal() AND nVob_VZAL != 0
.head 7 -  Set CB_VVOD1.nVob = nVob_VZAL
.head 7 -  ! Init cmbVob 
.head 7 -  Call SqlPrepareAndExecute(hSql(), 
  T("SELECT v.name INTO :sTmp FROM vob v WHERE v.vob=:CB_VVOD1.nVob"))
.head 7 +  If SqlFetchNext(hSql(), nFetchRes)
.head 8 -  Call SalListClear(cmbVob)
.head 8 -  Call SalListAdd(cmbVob, sTmp)
.head 8 -  Call SalListSetSelect(cmbVob, 0)
.head 7 -  Call CB_VVOD1.HideIt(cmbVob)
.head 6 +  Else
.head 7 -  Call SalSendClassMessage(SAM_Create, 0, 0)
.head 3 -  Background Text:
.head 4 -  Resource Id: 53008
.head 4 -  Class Child Ref Key: 36
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Window Location and Size
.head 5 -  Left:   Class Default
.head 5 -  Top:    Class Default
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Justify: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 3 +  Data Field: dfNd
.head 4 -  Class Child Ref Key: 23
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Call CB_VVOD1.UnHideIt(hWndItem)
.head 6 +  If CB_VVOD1.sNd
.head 7 -  Set dfNd = CB_VVOD1.sNd
.head 3 +  Data Field: dfDocD
.head 4 -  Class Child Ref Key: 22
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfBankA
.head 4 -  Class Child Ref Key: 4
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfKvA
.head 4 -  Class Child Ref Key: 50
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfNlsA
.head 4 -  Class Child Ref Key: 2
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Set FL_MIK = SalSendClassMessage(SAM_Validate, wParam, lParam)
.head 6 +  If FL_MIK = VALIDATE_OkClearFlag
.head 7 +  If CB_VVOD1.nFli = 1  ! Если межбанк СЭП
.head 8 -  Call SalSendMsg(dfOst, SAM_Validate, 0, 0)
.head 8 +  If not CB_VVOD1.prNBU
.head 9 -  Set CB_VVOD1.dfNamA = GetBankName()
.head 9 -  Set CB_VVOD1.dfOkpoA= GetBankOkpoS()
.head 6 -  Return FL_MIK
.head 3 +  Data Field: dfPlat
.head 4 -  Class Child Ref Key: 8
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfNamA
.head 4 -  Class Child Ref Key: 7
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Call SalSendClassMessage(SAM_Create, 0, 0)
.head 6 -  Call CB_VVOD1.UnHideIt(hWndItem)
.head 3 +  Data Field: dfPlatB
.head 4 -  Class Child Ref Key: 9
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfNbA
.head 4 -  Class Child Ref Key: 6
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfBankB
.head 4 -  Class Child Ref Key: 13
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfPoluB
.head 4 -  Class Child Ref Key: 18
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfNbB
.head 4 -  Class Child Ref Key: 15
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfKvB
.head 4 -  Class Child Ref Key: 51
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfNlsB
.head 4 -  Class Child Ref Key: 11
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Call CB_VVOD1.UnHideIt(hWndItem)
.head 6 +  If CB_VVOD1.sNlsB
.head 7 -  Set CB_VVOD1.dfNlsB = CB_VVOD1.sNlsB
.head 7 +  If SalSendMsg(hWndItem, SAM_Validate, 0, 0) = VALIDATE_Ok
.head 8 +  If CB_VVOD1.s1 = GetBankMfo()
.head 9 -  Call CB_VVOD1.HideIt(hWndItem)
.head 6 +  Else If CB_VVOD1.bFixNlsB or CB_VVOD1.bFixAll
.head 7 -  Set CB_VVOD1.dfNlsB = CB_VVOD1.sFixNlsB
.head 7 -  If SalSendMsg(hWndItem, SAM_Validate, 0, 0) = VALIDATE_Ok
.head 7 -  Call CB_VVOD1.SetItsColo(CB_VVOD1.bFixNlsB, COLOR_LightGray, COLOR_SysWindow)
.head 3 +  Data Field: dfPolu
.head 4 -  Class Child Ref Key: 17
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  !
.head 3 +  Data Field: dfNamB
.head 4 -  Class Child Ref Key: 16
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 +  If CB_VVOD1.s3
.head 7 -  Set dfNamB = CB_VVOD1.s3
.head 7 -  Call SalSendMsg(hWndItem, SAM_Validate, 0, 0)
.head 3 +  Data Field: dfSumNA
.head 4 -  Class Child Ref Key: 135
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfSumA
.head 4 -  Class Child Ref Key: 20
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfSumNB
.head 4 -  Class Child Ref Key: 122
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfSumB
.head 4 -  Class Child Ref Key: 21
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfRatNomN
.head 4 -  Class Child Ref Key: 123
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfRatNom
.head 4 -  Class Child Ref Key: 57
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 +  If CB_VVOD1.aFlg[58] ! nFcb
.head 7 -  Set dfRatNom = CB_VVOD1.nS
.head 6 -  Call SalSendClassMessage(SAM_Create, 0, 0)
.head 6 -  Call SalSendClassMessage(SAM_Validate, 0, 0)
.head 3 +  Data Field: dfSumNC
.head 4 -  Class Child Ref Key: 125
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfSumC
.head 4 -  Class Child Ref Key: 44
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  ! On SAM_Create
.head 6 -  Call SalShowWindow( hWndItem )
.head 6 -  Call CB_VVOD1.UnHideIt( hWndItem )
.head 6 -  Set CB_VVOD1.dfSumC  = MINS
.head 6 -  Set CB_VVOD1.nS      = MINS
.head 6 -  Set CB_VVOD1.dfSumA  = dfSumC
.head 6 -  Set CB_VVOD1.dfSumB  = dfSumC
.head 5 +  On SAM_Create
.head 6 -  Call SalShowWindow(hWndItem)
.head 6 -  Call CB_VVOD1.UnHideIt(hWndItem)
.head 6 -  If CB_VVOD1.aFlg[58] ! nFcb
.head 6 +  Else
.head 7 -  Set dfSumC = CB_VVOD1.nS
.head 7 -  Set CB_VVOD1.dfSumA  = dfSumC
.head 7 -  Set CB_VVOD1.dfSumB  = dfSumC
.head 3 +  List Box: lb1  !! доп реквизиты
.head 4 -  Class Child Ref Key: 85
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left:   Class Default
.head 5 -  Top:    Class Default
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Multiple selection? Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Horizontal Scroll? Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Call SalSendClassMessage(SAM_Create, 0, 0)
.head 6 -  Set CB_VVOD1.i = 0
.head 6 -  Call SalArrayGetUpperBound(CB_VVOD1.aTag, 1, CB_VVOD1.nTmp)
.head 6 +  While CB_VVOD1.i < CB_VVOD1.nTmp
.head 7 -  Set CB_VVOD1.i = CB_VVOD1.i+1
.head 7 +  If SalStrTrimX(CB_VVOD1.aTag[CB_VVOD1.i]) = 'KOD_G'
.head 8 -  Set CB_VVOD1.aVal[CB_VVOD1.i] = cDR.KOD_G
.head 7 +  If SalStrTrimX(CB_VVOD1.aTag[CB_VVOD1.i]) = 'KOD_B'
.head 8 -  Set CB_VVOD1.aVal[CB_VVOD1.i] = cDR.KOD_B
.head 7 +  ! If SalStrTrimX(CB_VVOD1.aTag[CB_VVOD1.i])='54' 
.head 8 -                                                                                                                                                               Set CB_VVOD1.aVal[CB_VVOD1.i]=Val_54
.head 7 +  If SalStrTrimX(CB_VVOD1.aTag[CB_VVOD1.i]) = '56A' 
.head 8 -  Set CB_VVOD1.aVal[CB_VVOD1.i] = cDR.s56
.head 7 +  If SalStrTrimX(CB_VVOD1.aTag[CB_VVOD1.i]) = '57A' and nKv != 643
.head 8 -  Set CB_VVOD1.aVal[CB_VVOD1.i] = cDR.s57
.head 7 +  If SalStrTrimX(CB_VVOD1.aTag[CB_VVOD1.i]) = '57D' and nKv = 643
.head 8 -  Set CB_VVOD1.aVal[CB_VVOD1.i] = cDR.s57
.head 7 +  If SalStrTrimX(CB_VVOD1.aTag[CB_VVOD1.i]) = '58A' and nKv != 643
.head 8 -  Set CB_VVOD1.aVal[CB_VVOD1.i] = cDR.s58
.head 7 +  If SalStrTrimX(CB_VVOD1.aTag[CB_VVOD1.i]) = '58D' and nKv = 643
.head 8 -  Set CB_VVOD1.aVal[CB_VVOD1.i] = cDR.s58
.head 7 +  If SalStrTrimX(CB_VVOD1.aTag[CB_VVOD1.i]) = '72'
.head 8 -  Set CB_VVOD1.aVal[CB_VVOD1.i] = cDR.s72
.head 7 +  If SalStrTrimX(CB_VVOD1.aTag[CB_VVOD1.i]) = 'П' 
.head 8 -  Set CB_VVOD1.aVal[CB_VVOD1.i] = sNaznP
.head 6 -  Call SalListSetSelect(lb1, 0)
.head 6 -  Call SalSendMsg(hWndItem, SAM_Click, 0, 0)
.head 3 +  Multiline Field: dfNazn
.head 4 -  Class Child Ref Key: 24
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  String Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Border? Class Default
.head 5 -  Word Wrap? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Call CB_VVOD1.UnHideIt(hWndItem)
.head 6 +  If CB_VVOD1.sNazn
.head 7 -  Set dfNazn = Subs(CB_VVOD1.sNazn,1,160)
.head 7 -  Set CB_VVOD1.aVal[0] = dfNazn
.head 7 -  Call SalSendMsg(hWndItem, SAM_Validate, 0, 0)
.head 3 +  Data Field: dfSkN
.head 4 -  Class Child Ref Key: 115
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfSk
.head 4 -  Class Child Ref Key: 48
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfValD1
.head 4 -  Class Child Ref Key: 25
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  ! On SAM_Create
.head 6 -  Call CB_VVOD1.UnHideIt(hWndItem)
.head 6 +  If CB_VVOD1.Datv
.head 7 -  Set dfValD1 = CB_VVOD1.Datv
.head 7 -  Call SalSendMsg(hWndItem, SAM_Validate, 0, 0)
.head 3 +  Data Field: dfValD2N
.head 4 -  Class Child Ref Key: 131
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfValD2
.head 4 -  Class Child Ref Key: 66
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfD
.head 4 -  Class Child Ref Key: 132
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfK
.head 4 -  Class Child Ref Key: 133
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Check Box: cbUgrnt
.head 4 -  Class Child Ref Key: 130
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   Class Default
.head 5 -  Top:    Class Default
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfOkpoA
.head 4 -  Class Child Ref Key: 139
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfOkpoB
.head 4 -  Class Child Ref Key: 140
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set CB_VVOD1.dfOkpoB = sOKPO
.head 3 +  Data Field: dfVytyagN
.head 4 -  Class Child Ref Key: 142
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfEquivN
.head 4 -  Class Child Ref Key: 144
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfEquiv
.head 4 -  Class Child Ref Key: 145
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfLocDat
.head 4 -  Class Child Ref Key: 149
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfDateFrom
.head 4 -  Class Child Ref Key: 155
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfValD1N
.head 4 -  Class Child Ref Key: 160
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Picture: pic1f
.head 4 -  Class Child Ref Key: 156
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left:   Class Default
.head 5 -  Top:    Class Default
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  File Name:
.head 4 -  Storage: Class Default
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Fit: Class Default
.head 4 -  Scaling
.head 5 -  Width:  Class Default
.head 5 -  Height:  Class Default
.head 4 -  Corners: Class Default
.head 4 -  Border Style: Class Default
.head 4 -  Border Thickness: Class Default
.head 4 -  Tile To Parent? Class Default
.head 4 -  Border Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Picture: pic2f
.head 4 -  Class Child Ref Key: 157
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left:   Class Default
.head 5 -  Top:    Class Default
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  File Name:
.head 4 -  Storage: Class Default
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Fit: Class Default
.head 4 -  Scaling
.head 5 -  Width:  Class Default
.head 5 -  Height:  Class Default
.head 4 -  Corners: Class Default
.head 4 -  Border Style: Class Default
.head 4 -  Border Thickness: Class Default
.head 4 -  Tile To Parent? Class Default
.head 4 -  Border Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Picture: pic3f
.head 4 -  Class Child Ref Key: 158
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left:   Class Default
.head 5 -  Top:    Class Default
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  File Name:
.head 4 -  Storage: Class Default
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Fit: Class Default
.head 4 -  Scaling
.head 5 -  Width:  Class Default
.head 5 -  Height:  Class Default
.head 4 -  Corners: Class Default
.head 4 -  Border Style: Class Default
.head 4 -  Border Thickness: Class Default
.head 4 -  Tile To Parent? Class Default
.head 4 -  Border Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfSub
.head 4 -  Class Child Ref Key: 167
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfSubN
.head 4 -  Class Child Ref Key: 166
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDocW
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 2 +  Functions
.head 3 +  Function: oDoc
.head 4 -  Description: Оплатить  документ с прибамбасами
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  : INF
.head 6 -  Class: cDoc
.head 5 -  Number: iRef
.head 5 -  Number: nInt
.head 4 +  Actions
.head 5 -  Set CB_VVOD1.m_sDrec = D_REC
.head 5 +  If CB_VVOD1.m_sDrec
.head 6 -  Set CB_VVOD1.m_sNazns = '11'
.head 5 +  Else
.head 6 -  Set CB_VVOD1.m_sNazns = '10'
.head 5 +  If cDocW.oDoc() 
.head 6 +  If SqlPLSQLCommand(hSql(), "mbk.link_nd_ref(Dlg_Plat.ND, CB_VVOD1.m_nRef)") 
and SqlPrepareAndExecute(hSql(),"UPDATE DCP_P set ref=:CB_VVOD1.m_nRef WHERE id= :Id_DCP ")  
.head 7 +  If sTT2 = 'KV2' and NLS_SN != STRING_Null 
and GetBankMfo()='300001' 
and Subs(sAccA,1,4)='1410' and Subs(sAccA,10,1)='5'  
.head 8 -  ! 16.11.2006 
При розміщені кредиту "овернайт", 
аналітичний рахунок якого має структуру 1410_nnnn5nnn…, необхідно:
1.Формувати до операції KV2 "Розміщення на МБ грн" "повязану" операцію - 
  кредитовий інформаційний запит (DK=3) з реквізитами:
-"МФО банку А" дорівнює 300001 (МФО ОПЕРУ НБУ);
-"Рахунок клієнта А" 1418 k nnnn 5 nnn.... (рахунок нарахованих доходів за відповідним кредитом);
-"МФО банку Б" дорівнює МФО банку одержувача кредиту;
-"Рахунок клієнта Б" 1318 k  ( k- розраховане значення ключа для відповідного банку);
-"Сума" дорівнює сумі відсотків за угодою;
-"Призначення платежу" - 
 "Очікувані %%.по рах.1410knnnn5nnn. Розп.НБУ № від дд/мм/рррр. Ставка % річних". 
2.Віза на дочірню операцію повинна накладатись одночасно з візуванням операції KV2. 
3.При знятті з візи  операції KV2, дочірня операція також має зніматися з візи 
 автоматично та переформовуватись разом з KV2.
.head 8 +  If SqlPrepareAndExecute(hSql(),
  "SELECT int_amount*100 INTO :nInt FROM cc_add WHERE nd=:Dlg_Plat.ND and adds=0 ") 
and SqlFetchNext(hSql(),nFetchRes) 
.head 9 -  Set iRef = NUMBER_Null
.head 9 -  Call INF.SetDoc
(iRef, 'KVI', 3, 6, dfNd,
 GetBankDate(),SalDateCurrent(), GetBankDate(), GetBankDate(), 
 NLS_SN, GetBankName(), GetBankMfo(), '', nKv, nInt, GetBankOkpoS(),
 Vkrz2(s1,'13180'), s3, s1, '', nKv, nInt, sOKPO,
 "Очікувані %% по рах " || NLS_SN ||". Розп.НБУ № "|| CC_ID ||" від " || 
 SalFmtFormatDateTime( GetBankDate(), 'dd/MM/yyyy') || 
 ". Ставка " || sRat || "% річних " ,
  '', GetIdOper(), '', NUMBER_Null, cbUgrnt)
.head 9 +  If NOT INF.oDoc() 
OR NOT SqlPLSQLCommand(hSql(), "mbk.link_nd_ref(Dlg_Plat.ND, INF.m_nRef)") 
OR NOT SqlPrepareAndExecute(hSql(), "UPDATE oper set refl=:INF.m_nRef where ref=:CB_VVOD1.m_nRef" )
.head 10 -  Return FALSE
.head 7 -  Call SaveFInfoToLog( "Проводка по МБК "||Str(Dlg_Plat.ND)||", реф= "||Str(CB_VVOD1.m_nRef) )
.head 7 -  Return TRUE
.head 5 -  ! !!!!!
.head 5 -  Return FALSE
.head 2 +  Window Parameters
.head 3 -  String: sTT2
.head 3 -  Number: nKv
.head 3 -  String: sNd
.head 3 -  Number: MINS 
.head 3 -  String: sAccA !! Счет А главный
.head 3 -  String: sAccB !! Счет Б главный
.head 3 -  String: s1 !! МФО пол
.head 3 -  String: s3 !! Наим пол
.head 3 -  String: sNazn 
.head 3 -  Date/Time: Datv
.head 3 -  String: sOKPO
.head 3 -  !
.head 3 -  String: D_REC
.head 3 -  Number: Id_DCP
.head 3 -  !
.head 3 -  Number: nOpenNls	! открыть для редактирования: 1-nlsa, 2-nlsb, 3-nlsa+nlsb
.head 3 -  !
.head 3 -  String: NLS_SN
.head 3 -  String: sRat
.head 3 -  String: CC_ID
.head 3 -  !
.head 3 -  : cDR
.head 4 -  Class: cDopR
.head 2 +  Window Variables
.head 3 -  String: sA
.head 3 -  String: sB 
.head 3 -  Number: prNBU
.head 3 -  Number: nVob_VZAL
.head 3 -  String: sTmp
.head 3 -  Number: FL_MIK
.head 3 -  String: sNaznP
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  Call SalWaitCursor(TRUE)
.head 4 -  Call SalSendClassMessage(SAM_Create,0,0)
.head 4 -  Set nVob_VZAL = GetGlobalOptionEx('MBK_VZAL')
.head 4 -  Set CB_VVOD1.m_sDrec = D_REC
.head 3 +  On SAM_CreateComplete
.head 4 +  If nOpenNls = 1
.head 5 -  Call UnHideIt(dfNlsA)
.head 5 -  Call UnHideIt(dfNamA)
.head 5 -  Call UnHideIt(dfOkpoA)
.head 4 +  Else If nOpenNls = 2
.head 5 -  Call UnHideIt(dfNlsB)
.head 5 -  Call UnHideIt(dfNamB)
.head 5 -  Call UnHideIt(dfOkpoB)
.head 4 +  Else If nOpenNls = 3
.head 5 -  Call UnHideIt(dfNlsA)
.head 5 -  Call UnHideIt(dfNamA)
.head 5 -  Call UnHideIt(dfOkpoA)
.head 5 -  Call UnHideIt(dfNlsB)
.head 5 -  Call UnHideIt(dfNamB)
.head 5 -  Call UnHideIt(dfOkpoB)
.head 4 -  Call SalWaitCursor(FALSE)
.head 3 +  On UM_Choose
.head 4 -  Set CB_VVOD1.sTT     = sTT2
.head 4 -  Set CB_VVOD1.nKvB_TT = nKv
.head 4 -  Set CB_VVOD1.nKvA_TT = nKv
.head 4 -  !
.head 4 -  If SqlPrepareAndExecute(hSql(),
"SELECT name, flags, fli, flv, dk, sk, nlsb, nlsa, mfob,
        ISNBUBANK, TRIM(s), TRIM(s2)
   INTO :CB_VVOD1.sTTN, :CB_VVOD1.sFlags,
        :CB_VVOD1.nFli, :CB_VVOD1.nFlv,:CB_VVOD1.nDk, :CB_VVOD1.nSk_TT,
        :CB_VVOD1.sNlsB_TT,:CB_VVOD1.sNlsA_TT, :CB_VVOD1.sBankB_TT,
        :CB_VVOD1.prNBU, :CB_VVOD1.sS, :CB_VVOD1.sSS
   FROM tts 
  WHERE tt=:CB_VVOD1.sTT ")
and SqlFetchNext(hSql(),nFetchRes)
.head 4 +  Else
.head 5 -  Call SalWaitCursor(FALSE)
.head 5 -  Call SalMessageBox("Не описана операция " || CB_VVOD1.sTT, 'DlgMSG_Error', MB_Ok|MB_IconExclamation)
.head 5 -  Call SalDestroyWindow(hWndForm)
.head 4 -  !
.head 4 -  Call Flgs2aFlg(CB_VVOD1.sFlags)
.head 4 +  If sAccA != STRING_Null
.head 5 -  Set CB_VVOD1.sNlsA_TT = sAccA
.head 4 -  ! Для SWIFT счет Б берем из настройки операции
.head 4 +  If NOT (CB_VVOD1.nFli = 2 and (sTT2 = 'KV3' or sTT2 = 'WD3'))
.head 5 -  Set CB_VVOD1.sNlsB_TT  = sAccB
.head 5 -  Set CB_VVOD1.sBankB_TT = s1
.head 4 -  Set CB_VVOD1.dfNd = sNd
.head 4 +  If CB_VVOD1.sNazn
.head 5 -  Set sNaznP = Subs(CB_VVOD1.sNazn, 161, Len(sNazn)-160)
.head 4 -  !
.head 4 -  ! Сумма документа
.head 4 -  Set CB_VVOD1.nS = MINS
.head 4 -  !
.head 4 -  ! Ввод документа - [ sTT2 sTTN ]
.head 4 -  Call SalSetWindowText(hWndForm, CurrentLangTable.GetAtomTitle('CB_VVOD1.cTTitle')||' - [ ' ||sTT2||' '||CB_VVOD1.sTTN|| ' ]')
.head 4 -  Call SalSendClassMessage(UM_Clear, 0, 0)
.head 3 +  On SAM_Destroy
.head 4 -  Call SalMapEnterToTab(FALSE)
.head 4 -  Call SalSetFocus(SalParentWindow(hWndForm))
.head 4 -  Call SalPostMsg(SalParentWindow(hWndForm), SAM_User, 0, 0)
.head 1 +  Form Window: RO
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Изменение параметров сделки на МБ
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? Yes
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left:   0.925"
.head 4 -  Top:    0.323"
.head 4 -  Width:  11.0"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 8.2"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.4"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Contents
.head 4 +  Data Field: sRO
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left:   0.1"
.head 7 -  Top:    0.08"
.head 7 -  Width:  3.2"
.head 7 -  Width Editable? Yes
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Yes
.head 6 -  Visible? Yes
.head 6 -  Border? Yes
.head 6 -  Justify: Left
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Font Name: Default
.head 6 -  Font Size: Default
.head 6 -  Font Enhancement: Default
.head 6 -  Text Color: Default
.head 6 -  Background Color: Default
.head 6 -  Input Mask: Unformatted
.head 5 -  Message Actions
.head 4 -  Background Text: № розпорядження
.head 5 -  Resource Id: 61790
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left:   3.3"
.head 6 -  Top:    0.143"
.head 6 -  Width:  1.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: bgRNum
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cLabelControl
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left:   Default
.head 7 -  Top:    Default
.head 7 -  Width:  Class Default
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Data Field: dfRNum
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: 30
.head 6 -  Data Type: String
.head 6 -  Editable? Yes
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left:   5.2"
.head 7 -  Top:    0.08"
.head 7 -  Width:  0.8"
.head 7 -  Width Editable? Yes
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Yes
.head 6 -  Visible? Yes
.head 6 -  Border? Yes
.head 6 -  Justify: Left
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Font Name: Default
.head 6 -  Font Size: Default
.head 6 -  Font Enhancement: Default
.head 6 -  Text Color: Default
.head 6 -  Background Color: Default
.head 6 -  Input Mask: Unformatted
.head 5 -  Message Actions
.head 4 -  Line
.head 5 -  Resource Id: 61791
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Coordinates
.head 6 -  Begin X:  6.267"
.head 6 -  Begin Y:  -0.012"
.head 6 -  End X:  6.267"
.head 6 -  End Y:  0.393"
.head 5 -  Visible? Yes
.head 5 -  Line Style: Etched
.head 5 -  Line Thickness: 1
.head 5 -  Line Color: Default
.head 4 +  Pushbutton: pbUpdate
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbUpdate
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   6.383"
.head 6 -  Top:    0.05"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Сохранить новые параметры
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('RO.cBTipUpdate')
.head 6 +  On SAM_Click
.head 7 -  Set ACC1 = NUMBER_Null
.head 7 +  If CC_ID_NEW = STRING_Null
.head 8 -  ! Заполнены не все реквизиты
.head 8 -  Call SalMessageBox (CurrentLangTable.GetAtomTitle('RO.cTErr4'), 
     CurrentLangTable.GetAtomTitle('cTAt'), 0)
.head 8 -  Call SalSetFocus(CC_ID_NEW)
.head 7 +  Else
.head 8 -  ! == Проверка на заполнение NLS 
.head 8 -  ! Некорректно заполнены данные по счетам. Оставить старые значения?
.head 8 -  Set sTmpMsg = CurrentLangTable.GetAtomTitle('RO.cTMess6') || PutCrLf() || 
    CurrentLangTable.GetAtomTitle('RO.cTMess7')
.head 8 -  ! 0-продолжить, 1-оставить старые значения, -1-остановиться
.head 8 -  Set nRefreshAcc = 0
.head 8 +  If nKv = 980
.head 9 +  If NLSB_New = ''
.head 10 +  If SalMessageBox(sTmpMsg, CurrentLangTable.GetAtomTitle('cTAt'), MB_IconExclamation | MB_YesNo) = IDYES
.head 11 -  Set nRefreshAcc = 1 
.head 10 +  Else
.head 11 -  Set nRefreshAcc = -1 
.head 9 +  If nRefreshAcc = 0 AND nTip != 1 AND NLSNB_New = ''
.head 10 +  If SalMessageBox(sTmpMsg, CurrentLangTable.GetAtomTitle('cTAt'), MB_IconExclamation | MB_YesNo) = IDYES
.head 11 -  Set nRefreshAcc = 1 
.head 10 +  Else
.head 11 -  Set nRefreshAcc = -1 
.head 8 +  Else
.head 9 +  If cbNlsB
.head 10 +  If NLSB_New = ''
.head 11 +  If SalMessageBox(sTmpMsg, CurrentLangTable.GetAtomTitle('cTAt'), MB_IconExclamation | MB_YesNo) = IDYES
.head 12 -  Set nRefreshAcc = 1 
.head 11 +  Else
.head 12 -  Set nRefreshAcc = -1 
.head 9 +  Else If BICK_B = '' and VPS = 0
.head 10 +  If SalMessageBox(sTmpMsg, CurrentLangTable.GetAtomTitle('cTAt'), MB_IconExclamation | MB_YesNo) = IDYES
.head 11 -  Set nRefreshAcc = 1 
.head 10 +  Else
.head 11 -  Set nRefreshAcc = -1 
.head 9 +  If nRefreshAcc = 0 AND nTip != 1
.head 10 +  If cbNlsNB
.head 11 +  If NLSNB_New = ''
.head 12 +  If SalMessageBox(sTmpMsg, CurrentLangTable.GetAtomTitle('cTAt'), MB_IconExclamation | MB_YesNo) = IDYES
.head 13 -  Set nRefreshAcc = 1 
.head 12 +  Else
.head 13 -  Set nRefreshAcc = -1 
.head 10 +  Else If BICK_B = '' and VPS = 0
.head 11 +  If SalMessageBox(sTmpMsg, CurrentLangTable.GetAtomTitle('cTAt'), MB_IconExclamation | MB_YesNo) = IDYES
.head 12 -  Set nRefreshAcc = 1 
.head 11 +  Else
.head 12 -  Set nRefreshAcc = -1 
.head 8 +  If nRefreshAcc = 1
.head 9 -  Call SetData()
.head 8 +  Else If nRefreshAcc = -1
.head 9 -  Return FALSE
.head 8 -  ! Установка значений
.head 8 -  Set sNlsB  = IifS(cbNlsB, NLSB_New, IifS(nKv=n980 or VPS=1,NLSB_New, VOSTROK_B))
.head 8 -  Set sMfoB  = IifS(cbNlsB, sBankMFO, IifS(nKv=n980 or VPS=1,MFOB,BICK_B))
.head 8 -  Set sNlsNB = IifS(nTip=1,'',
             IifS(cbNlsNB,NLSNB_New,IifS(nKv=n980 or VPS=1,NLSNB_New,VOSTROK_B)) )
.head 8 -  Set sMfoNB = IifS(cbNlsNB,sBankMFO, IifS(nKv=n980 or VPS=1 or nTip=1,MFOB,BICK_B))
.head 8 -  Set nRefP  = IifN(cbNlsB AND (nTip=1 OR cbNlsNB AND nTip!=1 OR nKv=n980), Val(NLSB_New), NLSK_A )
.head 8 -  ! Сохранять?
.head 8 +  If dDatN != dDatN1 OR dDatK != dDatK1 
OR nS    != nS1    OR nPr   != nPr1 
OR nVIDD != nVIDD1 
OR NLSB  != sNlsB OR NLSNB != sNlsNB 
OR MFOKred != sMfoB OR MFOPerc != sMfoNB 
OR (nKv != n980 AND RefP != NLSK_A) 
OR cbNlsB  != bPr1 
OR cbNlsNB != bPr2 OR 1 = 1 OR nIntS1 != nIntS
.head 9 +  If sNlsB != '' AND 
(   cbNlsB AND 
    (   NOT SqlPrepareAndExecute(hSql(), "SELECT acc FROM accounts WHERE nls=:sNlsB AND kv=:nKv") 
     OR NOT SqlFetchNext(hSql(), nFetchRes)
    ) 
 OR NOT cbNlsB AND nKv = n980 AND KeyAccount(MFOB, NLSB_New) != NLSB_New )
.head 10 -  ! Ош.счет (контр.разряд)
.head 10 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('KRE_DEPO.cTErrKR'), 
     CurrentLangTable.GetAtomTitle('cTAt'), MB_Ok | MB_IconExclamation )
.head 10 -  Call SalSetFocus(NLSB_New)
.head 10 -  Return FALSE
.head 9 +  If sNlsNB != '' AND 
(   cbNlsNB AND 
    (   NOT SqlPrepareAndExecute(hSql(), "SELECT acc FROM accounts WHERE nls=:sNlsNB AND kv=:nKv") 
     OR NOT SqlFetchNext(hSql(), nFetchRes)
    ) 
 OR NOT cbNlsNB AND nKv = n980 AND KeyAccount(MFOB, NLSNB_New) != NLSNB_New )
.head 10 -  ! Ош.счет %% (контр.разряд)
.head 10 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('KRE_DEPO.cTErrKR'), 
     CurrentLangTable.GetAtomTitle('cTAt'), MB_Ok | MB_IconExclamation )
.head 10 -  Call SalSetFocus(NLSNB_New)
.head 10 -  Return FALSE
.head 9 +  If F_SAVE()
.head 10 -  Set bArc = TRUE
.head 10 -  Call PrintTiket()
.head 10 -  Call SalEnableWindow(pbTiket)
.head 10 -  Set nNewDealRef = ND_NEW
.head 10 -  Set nDealRef = ND_
.head 10 -  ! Принудительно генерируем телексное сообщение 
.head 10 +  If bTELEX
.head 11 -  Call F_TELEX1()
.head 11 -  Call SalEnableWindow(pbCreateTelex)
.head 10 +  If bSWIFT
.head 11 -  Call SalEnableWindow(pbCreateSWT)
.head 10 -  Call SalDisableWindow(pbUpdate)
.head 10 -  Call SalDisableWindow(dfRNum)
.head 10 -  Set hWndObject = SalGetFirstChild(hWndForm, TYPE_Any)
.head 10 +  While hWndObject != hWndNULL
.head 11 -  Call SalDisableWindow(hWndObject)
.head 11 -  Set hWndObject = SalGetNextChild(hWndObject, TYPE_Any)
.head 4 +  Pushbutton: pbTiket
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbPrint
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   6.833"
.head 6 -  Top:    0.048"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Печать тикета сделки
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('cBTipTiket')
.head 6 +  On SAM_Click
.head 7 -  Call PrintTiket()
.head 4 +  Pushbutton: pb_ProL
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbRelation
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   7.283"
.head 6 -  Top:    0.048"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\Arr1tor.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Light Green
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Відомості про зміни в угоді
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('cBTipProL')
.head 6 +  On SAM_Click
.head 7 +  If not IsWindow(hWinP)
.head 8 -  Set hWinP = SalCreateWindow(RO1, hWndMDI, ND_, sNmk, CC_ID, bDAT)
.head 7 +  Else
.head 8 -  Call SalBringWindowToTop(hWinP)
.head 4 -  Line
.head 5 -  Resource Id: 11378
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Coordinates
.head 6 -  Begin X:  7.817"
.head 6 -  Begin Y:  0.0"
.head 6 -  End X:  7.817"
.head 6 -  End Y:  0.405"
.head 5 -  Visible? Yes
.head 5 -  Line Style: Etched
.head 5 -  Line Thickness: 1
.head 5 -  Line Color: Default
.head 4 +  Pushbutton: pbSWDetail
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbBrowse
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   7.933"
.head 6 -  Top:    0.048"
.head 6 -  Width:  0.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\Edit.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Сохранить информацию о трассе и посреднике
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('KRE_DEPO.cBTipSWDetail')
.head 6 +  On SAM_Click
.head 7 -  Call SalModalDialog( dlgKREDEPO, hWndForm, sIntermA, sIntermB, sIntPartyA, sIntPartyB, sIntIntermA, sIntIntermB)
.head 7 -  Call SalEnableWindow(pbUpdate)
.head 4 +  Pushbutton: pbViewSWT
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbBrowse
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   8.767"
.head 6 -  Top:    0.048"
.head 6 -  Width:  0.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\VIEW.BMP
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Просмотреть сформированную свифтовку
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('KRE_DEPO.cBTipViewSWT')
.head 6 +  On SAM_Click
.head 7 +  If nNewSwRef != NUMBER_Null
.head 8 -  Call SWIFTMsgView(hWndForm, nNewSwRef)
.head 4 +  Pushbutton: pbCreateSWT
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbBrowse
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   8.35"
.head 6 -  Top:    0.048"
.head 6 -  Width:  0.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\TOMAIL.BMP
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Сформировать SWIFT сообщение
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('KRE_DEPO.cBTipCreateSWT')
.head 6 +  On SAM_Click
.head 7 +  If nDealRef != nNewDealRef
.head 8 -  Set sOption = STRING_Null
.head 7 +  Else
.head 8 -  Set sOption = 'ROLL'
.head 7 -  ! Бред Петрокомерца: независимо от новый/не новый договор хотят иметь ROLLOVER
.head 7 -  Set sOption = 'ROLL'
.head 7 +  If SqlPLSQLCommand(hSql(), "SWIFT.Gen_MT320_Message(nNewDealRef, STRING_Null, sOption)" )
.head 8 -  If SqlPrepareAndExecute( hSql(), "SELECT swo_ref INTO :nNewSwRef FROM cc_add WHERE nd = :nNewDealRef and adds = 0" )
and  SqlFetchNext( hSql(), nFetchRes)
.head 8 -  Call SqlCommit(hSql())
.head 8 -  ! Сформировано SWIFT-сообщение
.head 8 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('NETTO.cTMsgCreateSWT'), 
     CurrentLangTable.GetAtomTitle('cTAt'), MB_Ok )
.head 8 -  Call SalEnableWindow(pbViewSWT)
.head 7 +  Else
.head 8 -  Call SqlRollback(hSql())
.head 4 +  Pushbutton: pbCreateTelex
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbBrowse
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   9.183"
.head 6 -  Top:    0.048"
.head 6 -  Width:  0.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\CHKMAIL.BMP
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set strTip = 'Save/Print/View/Update TELEX'
.head 6 +  On SAM_Click
.head 7 -  Call F_TELEX()
.head 4 -  Line
.head 5 -  Resource Id: 11379
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Coordinates
.head 6 -  Begin X:  9.683"
.head 6 -  Begin Y:  0.0"
.head 6 -  End X:  9.683"
.head 6 -  End Y:  0.405"
.head 5 -  Visible? Yes
.head 5 -  Line Style: Etched
.head 5 -  Line Thickness: 1
.head 5 -  Line Color: Default
.head 4 +  Pushbutton: pbExit
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbCancel
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   9.817"
.head 6 -  Top:    0.048"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\Discard.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Выйти 
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('RO.cBTipExit')
.head 6 +  On SAM_Click
.head 7 -  Call SalDestroyWindow(hWndForm)
.head 2 +  Contents
.head 3 -  Background Text: № ген.договора и дата
.head 4 -  Resource Id: 19390
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    0.44"
.head 5 -  Width:  4.867"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgGND
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: GND
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.7"
.head 6 -  Top:    0.631"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Return XSalTooltipSetText( lParam, "№ ген.соглашения" )
.head 6 -  Return XSalTooltipSetText( lParam, CurrentLangTable.GetAtomTitle('RO.cFTipGND') )
.head 3 +  Data Field: DAT_GND
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   0.2"
.head 6 -  Top:    0.631"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Center
.head 5 -  Format: Date
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Return XSalTooltipSetText( lParam, "Дата ген.соглашения" )
.head 6 -  Return XSalTooltipSetText( lParam, CurrentLangTable.GetAtomTitle('RO.cFTipDAT_GND') )
.head 3 +  Data Field: nRnk
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   0.2"
.head 6 -  Top:    0.119"
.head 6 -  Width:  1.15"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Return XSalTooltipSetText( lParam, "Рег.№ партнера" )
.head 6 -  Return XSalTooltipSetText( lParam, CurrentLangTable.GetAtomTitle('RO.cFTipRnk') )
.head 3 +  Data Field: MFOB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   1.45"
.head 6 -  Top:    0.119"
.head 6 -  Width:  1.15"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Return XSalTooltipSetText( lParam, "МФО партнера" )
.head 6 -  Return XSalTooltipSetText( lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipMFOB') )
.head 3 +  Data Field: sNmk
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.7"
.head 6 -  Top:    0.119"
.head 6 -  Width:  7.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Return XSalTooltipSetText( lParam, "Наименование партнера" )
.head 6 -  Return XSalTooltipSetText( lParam, CurrentLangTable.GetAtomTitle('RO.cFTipNmk') )
.head 3 -  !
.head 3 -  Background Text: Пролонгаций
.head 4 -  Resource Id: 41211
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   5.2"
.head 5 -  Top:    0.44"
.head 5 -  Width:  2.15"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgKPROLOG
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: KPROLOG
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   5.2"
.head 6 -  Top:    0.631"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Return XSalTooltipSetText( lParam, "Количество изменений" )
.head 6 -  Return XSalTooltipSetText( lParam, CurrentLangTable.GetAtomTitle('RO.cFTipKPROLOG') )
.head 3 +  Data Field: nKv
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   6.05"
.head 6 -  Top:    0.631"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Return XSalTooltipSetText( lParam, "Код вал" )
.head 6 -  Return XSalTooltipSetText( lParam, CurrentLangTable.GetAtomTitle('RO.cFTipNKv') )
.head 3 +  Data Field: sKv
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   6.9"
.head 6 -  Top:    0.631"
.head 6 -  Width:  3.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Return XSalTooltipSetText( lParam, "Наименование вал" )
.head 6 -  Return XSalTooltipSetText( lParam, CurrentLangTable.GetAtomTitle('RO.cFTipSKv') )
.head 3 +  Data Field: nVidd
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   5.2"
.head 6 -  Top:    0.893"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Return XSalTooltipSetText( lParam, "Код вида сделки" )
.head 6 -  Return XSalTooltipSetText( lParam, CurrentLangTable.GetAtomTitle('RO.cFTipNVidd') )
.head 3 +  Data Field: sVidd
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   6.05"
.head 6 -  Top:    0.893"
.head 6 -  Width:  4.05"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Return XSalTooltipSetText( lParam, "Наименование вида сделки" )
.head 6 -  Return XSalTooltipSetText( lParam, CurrentLangTable.GetAtomTitle('RO.cFTipSVidd') )
.head 3 +  Data Field: NLS_OLD
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   5.2"
.head 6 -  Top:    1.155"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Return XSalTooltipSetText( lParam, "Основной счет " )
.head 6 -  Return XSalTooltipSetText( lParam, CurrentLangTable.GetAtomTitle('cTNLS') )
.head 3 +  Data Field: nOst
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   7.7"
.head 6 -  Top:    1.155"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Return XSalTooltipSetText( lParam, "Остаток на основном счете" )
.head 6 -  Return XSalTooltipSetText( lParam, CurrentLangTable.GetAtomTitle('RO.cFTipOst') )
.head 3 +  Data Field: sNlsN
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   5.2"
.head 6 -  Top:    1.417"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Return XSalTooltipSetText( lParam, "Счет нач.% " )
.head 6 -  Return XSalTooltipSetText( lParam, CurrentLangTable.GetAtomTitle('cTNLSN') )
.head 3 +  Data Field: nOstN
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   7.7"
.head 6 -  Top:    1.417"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Return XSalTooltipSetText( lParam, "Остаток на счете нач.% " )
.head 6 -  Return XSalTooltipSetText( lParam, CurrentLangTable.GetAtomTitle('RO.cFTipOstN') )
.head 3 +  Data Field: sDB_1819
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 15
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   5.2"
.head 6 -  Top:    1.714"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Return XSalTooltipSetText( lParam, "Счет деб.задолженности" )
.head 6 -  Return XSalTooltipSetText( lParam, CurrentLangTable.GetAtomTitle('RO.cFTipDB_1819') )
.head 3 +  Data Field: ost_DB_1819
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   7.7"
.head 6 -  Top:    1.714"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Return XSalTooltipSetText( lParam, "Остаток на счете деб.задолженности" )
.head 6 -  Return XSalTooltipSetText( lParam, CurrentLangTable.GetAtomTitle('RO.cFTipOst_DB_1819') )
.head 3 -  !
.head 3 -  Background Text: № тек.сделки и дата
.head 4 -  Resource Id: 19389
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    0.964"
.head 5 -  Width:  4.35"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgCC_ID
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: REF_ND
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   3.65"
.head 6 -  Top:    1.155"
.head 6 -  Width:  0.95"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Return XSalTooltipSetText( lParam, "Реф." )
.head 6 -  Return XSalTooltipSetText( lParam, CurrentLangTable.GetAtomTitle('cTMessRef') )
.head 3 +  Data Field: ND_NEW
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   3.65"
.head 6 -  Top:    1.417"
.head 6 -  Width:  0.95"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Return XSalTooltipSetText( lParam, "Реф." )
.head 6 -  Return XSalTooltipSetText( lParam, CurrentLangTable.GetAtomTitle('cTMessRef') )
.head 3 +  Data Field: CC_ID
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.7"
.head 6 -  Top:    1.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Return XSalTooltipSetText( lParam, "№ предыдущего тикета " )
.head 6 -  Return XSalTooltipSetText( lParam, CurrentLangTable.GetAtomTitle('RO.cFTipCC_ID') )
.head 3 +  Pushbutton: pb_Buch
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: ctb_pbBrowse
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   4.667"
.head 5 -  Top:    1.083"
.head 5 -  Width:  0.43"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.317"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: MS Sans Serif
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name: \BARS98\RESOURCE\BMP\Look.BMP
.head 4 -  Picture Transparent Color: Gray
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Light Green
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Set strTip = 'Просмотр Бух.модели сделки '
.head 6 -  Set strTip = CurrentLangTable.GetAtomTitle('cBTipBuch')
.head 5 +  On SAM_Click
.head 6 -  Call Sel008f(hWndMDI,13, ND_, '0' ,'0')
.head 3 +  Data Field: bDAT
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   0.2"
.head 6 -  Top:    1.155"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Center
.head 5 -  Format: Date
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Return XSalTooltipSetText( lParam, "Дата предыдущего тикета " )
.head 6 -  Return XSalTooltipSetText( lParam, CurrentLangTable.GetAtomTitle('RO.cFTipDAT') )
.head 3 +  Check Box: cb_NEW
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cCheckBoxLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Новая сделка
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    1.417"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Новая/Предыдущая сделка
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('RO.cFTipNEW'))
.head 5 +  On SAM_Create
.head 6 +  If cb_NEW
.head 7 -  Set dDatN = GetBankDate()
.head 7 -  Set CC_ID_NEW = STRING_Null
.head 7 -  Set ND_NEW = NUMBER_Null
.head 7 -  Call SalEnableWindow(CC_ID_NEW)
.head 7 -  Call SalEnableWindow(dDatN)
.head 7 -  Set TEMA = 'RollOver'
.head 6 +  Else
.head 7 -  Set dDatN = dDatN1
.head 7 -  Set CC_ID_NEW = CC_ID
.head 7 -  Set ND_NEW = REF_ND
.head 7 -  Call SalDisableWindow(CC_ID_NEW)
.head 7 -  Call SalDisableWindow(dDatN)
.head 7 -  ! Пролонгація
.head 7 -  Set TEMA = CurrentLangTable.GetAtomTitle('RO.cTNazn1')
.head 5 +  On SAM_Click
.head 6 -  Call SalEnableWindow(pbUpdate)
.head 6 -  Call SalSendMsg(cb_NEW, SAM_Create, 0, 0)
.head 3 +  Data Field: CC_ID_NEW
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 20
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.7"
.head 6 -  Top:    1.417"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! № нового тикета
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('RO.cFTipCC_ID_NEW'))
.head 5 +  On SAM_AnyEdit
.head 6 -  Call SalEnableWindow(pbUpdate)
.head 3 +  Pushbutton: pb_Buch2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: ctb_pbBrowse
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   4.667"
.head 5 -  Top:    1.417"
.head 5 -  Width:  0.43"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.317"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: MS Sans Serif
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name: \BARS98\RESOURCE\BMP\Look.BMP
.head 4 -  Picture Transparent Color: Gray
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Green
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Set strTip = 'Просмотр Бух.модели сделки '
.head 6 -  Set strTip = CurrentLangTable.GetAtomTitle('cBTipBuch')
.head 6 -  Call SalDisableWindow( pb_Buch2 )
.head 5 +  On SAM_Click
.head 6 -  Call Sel008f(hWndMDI,13, ND_NEW , '0' ,'0')
.head 3 -  Frame
.head 4 -  Resource Id: 55796
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.06"
.head 5 -  Top:    0.05"
.head 5 -  Width:  10.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 7.05"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: 3D Shadow Color
.head 4 -  Background Color: Default
.head 3 +  Data Field: TEMA
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   0.2"
.head 6 -  Top:    1.714"
.head 6 -  Width:  4.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Center
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  !
.head 3 -  Background Text: Дата завершения
.head 4 -  Resource Id: 55797
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    2.738"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgDATK
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Дата начала
.head 4 -  Resource Id: 55798
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    2.476"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgDATN
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Сумма договора
.head 4 -  Resource Id: 55799
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    2.988"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgS
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: % ставка
.head 4 -  Resource Id: 55800
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    3.25"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgPr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Сумма процентов
.head 4 -  Resource Id: 14901
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    3.5"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgIntS
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Предыдущее
.head 4 -  Resource Id: 55801
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   2.7"
.head 5 -  Top:    2.202"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgLast
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dDatN1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.7"
.head 6 -  Top:    2.44"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Date
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: dDatK1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.7"
.head 6 -  Top:    2.69"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Date
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: nS1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.7"
.head 6 -  Top:    2.94"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: nPr1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.7"
.head 6 -  Top:    3.19"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: nIntS1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.7"
.head 6 -  Top:    3.45"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  Background Text: Новое
.head 4 -  Resource Id: 55802
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   5.2"
.head 5 -  Top:    2.202"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgNew
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dDatN
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   5.2"
.head 6 -  Top:    2.44"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Date
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If dDatK <= dDatN
.head 7 -  Return VALIDATE_Cancel
.head 6 -  Return VALIDATE_Ok
.head 5 +  On SAM_AnyEdit
.head 6 -  Call SalEnableWindow(pbUpdate)
.head 3 +  Data Field: dDatK
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   5.2"
.head 6 -  Top:    2.69"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Date
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If dDatK <= dDatN
.head 7 -  Return VALIDATE_Cancel
.head 6 -  Set dDatK = CorrectDate(nKv, dDatK, dDatK + 1 )
.head 6 -  Set nK2 = dDatK - dDatK1 
.head 6 -  Call F_PROC()
.head 6 -  Return VALIDATE_Ok
.head 5 +  On SAM_AnyEdit
.head 6 -  Call SalEnableWindow(pbUpdate)
.head 3 +  Data Field: nS
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   5.2"
.head 6 -  Top:    2.94"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Set nS2 = nS - nS1 
.head 6 -  Call F_PROC()
.head 5 +  On SAM_AnyEdit
.head 6 -  Call SalEnableWindow(pbUpdate)
.head 5 +  On SAM_KillFocus
.head 6 -  Call SalFmtSetPicture(nS, '# ##0.' || SalStrRepeatX('0', nDig))
.head 3 +  Data Field: nPr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   5.2"
.head 6 -  Top:    3.19"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Set nPr2 = nPr - nPr1 
.head 6 -  Call F_PROC()
.head 5 +  On SAM_AnyEdit
.head 6 -  Call SalEnableWindow(pbUpdate)
.head 3 +  Data Field: nIntS
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   5.2"
.head 6 -  Top:    3.45"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Set nIntS2 = nIntS - nIntS1 
.head 5 +  On SAM_AnyEdit
.head 6 -  Call SalEnableWindow(pbUpdate)
.head 5 +  On SAM_KillFocus
.head 6 -  Call SalFmtSetPicture(nIntS, '# ##0.' || SalStrRepeatX('0', nDig))
.head 3 -  Background Text: Приращение
.head 4 -  Resource Id: 41212
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   7.7"
.head 5 -  Top:    2.202"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgP
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: nN2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   7.7"
.head 6 -  Top:    2.44"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: nK2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   7.7"
.head 6 -  Top:    2.69"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: nS2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   7.7"
.head 6 -  Top:    2.94"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: nPr2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   7.7"
.head 6 -  Top:    3.19"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: nIntS2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   7.7"
.head 6 -  Top:    3.45"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  Background Text: Вид договора
.head 4 -  Resource Id: 38806
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    3.762"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.179"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgVIDD
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: nVIDD1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 4
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.7"
.head 6 -  Top:    3.69"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: nVIDD
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 4
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   5.2"
.head 6 -  Top:    3.69"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_AnyEdit
.head 6 -  Call SalEnableWindow( pb_Free )
.head 6 -  Call SalEnableWindow(pbUpdate)
.head 5 +  On SAM_Validate
.head 6 +  If nVIDD1 != nVIDD
.head 7 +  If SqlPrepareAndExecute( hSql(),
"SELECT name INTO :sVIDD FROM cc_vidd WHERE vidd=:nVIDD and CUSTTYPE=1 and tipd=:nTip " )
and not SqlFetchNext( hSql(), nFetchRes)
.head 8 -  Call SalDisableWindow( pb_Free )
.head 8 -  ! Недопустимый изменяемый вид договора !
.head 8 -  Call Debug(CurrentLangTable.GetAtomTitle('RO.cTErr2'))
.head 8 -  Return VALIDATE_Cancel
.head 6 +  Else
.head 7 -  Call SalDisableWindow( pb_Free )
.head 7 -  Set sNLS_NEW  = NLS_OLD
.head 7 -  Set sNLSN_NEW = STRING_Null
.head 7 -  ! Не изменили вид договора !
.head 7 -  Call Debug(CurrentLangTable.GetAtomTitle('RO.cTErr3'))
.head 6 -  Return VALIDATE_Ok
.head 3 +  Pushbutton: pb_Free
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: ctb_pbSearch
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   7.167"
.head 5 -  Top:    3.714"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Light Green
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Set strTip = ' Свободные счета без остатка '
.head 6 -  Set strTip = CurrentLangTable.GetAtomTitle('RO.cBTipFree')
.head 5 +  On SAM_Click
.head 6 +  If nVIDD1 != nVIDD
.head 7 -  Set VIDD_ = Str(nVIDD)
.head 7 +  If SqlPrepareAndExecute (hSql (),
"SELECT Substr(Bars.MBK.F_NLS_MB( :VIDD_, :nRnk, 0, :nKv, :sMask), 1, 30 ) 
   INTO :sMBK FROM dual "  )
and SqlFetchNext ( hSql (), nTmp )
.head 8 -  Set sNLS_NEW  = Vkrz2(GetBankMfo(), SalStrTrimX( Subs(sMBK, 1,15) ) )
.head 8 -  Set sNLSN_NEW = Vkrz2(GetBankMfo(), SalStrTrimX( Subs(sMBK,16,15) ) )
.head 3 +  Data Field: sNLS_NEW
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   7.7"
.head 6 -  Top:    3.69"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: sNLSN_NEW
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   7.7"
.head 6 -  Top:    3.94"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: sVIDD1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   0.2"
.head 6 -  Top:    4.19"
.head 6 -  Width:  4.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: sVIDD
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   5.2"
.head 6 -  Top:    4.19"
.head 6 -  Width:  4.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  ! cCheckBoxLabeled: cbCapitalization
.winattr class Check Box:
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cCheckBoxLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Капитализация
.head 4 -  Window Location and Size
.head 5 -  Left:   2.7"
.head 5 -  Top:    3.94"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 4 +  Message Actions 
.head 5 +  On SAM_Click
.head 6 +  If cbCapitalization
.head 7 -  Call RODisable(mhEnabledWin)
.head 7 -  Call NASELENIE()
.head 7 -  Call SalSendMsg(cb_NEW, SAM_Create, 0, 0)
.head 7 -  Call SalEnableWindow(cbCapitalization)
.head 7 -  Set cbCapitalization = TRUE
.head 7 -  Set nK2 = NUMBER_Null
.head 7 -  Set nS2 = NUMBER_Null
.head 7 -  Set nPr2 = NUMBER_Null
.head 7 -  Set nIntS2 = NUMBER_Null
.head 7 -  !
.head 7 -  Set nS = nS + nOstN
.head 6 +  Else 
.head 7 -  Call ROEnable(mhEnabledWin)
.head 7 -  Set nS = nS1
.head 6 -  Call SalEnableWindow(hWndItem)
.head 3 -  Background Text: Обеспечение
.head 4 -  Resource Id: 61792
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    4.0"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgZal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfZal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.7"
.head 6 -  Top:    3.94"
.head 6 -  Width:  4.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  !
.head 3 -  Background Text: Основной счет
.head 4 -  Resource Id: 56908
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    4.536"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgNLSB_New
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  0.0"
.head 6 -  Width Editable? No
.head 6 -  Height: 0.0"
.head 6 -  Height Editable? No
.head 5 -  Visible? No
.head 5 -  Border? No
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: 3D Face Color
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Check Box: cbNlsB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cCheckBoxLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Внутрішній
.head 4 -  Window Location and Size
.head 5 -  Left:   2.7"
.head 5 -  Top:    4.488"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalEnableWindow(pbUpdate)
.head 6 -  Set NLSB_New = ''
.head 6 +  If cbNlsB
.head 7 -  Call SalShowWindow(NLSB_New)
.head 6 +  Else
.head 7 +  If nKv != n980 and VPS=0
.head 8 -  Call SalHideWindow(NLSB_New)
.head 6 -  Call SalSetFocus(NLSB_New)
.head 3 +  Data Field: NLSB_New
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 14
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.7"
.head 6 -  Top:    4.75"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If NOT SalIsNull(NLSB_New)
.head 7 +  If nVidd=1526
.head 8 +  If SqlPrepareAndExecute (hSql (),
  "SELECT acc FROM mbk_deal
   WHERE rnk=:nRnk and kv=:nKv and nls=:NLSB_New and dk=0 and ostc<0 ")
and not SqlFetchNext (hSql (), nTmp)
.head 9 -  Return VALIDATE_Cancel
.head 7 +  Else
.head 8 +  If cbNlsB
.head 9 +  If KeyAccount( sBankMFO, NLSB_New) != NLSB_New
.head 10 -  ! If SalMessageBox("Ош.счет(контр.разряд).
Попробуем еще раз?" , "Внимание!", MB_YesNo | MB_IconHand) = IDYES
.head 10 +  If SalMessageBox(CurrentLangTable.GetAtomTitle('KRE_DEPO.cTErrKR'), 
  CurrentLangTable.GetAtomTitle('cTAt'), MB_YesNo | MB_IconHand) = IDYES
.head 11 -  Return VALIDATE_Cancel
.head 8 +  Else
.head 9 +  If KeyAccount( MFOB, NLSB_New) != NLSB_New
.head 10 -  ! If SalMessageBox("Ош.счет(контр.разряд).
Попробуем еще раз?" , "Внимание!", MB_YesNo | MB_IconHand) = IDYES
.head 10 +  If SalMessageBox(CurrentLangTable.GetAtomTitle('KRE_DEPO.cTErrKR'), 
  CurrentLangTable.GetAtomTitle('cTAt'), MB_YesNo | MB_IconHand) = IDYES
.head 11 -  Return VALIDATE_Cancel
.head 6 -  Return VALIDATE_Ok
.head 5 +  On SAM_AnyEdit
.head 6 -  Call SalEnableWindow(pbUpdate)
.head 3 -  Background Text: Счет нач. %%
.head 4 -  Resource Id: 56907
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   5.2"
.head 5 -  Top:    4.536"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgNLSNB_New
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  0.0"
.head 6 -  Width Editable? No
.head 6 -  Height: 0.0"
.head 6 -  Height Editable? No
.head 5 -  Visible? No
.head 5 -  Border? No
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: 3D Face Color
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Check Box: cbNlsNB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cCheckBoxLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Внутрішній
.head 4 -  Window Location and Size
.head 5 -  Left:   7.7"
.head 5 -  Top:    4.488"
.head 5 -  Width:  1.9"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalEnableWindow(pbUpdate)
.head 6 -  Set NLSNB_New = ''
.head 6 +  If cbNlsNB
.head 7 +  If nTip != 1
.head 8 -  Call SalShowWindow(NLSNB_New)
.head 6 +  Else
.head 7 +  If nTip != 1 
.head 8 +  If nKv != n980 and VPS=0 
.head 9 -  Call SalHideWindow(NLSNB_New)
.head 6 -  Call SalSetFocus(NLSNB_New)
.head 3 +  Data Field: NLSNB_New
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 14
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   7.7"
.head 6 -  Top:    4.75"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If NOT SalIsNull(NLSNB_New)
.head 7 +  If cbNlsNB
.head 8 +  If KeyAccount( sBankMFO, NLSNB_New) != NLSNB_New
.head 9 -  ! If SalMessageBox("Ош.счет(контр.разряд).
Попробуем еще раз?" , "Внимание!", MB_YesNo | MB_IconHand) = IDYES
.head 9 +  If SalMessageBox(CurrentLangTable.GetAtomTitle('KRE_DEPO.cTErrKR'), 
  CurrentLangTable.GetAtomTitle('cTAt'), MB_YesNo | MB_IconHand) = IDYES
.head 10 -  Return VALIDATE_Cancel
.head 7 +  Else
.head 8 +  If KeyAccount( MFOB, NLSNB_New) != NLSNB_New
.head 9 -  ! If SalMessageBox("Ош.счет(контр.разряд).
Попробуем еще раз?" , "Внимание!", MB_YesNo | MB_IconHand) = IDYES
.head 9 +  If SalMessageBox(CurrentLangTable.GetAtomTitle('KRE_DEPO.cTErrKR'), 
  CurrentLangTable.GetAtomTitle('cTAt'), MB_YesNo | MB_IconHand) = IDYES
.head 10 -  Return VALIDATE_Cancel
.head 6 -  Return VALIDATE_Ok
.head 5 +  On SAM_AnyEdit
.head 6 -  Call SalEnableWindow(pbUpdate)
.head 3 -  Background Text: Трасса платежа входящего (57-BIC, 58-Счет)
.head 4 -  Resource Id: 56909
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    5.1"
.head 5 -  Width:  4.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgBICK_A
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: BICK_A
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 15
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   5.2"
.head 6 -  Top:    5.048"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Set BICK_A = SalStrUpperX( BICK_A )
.head 6 +  If BICK_A != STRING_Null and VOSTROK_A != STRING_Null
.head 7 +  If SqlPrepareAndExecute( hSql(),
  "SELECT to_number(a.nls), a.nms INTO :NLSK_A, :NBK_A
   FROM accounts a, BIC_ACC b
   WHERE UPPER(b.THEIR_ACC) =:VOSTRO_A and b.bic=:BICK_A and a.acc=b.acc " )
and not SqlFetchNext( hSql(), nFetchRes)
.head 8 -  ! Call SalMessageBox ('Лоро ' || BICKA ||' + '||SSLA, 'Ошибка !', 0 )
.head 8 -  Call SalMessageBox (CurrentLangTable.GetAtomTitle('KRE_DEPO.cTErrLoro') || ' ' || BICK_A || ' + ' || VOSTROK_A, 
  CurrentLangTable.GetAtomTitle('cTErr'), 0 )
.head 8 -  Return VALIDATE_Cancel
.head 5 +  On SAM_AnyEdit
.head 6 -  Call SalEnableWindow(pbUpdate)
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Return XSalTooltipSetText( lParam, 'BIC нашего банка-корреспонд' )
.head 6 -  Return XSalTooltipSetText( lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipBICKA') )
.head 3 +  Data Field: VOSTROK_A
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   7.7"
.head 6 -  Top:    5.05"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Set VOSTROK_A = SalStrUpperX( VOSTROK_A )
.head 6 +  If BICK_A != STRING_Null and VOSTROK_A != STRING_Null
.head 7 +  If SqlPrepareAndExecute( hSql(),
  "SELECT to_number(a.nls), a.nms INTO :NLSK_A , :NBK_A
   FROM accounts a, BIC_ACC b
   WHERE UPPER(b.THEIR_ACC) =:VOSTRO_A and b.bic=:BICK_A and a.acc=b.acc " )
and not SqlFetchNext( hSql(), nFetchRes)
.head 8 -  ! Call SalMessageBox ('Лоро ' || BICKA ||' + '||SSLA, 'Ошибка !', 0 )
.head 8 -  Call SalMessageBox (CurrentLangTable.GetAtomTitle('KRE_DEPO.cTErrLoro') || ' ' || BICK_A || ' + ' || VOSTROK_A, 
  CurrentLangTable.GetAtomTitle('cTErr'), 0 )
.head 8 -  Return VALIDATE_Cancel
.head 5 +  On SAM_AnyEdit
.head 6 -  Call SalEnableWindow(pbUpdate)
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Return XSalTooltipSetText( lParam, 'Счет VOSTRO у нашего банка-корреспонд' )
.head 6 -  Return XSalTooltipSetText( lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipSSLA') )
.head 3 +  Combo Box: NBK_A
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65330000
.enddata
.data CLASSPROPSSIZE
0000: 1700
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cGenComboBox_NumId
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left:   2.7"
.head 5 -  Top:    5.345"
.head 5 -  Width:  4.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.738"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: 35
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Dark Blue
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set NLSK_A = NBK_A.GetKey(SalListQuerySelection(NBK_A))
.head 6 -  Call SalSendMsg( NLSK_A, SAM_Validate, 0, 0)
.head 6 -  Call SalEnableWindow(pbUpdate)
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab( TRUE )
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Return XSalTooltipSetText( lParam, 'Наименование счета для входа валюты' )
.head 6 -  Return XSalTooltipSetText( lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipNBKA') )
.head 3 +  Data Field: NLSK_A
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 15
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   7.7"
.head 6 -  Top:    5.35"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If NLSK_A != NUMBER_Null
.head 7 +  If 1 = 1 !NOT cbNlsB
.head 8 +  If SqlPrepareAndExecute( hSql(),
  "SELECT a.nms, b.bic, b.THEIR_ACC INTO :NBK_A, :BICK_A , :VOSTROK_A
   FROM  bic_acc b, accounts a
   WHERE a.nls=:NLSK_A and a.kv=:nKv and a.dazs is null and a.acc=b.acc " )
and not SqlFetchNext(hSql(), nFetchRes)
.head 9 -  ! Ностро Str(SSA)
.head 9 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('KRE_DEPO.cTErrNostro') || ' ' || Str(NLSK_A), 
     CurrentLangTable.GetAtomTitle('cTErr'), 0)
.head 9 -  Return VALIDATE_Cancel
.head 5 +  On SAM_AnyEdit
.head 6 -  Call SalEnableWindow(pbUpdate)
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Счет для входа валюты
.head 6 -  Return XSalTooltipSetText( lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipSSA') )
.head 3 -  Background Text: Трасса платежа исходящего (57-BIC, 58-Счет)
.head 4 -  Resource Id: 56910
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    5.7"
.head 5 -  Width:  4.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgBICK_B
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: BICK_B
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 15
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   5.2"
.head 6 -  Top:    5.655"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Set BICK_B = SalStrUpperX( BICK_B )
.head 6 +  If BICK_B != STRING_Null
.head 7 +  If SqlPrepareAndExecute( hSql(),
  "SELECT name INTO :NBK_B FROM sw_banks WHERE bic=:BICK_B " )
and not SqlFetchNext( hSql(), nFetchRes)
.head 8 -  ! Call SalMessageBox (BICKB, 'Ошибка !', 0 )
.head 8 -  Call SalMessageBox (BICK_B, 
  CurrentLangTable.GetAtomTitle('cTErr'), 0 )
.head 8 -  Return VALIDATE_Cancel
.head 5 +  On SAM_AnyEdit
.head 6 -  Call SalEnableWindow(pbUpdate)
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Return XSalTooltipSetText( lParam, 'BIC банка-корресп партнера' )
.head 6 -  Return XSalTooltipSetText( lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipBICKB') )
.head 3 +  Data Field: VOSTROK_B
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   7.7"
.head 6 -  Top:    5.65"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_AnyEdit
.head 6 -  Call SalEnableWindow(pbUpdate)
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Return XSalTooltipSetText( lParam, 'Счет VOSTRO партнера у его банка-корресп' )
.head 6 -  Return XSalTooltipSetText( lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipSSLB') )
.head 3 +  Data Field: NBK_B
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.7"
.head 6 -  Top:    5.95"
.head 6 -  Width:  6.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Multiline Field: df57A
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  String Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Border? Yes
.head 5 -  Word Wrap? Yes
.head 5 -  Vertical Scroll? No
.head 5 -  Window Location and Size
.head 6 -  Left:   2.7"
.head 6 -  Top:    6.25"
.head 6 -  Width:  6.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.75"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab( FALSE )
.head 5 +  On SAM_AnyEdit
.head 6 -  Call SalEnableWindow(pbUpdate)
.head 3 +  Pushbutton: pbSearchBIC
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: ctb_pbBrowse
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   9.667"
.head 5 -  Top:    5.9"
.head 5 -  Width:  0.4"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: \BARS98\RESOURCE\BMP\Filter.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Set strTip = 'Поиск контрагента'
.head 6 -  Set strTip = CurrentLangTable.GetAtomTitle('KRE_DEPO.cBTipSearchBICB')
.head 5 +  On SAM_Click
.head 6 -  Call FunNSIGetFiltered('SW_BANKS','NAME','', BICK_B, NBK_B)
.head 3 +  Pushbutton: pbSearchBIC2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: ctb_pbBrowse
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   9.667"
.head 5 -  Top:    6.25"
.head 5 -  Width:  0.4"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: \BARS98\RESOURCE\BMP\Filter.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Set strTip = 'Поиск контрагента'
.head 6 -  Set strTip = CurrentLangTable.GetAtomTitle('KRE_DEPO.cBTipSearchBICB')
.head 5 +  On SAM_Click
.head 6 -  Call FunNSIGetFiltered('SW_BANKS','NAME','', sTmpBIC, sTmpBICName)
.head 6 +  If sTmpBIC != STRING_Null
.head 7 +  If df57A = STRING_Null
.head 8 -  Set df57A = sTmpBIC
.head 7 +  Else
.head 8 -  Set df57A = df57A || SalNumberToChar(13) || SalNumberToChar(10) || sTmpBIC
.head 3 -  Line
.head 4 -  Resource Id: 11377
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Coordinates
.head 5 -  Begin X:  0.06"
.head 5 -  Begin Y:  2.1"
.head 5 -  End X:  10.26"
.head 5 -  End Y:  2.1"
.head 4 -  Visible? Yes
.head 4 -  Line Style: Etched
.head 4 -  Line Thickness: 1
.head 4 -  Line Color: Default
.head 2 +  Functions
.head 3 +  Function: NASELENIE
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nOstZ
.head 5 -  Window Handle: hWndObject
.head 5 -  Number: i
.head 4 +  Actions
.head 5 -  Call SalMapEnterToTab(TRUE)
.head 5 +  !
.head 6 -  ! If SqlPrepareAndExecute(hSql(),
"SELECT v.name, d.vidd, a.nls, a.ostc/power(10,t.dig), a.kv, t.name,
        b.nls, b.ostc/power(10,t1.dig), c.nmk, c.okpo, d.rnk, d.wdate, ad.wdate,
        ad.s, acrn.fproc(a.acc,:bDAT), v.TIPD , a.acc , 
        ad.ACCKRED, ad.ACCPERC, d.KPROLOG, d18.ostc/power(10,t.dig), 
        a.tip, cb.num_nd, cb.DAT_ND, d.CC_ID, ad.bdate, t.dig, t1.dig, 
        cb.mfo, ad.mfokred, ad.mfoperc, ad.refp,
        ad.swi_acc, ad.swi_bic, ad.swo_acc, ad.swo_bic,
        ad.alt_partyb, ad.interm_b, ad.int_partya, ad.int_partyb, ad.int_interma, ad.int_intermb,
        ad.int_amount, i.basey
   INTO :sVidd, :nVidd, :NLS_OLD, :nOst,  :nKv,  :sKv,
        :sNlsN, :nOstN, :sNmk,    :OKPOB, :nRnk, :dDatK1, :dDatN1,
        :nS1,   :nPr1,  :nTip,    :ACC_OLD, 
        :NLSB,  :NLSNB, :KPROLOG, :ost_DB_1819, 
        :sTip,  :GND,   :DAT_GND, :CC_ID, :bDAT, :nDig, :nDigN, 
        :MFOB,  :MFOKred, :MFOPerc, :RefP,
        :VOSTROK_A, :BICK_A, :VOSTROK_B, :BICK_B,
        :df57A, :sIntermB, :sIntPartyA, :sIntPartyB, :sIntIntermA, :sIntIntermB, :nIntS1, :nBasey
   FROM accounts a, accounts b, int_accn i, cc_vidd v, cc_deal d, cc_add ad,
        customer c, tabval t, accounts d18 , custbank cb, tabval t1 
  WHERE a.acc = ad.accs AND a.acc = i.acc AND i.id   = v.tipd-1  
    AND b.acc = i.acra  AND c.rnk = d.rnk AND v.vidd = d.vidd 
    AND d.nd  = ad.nd   AND ad.adds=0     AND a.kv   = t.kv  
    AND c.rnk = cb.rnk  AND d18.nls='" || sDB_1819 || "' and d18.kv=a.kv
    AND ad.nd = " || Str(ND_) || " AND b.kv=t1.kv " ) 
and SqlFetchNext (hSql (), nFetchRes)
.head 5 -  If SqlPrepareAndExecute(hSql(),
"SELECT d.cc_id, d.vidd, d.vidd_name, d.tipd, d.date_end, d.date_u, d.date_v, d.s, d.s_pr, 
        d.a_nls, d.a_ostc/power(10,t.dig), d.a_acc, d.a_tip, d.a_kv, t.name,
        d.b_nls, d.b_ostc/power(10,t1.dig), 
        d.rnk, d.nmk, d.nmkk, d.okpo, d.num_nd, d.dat_nd, d.mfo, 
        d.acckred, d.accperc, d.mfokred, d.mfoperc, d.refp, d.kprolog,
        d.swi_acc, d.swi_bic, d.swo_acc, d.swo_bic,
        d.alt_partyb, d.interm_b, d.int_partya, d.int_partyb, d.int_interma, d.int_intermb,
        d.int_amount, d.basey, d18.ostc/power(10,t.dig), t.dig, t1.dig
   INTO :CC_ID, :nVidd, :sVidd, :nTip, :dDatK1, :bDAT, :dDatN1, :nS1, :nPr1, 
        :NLS_OLD, :nOst, :ACC_OLD, :sTip, :nKv, :sKv,	
        :sNlsN, :nOstN, 
        :nRnk, :sNmk,  :sNmkk, :OKPOB, :GND, :DAT_GND, :MFOB,
        :NLSB, :NLSNB, :MFOKred, :MFOPerc, :RefP, :KPROLOG,
        :VOSTROK_A, :BICK_A, :VOSTROK_B, :BICK_B,
        :df57A, :sIntermB, :sIntPartyA, :sIntPartyB, :sIntIntermA, :sIntIntermB, 
        :nIntS1, :nBasey, :ost_DB_1819, :nDig, :nDigN
   FROM mbk_deal d, accounts d18, tabval t, tabval t1 
  WHERE d.nd    = :ND_
    AND d18.nls = :sDB_1819 and d18.kv = d.a_kv
    AND d.a_kv  = t.kv  
    AND d.b_kv  = t1.kv " ) 
and SqlFetchNext(hSql (), nFetchRes)
.head 5 -  ! Set dDatN = GetBankDate()
.head 5 -  If SqlPrepareAndExecute( hSql(), 
 "select PUL.mvps_fil(:MFOKred, :nKv) into :VPS from dual" ) 
and not SqlFetchNext(hSql(), nFetchRes)
.head 5 -  Set nId      = nTip - 1 
.head 5 -  Set dDatK    = dDatN +1
.head 5 -  Set nN2      = dDatN - dDatN1 
.head 5 -  Set nVIDD    = nVidd
.head 5 -  Set nVIDD1   = nVidd
.head 5 -  Set sVIDD    = sVidd
.head 5 -  Set sVIDD1   = sVidd
.head 5 -  Set sNLS_NEW = NLS_OLD
.head 5 -  Set sMask = IifS(bNBUBANK AND Subs(NLS_OLD,10,1)='5', 'MBK_LIMITB', 'MBK')
.head 5 +  If dDatK <= dDatK1
.head 6 -  Set dDatK = dDatK1
.head 5 -  Set dDatK = CorrectDate(nKv, dDatK, dDatK +1)
.head 5 -  Set nPr = nPr1
.head 5 -  Set nS  = nS1
.head 5 -  Set nIntS = nIntS1
.head 5 +  ! If nCpt and nOstN != 0
.head 6 -  Call SalEnableWindow(cbCapitalization)
.head 5 +  ! Else
.head 6 -  Call SalDisableWindow(cbCapitalization)
.head 5 +  If SqlPrepareAndExecute(hSql(), 
"SELECT f.BICK, f.NLSK, s.name 
   INTO :BIC_B_, :VOSTRO_B_, :NBK_B_ 
   FROM forex_alien f, sw_banks s 
  WHERE f.kv=:nKv and UPPER(f.bick)=UPPER(s.bic (+)) and f.mfo=:MFOB " )
.head 6 -  Call SqlFetchNext(hSql(), nFetchRes)
.head 5 -  !
.head 5 +  If nKv = nKv
.head 6 -  Call NBK_A.Init(NBK_A)
.head 6 -  Call NBK_A.Populate(hSql(), "NLS", "SUBSTR(NMS,1,38)", "ACCOUNTS",
     "WHERE KV=" || Str(nKv) || " AND DAZS IS NULL AND ACC IN (SELECT ACC FROM BIC_ACC) ORDER BY NLS")
.head 5 -  Call SetData()
.head 5 +  If nTip != 1
.head 6 -  Set nCol = COLOR_DarkBlue
.head 5 +  Else
.head 6 -  Set nCol  = COLOR_DarkRed
.head 6 -  Set nOst  = -nOst
.head 6 -  Set nOstN = -nOstN
.head 5 -  ! Для сделок с открытыми договорами Залогов нельзя делать Rollover
.head 5 -  ! -- 1) проверяем обычный залог
.head 5 +  If SqlPrepareAndExecute(hSql(), 
"select decode(a.ostc,0,a.ostb,a.ostc) into :nOstZ 
   from cc_add d, cc_accp c, pawn_acc p, accounts a
  where d.nd = :ND_ and d.accs = c.accs and c.acc = p.acc and c.acc = a.acc")
.head 6 +  While SqlFetchNext(hSql(), nFetchRes)
.head 7 +  If nOstZ
.head 8 -  Call SalDisableWindow(cb_NEW)
.head 8 -  Break
.head 5 -  ! -- 2) проверяем счета ZAL, привязанные к договору
.head 5 +  If SqlPrepareAndExecute(hSql(), 
"select decode(a.ostc,0,a.ostb,a.ostc) into :nOstZ 
   from nd_acc n, accounts a
  where n.nd = :ND_ and n.acc = a.acc and a.tip = 'ZAL'")
.head 6 +  While SqlFetchNext(hSql(), nFetchRes)
.head 7 +  If nOstZ
.head 8 -  Call SalDisableWindow(cb_NEW)
.head 8 -  Break
.head 5 -  !
.head 5 +  If nDig
.head 6 -  Set sFormat = '#0' || XSalGetDecimalSeparator() || SalStrRepeatX('0', nDig)
.head 5 +  Else
.head 6 -  Set sFormat = '#0'
.head 5 -  Call SalFmtSetPicture(nOst, sFormat)
.head 5 -  Call SalFmtSetPicture(nS1, sFormat)
.head 5 -  Call SalFmtSetPicture(nS,  sFormat)
.head 5 -  Call SalFmtSetPicture(nS2, sFormat)
.head 5 -  Call SalFmtSetPicture(ost_DB_1819, sFormat)
.head 5 +  If nDigN
.head 6 -  Set sFormat = '#0' || XSalGetDecimalSeparator() || SalStrRepeatX('0', nDigN)
.head 5 +  Else
.head 6 -  Set sFormat = '#0'
.head 5 -  Call SalFmtSetPicture(nOstN, sFormat)
.head 5 -  Call SalColorSet(RO, 8, nCol)
.head 5 -  Call SalColorSet(NBK_A, 8, nCol)
.head 5 -  Call SalDisableWindow(pb_Free)
.head 5 -  Call SalWaitCursor(FALSE)
.head 5 -  ! Обеспечение
.head 5 -  Call SqlPrepareAndExecute(hSql(), "select name into :dfZal from cc_pawn where pawn = mbk.get_deal_param(:ND_, 'PAWN')")
.head 5 -  Call SqlFetchNext(hSql(), nFetchRes)
.head 5 -  !
.head 5 -  ! Минимальный набор полей для 3-го кл.
.head 5 +  If Subs(Str(nVidd),1,1) = '3' and bMBK_MIN3
.head 6 -  Call SalDisableWindow(dfRNum)
.head 6 -  Call SalDisableWindow(cb_NEW)
.head 6 -  Call SalDisableWindow(cbNlsB)
.head 6 -  Call SalDisableWindow(NBK_A)
.head 6 -  Call SalDisableWindow(NLSK_A)
.head 6 -  Call SalDisableWindow(BICK_B)
.head 6 -  Call SalDisableWindow(VOSTROK_B)
.head 6 -  Call SalDisableWindow(df57A)
.head 6 -  Call SalDisableWindow(pbSearchBIC)
.head 6 -  Call SalDisableWindow(pbSearchBIC2)
.head 5 -  ! Set i = 0
.head 5 -  ! Set hWndObject = SalGetFirstChild(hWndForm, TYPE_DataField | TYPE_ComboBox | TYPE_CheckBox | TYPE_PushButton | TYPE_MultilineText)
.head 5 +  ! While hWndObject != hWndNULL
.head 6 +  If SalIsWindowEnabled(hWndObject)
.head 7 -  Set mhEnabledWin[i] = hWndObject
.head 7 -  Set i = i + 1
.head 6 -  Set hWndObject = SalGetNextChild(hWndObject, TYPE_DataField | TYPE_ComboBox | TYPE_CheckBox | TYPE_PushButton | TYPE_MultilineText)
.head 5 +  ! If cbCapitalization
.head 6 -  Call RODisable(mhEnabledWin)
.head 6 -  Call SalEnableWindow(cbCapitalization)
.head 3 +  Function: RODisable
.head 4 -  Description:
.head 4 -  Returns
.head 4 +  Parameters
.head 5 -  Window Handle: mhWin[*]
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Window Handle: hWndObject
.head 5 -  Number: nNumWin
.head 5 -  Number: i
.head 4 +  Actions
.head 5 -  Set i = 0
.head 5 -  Call SalArrayGetUpperBound(mhWin, 1, nNumWin)
.head 5 +  While i <= nNumWin
.head 6 -  Call SalDisableWindow(mhWin[i])
.head 6 -  Set i = i + 1
.head 5 -  ! ?
.head 5 -  ! Call SalEnableWindow(cb_NEW)
.head 5 -  ! Call SalEnableWindow(CC_ID_NEW)
.head 5 -  Call SalEnableWindow(pbUpdate)
.head 3 +  Function: ROEnable
.head 4 -  Description:
.head 4 -  Returns
.head 4 +  Parameters
.head 5 -  Window Handle: mhWin[*]
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nNumWin
.head 5 -  Number: i
.head 4 +  Actions
.head 5 -  Set i = 0
.head 5 -  Call SalArrayGetUpperBound(mhWin, 1, nNumWin)
.head 5 +  While i <= nNumWin
.head 6 -  Call SalEnableWindow(mhWin[i])
.head 6 -  Set i = i + 1
.head 3 +  Function: F_SAVE
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 +  If not SqlPLSQLCommand(hSql(), "BARS.MBK.RO_deal 
( CC_ID_NEW, 
  ND_, ND_NEW, ACC1, nId, nKv, NLS_OLD, sNLS_NEW, sNLSN_NEW, 
  nS1, nS, nPr1, nPr, 
  dDatK1, dDatK, dDatN1, dDatN, 
  sNlsB, sMfoB, sNlsNB, sMfoNB, nRefP,
  BICK_A, VOSTROK_A, BICK_B, VOSTROK_B, df57A, sIntermA, sIntermB, sIntPartyA, sIntPartyB, sIntIntermA, sIntIntermB, nIntS)" ) 
and ACC1 != NUMBER_Null
.head 6 -  Call SqlRollbackEx(hSql(), AppCode || "Error MBK.RO_deal. ND=" || Str(ND_))
.head 6 -  Return FALSE
.head 5 -  !
.head 5 -  ! == Изменен счет
.head 5 +  If NLS_OLD != sNLS_NEW or ND_ != ND_NEW
.head 6 +  If not F_RELO()
.head 7 -  Call SqlRollbackEx(hSql(), AppCode || "Error F_RELO. ND=" || Str(ND_))
.head 7 -  Return FALSE
.head 5 -  !
.head 5 -  ! == Сохранение № розпорядження
.head 5 +  If dfRNum
.head 6 +  If not SqlPLSQLCommand(hSql(), "mbk.set_deal_param(ND_NEW, 'RNUM', dfRNum)")
.head 7 -  Call SqlRollbackEx(hSql(), "MBDK. Ошибка сохранения № распоряжения (" || dfRNum || ") для договора " || Str(ND_NEW))
.head 7 -  Return FALSE
.head 6 -  ! Пролонгація по договору
.head 6 -  Call SaveInfoToLog(AppCode || CurrentLangTable.GetAtomTitle('RO.cTNaznRO') || Str(ND_NEW) || 
     " " || CurrentLangTable.GetAtomTitle('RO.bgRNum') || dfRNum)
.head 5 -  !
.head 5 -  ! == sRO Дата=dDatK
.head 5 -  Call SqlCommitEx(hSql(), AppCode || sRO || " " ||
     CurrentLangTable.GetAtomTitle('RO.cTMess2') || "=" || SalFmtFormatDateTime(dDatK,'dd/MM/yyyy') )
.head 5 -  !
.head 5 -  Set nFL = 0
.head 5 -  ! Коррекция форвардных платежей
.head 5 -  ! Если сумма новая >= старой суммы, 
  то все форварды изъять, затем породить новые обычным способом.
? Иначе скорректировать(уменьшить) старые форварды со старой датой на (Старая сумма-Новая сумма) 
  и породить новые форварды на новую сумму (НЕ СДЕЛАНО)
.head 5 +  If SqlPrepareAndExecute( hSqlAux2(),
  "SELECT r.ref,o.s/100 INTO :nRef,:nTmp FROM mbd_k_r r,oper o 
   WHERE r.ref=o.ref and o.sos=3 and r.nd=:ND_ ")
.head 6 +  While SqlFetchNext (hSqlAux2(), nFetchRes)
.head 7 -  Set nFL = 1
.head 7 +  If SqlPrepareAndExecute(hSql(),"SELECT rec FROM arc_rrp WHERE ref=:nRef ") 
and SqlFetchNext(hSql(),nFetchRes) 
.head 8 -  Set nFL = 2
.head 8 -  Break
.head 7 +  If not SqlPLSQLCommand(hSql(),'chk.PUT_NOS(nRef,0)') 
.head 8 -  Set nFL = 2
.head 8 -  Break
.head 7 +  If not SqlPLSQLCommand(hSql(),"gl.pay_bck(nRef , 3 )")
.head 8 -  Set nFL = 2
.head 8 -  Break
.head 7 +  If not SqlPLSQLCommand(hSql(),"ful_bak(nRef)")
.head 8 -  Set nFL = 2
.head 8 -  Break
.head 5 +  If nFL = 1
.head 6 -  Call SqlCommitEx(hSql(), AppCode || "Успешно изъли/скорректировали  форвард ND=" || Str(ND_))
.head 6 -  ! Успешно изъли/скорректировали  форвард.ND
.head 6 -  Call MessageInfo(CurrentLangTable.GetAtomTitle('RO.cTMess5') || Str(ND_))
.head 5 +  Else If nFL = 2
.head 6 -  Call SqlRollbackEx(hSql(), AppCode || "Невозможно ИЗЪЯТЬ форвард ND=" || Str(ND_))
.head 6 -  ! Невозможно ИЗЪЯТЬ форвард.ND
.head 6 -  Call MessageError(CurrentLangTable.GetAtomTitle('RO.cTErr1') || Str(ND_))
.head 5 -  Return TRUE
.head 3 +  Function: F_RELO
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nRef1
.head 5 -  Number: nRef2
.head 5 -  Number: nS_
.head 5 -  Number: nDK_
.head 5 -  String: sLet
.head 5 -  Number: nVob
.head 5 -  Number: nVob980
.head 5 -  String: sNam
.head 4 +  Actions
.head 5 -  ! Переброску через транзит в сделках RollOver 
  делаем разными референсами, 
  каждый из которых будет связан со своей сделкой
.head 5 -  !
.head 5 -  ! 3-й класс - МежФилиальные
.head 5 +  If Subs(NLS_OLD,1,2)='39' and sMBD_LET != STRING_Null
.head 6 -  Set sLet = sMBD_LET
.head 5 -  ! 1-й класс
.head 5 +  Else If Subs(NLS_OLD,1,1)='1' and sMBD_TIK != STRING_Null
.head 6 -  Set sLet = sMBD_TIK
.head 5 +  Else
.head 6 -  ! Договір
.head 6 -  Set sLet = CurrentLangTable.GetAtomTitle('cTNaznDogovor')
.head 5 -  !
.head 5 -  ! RollOver/Пролонгація:
  IifS(GND=STRING_Null,       '', 'Ген.угода GND ') 
  IifS(DAT_GND=DATETIME_Null, '', 'вiд DAT_GND ') 
  sNmk sLet CC_ID вiд dDatN1 -> CC_ID_NEW вiд dDatN
.head 5 -  Set Nazn1 = Subs(
    IifS(cb_NEW=TRUE, 'RollOver', CurrentLangTable.GetAtomTitle('RO.cTNazn1')) || ': ' ||
    IifS(SalStrTrimX(GND)=STRING_Null, '',
         CurrentLangTable.GetAtomTitle('cTNaznGenUgoda') || ' ' || GND || ' ') ||
    IifS(DAT_GND=DATETIME_Null, '',
         CurrentLangTable.GetAtomTitle('cTNaznOt') || ' ' || SalFmtFormatDateTime(DAT_GND,'dd/MM/yyyy') || ' ') ||
    sNmk || ' ' || sLet || ' ' || CC_ID || ' ' || 
    CurrentLangTable.GetAtomTitle('cTNaznOt') || ' ' || SalFmtFormatDateTime(dDatN1,'dd/MM/yyyy') || ' -> ' || CC_ID_NEW || ' ' ||
    CurrentLangTable.GetAtomTitle('cTNaznOt') || ' ' || SalFmtFormatDateTime(dDatN,'dd/MM/yyyy') ||
    IifS(dfZal!='', " " || dfZal, ""), 1, 160)
.head 5 -  Set Nazn1 = Subs(Nazn1, 1, 160 ) 
.head 5 -  Set nS_   = SalNumberMin(nS, nS1) * SalNumberPower(10, nDig)
.head 5 -  Set nDK_  = IifN(nTip=1,1,0)
.head 5 -  Set nRef1 = NUMBER_Null
.head 5 -  Set nVob980 = Val(GetValueStr("SELECT vob FROM tts_vob WHERE tt='KV1'"))
.head 5 -  Set nVob    = IifN(nKv=n980, IifN(nVob980=0 OR nVob980=NUMBER_Null, 6, nVob980), nVobVal)
.head 5 -  Set sNam    = Subs(IifS(sNmkk!=STRING_Null, sNmkk, sNmk), 1, 38)
.head 5 -  Set sNd     = IifS(sMBK_ND='REF', '', Subs(CC_ID,1,10))
.head 5 -  Call cDoc.SetDoc(nRef1, 'KV1', nDK_, nVob, sNd,
     GetBankDate(), GetBankDate(), GetBankDate(), GetBankDate(),
     sDB_1819, sNam, GetBankMfo(), '', nKv, nS_, GetBankOkpoS(),
     NLS_OLD,  sNam, GetBankMfo(), '', nKv, nS_, GetBankOkpoS(),
     Nazn1, '',    GetIdOper(), '', NUMBER_Null, 0)
.head 5 +  If not cDoc.oDoc()
.head 6 -  Call SqlRollbackEx(hSql(), AppCode || "Error cDoc.oDoc-1")
.head 6 -  Return FALSE
.head 5 -  Set nRef1 = cDoc.m_nRef
.head 5 +  If not SqlPLSQLCommand(hSql(), "mbk.link_nd_ref(ND_, nRef1)")
.head 6 -  Call SqlRollbackEx(hSql(), AppCode || "Error INSERT into mbd_k_r(1): ND=" || Str(ND_))
.head 6 -  Return FALSE
.head 5 -  Set nRef2 = NUMBER_Null
.head 5 -  Set nDK_  = 1 - nDK_ 
.head 5 -  Set sNd   = IifS(sMBK_ND='REF', '', Subs(CC_ID_NEW,1,10))
.head 5 -  Call cDoc.SetDoc(nRef2, 'KV1', nDK_, nVob, sNd,
     GetBankDate(),  GetBankDate(),  GetBankDate(), GetBankDate(),
     sDB_1819, Subs(sNmk,1,38), GetBankMfo(), '', nKv, nS_, GetBankOkpoS(),
     sNLS_NEW, Subs(sNmk,1,38), GetBankMfo(), '', nKv, nS_, GetBankOkpoS(),
     Nazn1, '',    GetIdOper(), '', NUMBER_Null, 0)
.head 5 +  If not cDoc.oDoc()
.head 6 -  Call SqlRollbackEx(hSql(), AppCode || "Error cDoc.oDoc-2")
.head 6 -  Return FALSE
.head 5 -  Set nRef2 = cDoc.m_nRef
.head 5 +  If not SqlPLSQLCommand(hSql(), "mbk.link_nd_ref(ND_NEW, nRef2)")
.head 6 -  Call SqlRollbackEx(hSql(), AppCode || "Error INSERT into mbd_k_r(2): ND=" || Str(ND_))
.head 6 -  Return FALSE
.head 5 -  ! Добавляем в доп. рекв. старый НД
.head 5 +  If not SqlPrepareAndExecute(hSql(), "insert into operw(ref, tag, value) values (:nRef2, 'MBKND', :ND_)")
.head 6 -  Call SqlRollbackEx(hSql(), AppCode || "Error INSERT into operw MBKND")
.head 6 -  Return FALSE
.head 5 -  ! Call SqlCommit(hSql())
.head 5 -  Call SalEnableWindow( pb_Buch2 )
.head 5 -  ! NLS_OLD -> sNLS_NEW  Переведений залишок, Реф. nRef1, nRef2
.head 5 -  Call SalMessageBox(NLS_OLD || '->' || sNLS_NEW || ' ' || CurrentLangTable.GetAtomTitle('RO.cTMess1'),
     CurrentLangTable.GetAtomTitle('cTMessRef') || Str(nRef1) || ',' ||Str(nRef2), 0)
.head 5 -  Call SalEnableWindow( pb_Buch2 )
.head 5 +  If GetGlobalOptionEx('MBK_ROKV1') = 1
.head 6 -  Call DocsPrint(nRef1, 'OPER',0)
.head 6 -  Call DocsPrint(nRef2, 'OPER',0)
.head 5 -  Return TRUE
.head 3 +  Function: PrintTiket
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nVPS
.head 4 +  Actions
.head 5 -  ! Call Debug ('MFOB ='||MFOB ||' ,nKv='|| Str(nKv)) 
.head 5 -  If SqlPrepareAndExecute(hSql(),
"SELECT to_number(substr(PUL.MVPS_FIL( :MFOB, :nKv ),1,1))
 INTO :nVPS from dual ") 
and SqlFetchNext(hSql(), nFetchRes)
.head 5 -  ! Call Debug (' nVPS ='||Str(nVPS) ||' ,nKv='|| Str(nKv)) 
.head 5 -  !
.head 5 +  If nVPS=1 or nKv = n980
.head 6 -  ! Call Debug ('nVPS=1 or nKv = n980')
.head 6 -  Call F_PRINT_MB('tic_kdP.qrd', TEMA, 
     KPROLOG, ND_NEW, CC_ID, CC_ID_NEW, sVidd, nKv, nS, nPr, 
     nIntS, nTip, dDatN, dDatK, sNmk, MFOB, 
     NLSB_New, 
     MFOB, 
     IifS(nTip!=1, NLSNB_New,''), 
     IifS(nTip!=1, MFOB     ,''), 
     STRING_Null, STRING_Null, BICB, OKPOB, STRING_Null,
     GetBankName(), GetBankMfo(), 
     NLS_OLD, sNlsN, STRING_Null, STRING_Null, BICA, GetBankOkpoS(),  
     STRING_Null, NUMBER_Null, NUMBER_Null, bArc )
.head 5 +  Else
.head 6 -  ! Call Debug ('Else')
.head 6 -  Call F_PRINT_MB('tic_kdP.qrd', TEMA, 
     KPROLOG, ND_NEW, CC_ID, CC_ID_NEW, sVidd, nKv, nS, nPr, 
     nIntS, nTip, dDatN, dDatK, sNmk, MFOB, 
     IifS(cbNlsB=TRUE OR nKv=n980,NLSB_New,VOSTROK_B), 
     IifS(cbNlsB=TRUE,sBankMFO,IifS(nKv=n980,MFOB,BICK_B)), 
     IifS(nTip!=1,IifS(cbNlsNB OR nKv=n980,NLSNB_New,VOSTROK_B),''), 
     IifS(nTip!=1,IifS(cbNlsNB=TRUE,sBankMFO,IifS(nKv=n980,MFOB,BICK_B)),''), 
     STRING_Null, STRING_Null, BICB, OKPOB, STRING_Null,
     GetBankName(), GetBankMfo(), 
     NLS_OLD, sNlsN, STRING_Null, STRING_Null, BICA, GetBankOkpoS(),  
     STRING_Null, NUMBER_Null, NUMBER_Null, bArc )
.head 3 +  Function: SetData
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Set cbNlsB = FALSE
.head 5 -  Set cbNlsNB = FALSE
.head 5 +  If nTip = 1
.head 6 -  Call SalHideWindowAndLabel(bgNLSNB_New)
.head 6 -  Call SalHideWindow(cbNlsNB)
.head 6 -  Call SalHideWindow(NLSNB_New)
.head 5 +  If nKv = n980 or VPS = 1
.head 6 -  Set NLSB_New = NLSB
.head 6 +  If MFOKred = sBankMFO
.head 7 -  Set cbNlsB = TRUE
.head 6 +  If nTip != 1
.head 7 -  Set NLSNB_New = NLSNB
.head 7 +  If MFOPerc = sBankMFO
.head 8 -  Set cbNlsNB = TRUE
.head 5 +  Else
.head 6 +  If MFOKred = sBankMFO
.head 7 -  Set cbNlsB = TRUE
.head 7 -  Set NLSB_New = NLSB
.head 7 -  Call SalShowWindow(NLSB_New)
.head 6 +  Else
.head 7 -  Call SalHideWindow(NLSB_New)
.head 6 +  If nTip != 1
.head 7 +  If MFOPerc = sBankMFO
.head 8 -  Set cbNlsNB = TRUE
.head 8 -  Set NLSNB_New = NLSNB
.head 8 -  Call SalShowWindow(NLSNB_New)
.head 7 +  Else
.head 8 -  Call SalHideWindow(NLSNB_New)
.head 5 -  Set NLSK_A = RefP
.head 5 -  Call SalSendMsg(NLSK_A, SAM_Validate, 0, 0)
.head 5 -  Set bPr1 = cbNlsB
.head 5 -  Set bPr2 = cbNlsNB
.head 3 +  Function: F_TELEX1
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: strTempl
.head 5 -  String: strReport
.head 5 -  String: sQRD
.head 5 -  String: sTmp
.head 5 -  File Handle: hFile
.head 5 -  Long String: sTiket
.head 5 -  String: sRelMsgRef
.head 5 -  ! Параметры сделки
.head 5 -  String: vBicSender
.head 5 -  String: vMfoSender
.head 5 -  String: vBicReceiver
.head 5 -  Date/Time: vTradeDate
.head 5 -  Date/Time: vValueDate
.head 5 -  Date/Time: vMaturDate
.head 5 -  String: vFld17
.head 5 -  Number: vPrcCurrAmount
.head 5 -  String: vPrcCurrIsoCode
.head 5 -  Number: vIntRate
.head 5 -  Number: vIntAmount
.head 5 -  String: vBaseyCode
.head 5 -  String: vAgreementNum
.head 5 -  String: vAgreementDate
.head 5 -  Number: vSwiRef
.head 5 -  String: vBicPartyA
.head 5 -  String: vAccPartyA
.head 5 -  Number: vPrevSwRef
.head 5 -  String: vBicPartyB
.head 5 -  String: vAccPartyB
.head 5 -  String: vAltPartyB
.head 5 -  String: vIntermB
.head 5 -  String: vIntPartyA
.head 5 -  String: vIntIntermA
.head 5 -  String: vIntPartyB
.head 5 -  String: vIntIntermB
.head 5 -  String: vMfoPartyB
.head 5 -  !
.head 5 -  String: sNA
.head 5 -  String: sNB
.head 5 -  String: sTlxNum
.head 5 -  !
.head 5 -  String: tlxfTlxNum
.head 5 -  String: tlxfFrom
.head 5 -  String: tlxfTo
.head 5 -  String: tlxfCrDate
.head 5 -  String: tlxfAgrNum
.head 5 -  String: tlxfAgrDate
.head 5 -  String: tlxfTicketNum
.head 5 -  String: tlxfF20
.head 5 -  String: tlxfF21
.head 5 -  String: tlxfF22A
.head 5 -  String: tlxfF22B
.head 5 -  String: tlxfF22C
.head 5 -  String: tlxfF82A
.head 5 -  String: tlxfF87A
.head 5 -  String: tlxfF17
.head 5 -  !
.head 5 -  String: tlxfF30T
.head 5 -  String: tlxfF30V
.head 5 -  String: tlxfF30P
.head 5 -  String: tlxfF32
.head 5 -  String: tlxfF32H
.head 5 -  String: tlxfF30X
.head 5 -  String: tlxfF34
.head 5 -  String: tlxfF37
.head 5 -  String: tlxfF14
.head 5 -  String: tlxfFC56
.head 5 -  String: tlxfFC57
.head 5 -  String: tlxfFD56
.head 5 -  String: tlxfFD57
.head 5 -  String: tlxfFE56
.head 5 -  String: tlxfFE57
.head 5 -  String: tlxfFF56
.head 5 -  String: tlxfFF57
.head 5 -  !
.head 5 -  String: tlxfF36
.head 5 -  String: tlxfF32R
.head 5 -  String: tlxfFA57
.head 5 -  String: tlxfFA56
.head 5 -  String: tlxfF33P
.head 5 -  String: tlxfFB57
.head 5 -  String: tlxfFB56
.head 5 -  String: tlxfUserName
.head 5 -  !
.head 5 -  String: sDealRate
.head 5 -  Number: i
.head 5 -  Number: nOffset
.head 5 -  Long String: sSrcTicket
.head 5 -  Long String: sTgtTicket
.head 5 -  Number: nTlxDealRef
.head 4 +  Actions
.head 5 +  If not bArcT
.head 6 +  While TRUE
.head 7 +  If not bTELEX
.head 8 -  Break
.head 7 -  ! Call Debug('nDealRef=' || Str(nDealRef))
.head 7 -  ! Call Debug('nDealNewRef=' || Str(nNewDealRef))
.head 7 +  If nDealRef != nNewDealRef
.head 8 -  Set nTlxDealRef = nNewDealRef
.head 7 +  Else
.head 8 -  Set nTlxDealRef = nDealRef
.head 7 -  ! Call Debug('Use ref=' || Str(nTlxDealRef))
.head 7 -  ! имя шаблона
.head 7 -  Set strTempl = GetTemplateDir()||'\\tlx_320.qrd'
.head 7 -  ! имя исх файла
.head 7 -  Set strReport =
GetPrnDir()||'\\TL'||SalFmtFormatDateTime(SalDateCurrent() ,'hhhmmss') ||
    '.D' || SalStrRightX('0' || SalNumberToStrX(SalDateDay(SalDateCurrent()), 0), 2)
.head 7 -  ! переменные в шаблоне tlx_300.qrd
.head 7 -  Set sQRD = 
'TLXNUM_~FROM_~TO_~DATE_~AGRNUM_~AGRDATE_~TICKET_~F20_~F21_~F22C_~F22A_~F22B_~F82_~F87_~F17_~F30T_~F30V_~F30P_~F32_~F32H_~F30X_~F34_~F37_~F14_'
.head 7 -  Set sQRD = sQRD || '~FC57_~FC56_~FD57_~FD56_~FE57_~FE56_~FF57_~FF56_~TEL_~PODP_'
.head 7 -  ! Получаем номер телекса
.head 7 -  ! If SqlPrepareAndExecute( hSqlAux2(),
  "SELECT alt_bic INTO :sTlxNum FROM custbank WHERE rnk =:RNKB" ) and SqlFetchNext(  hSqlAux2(),  nFetchRes)
.head 7 -  ! Получаем параметры сделки
.head 7 -  If SqlPrepareAndExecute( hSqlAux2(), "
select b.bic, d.sdate, a.bdate, d.wdate, decode(v.tipd, 1, 'L', 'B'), a.s, t.lcv, r.ir, a.int_amount,
          y.name_mb, b.num_nd, b.dat_nd, a.swi_ref, a.swi_bic, a.swi_acc, a.swo_ref, a.swo_bic, a.swo_acc,
          substr(swift_utl.prepstr2(a.alt_partyb), 1, 200), 
          substr(swift_utl.prepstr2(a.interm_b), 1, 200), 
          substr(swift_utl.prepstr2(a.int_partya), 1, 200),
          substr(swift_utl.prepstr2(a.int_interma), 1, 200), 
          substr(swift_utl.prepstr2(a.int_partyb), 1, 200),
          substr(swift_utl.prepstr2(a.int_intermb), 1, 200), b.alt_bic, a.mfoperc
   into :vBicReceiver, :vTradeDate, :vValueDate, :vMaturDate, :vFld17, :vPrcCurrAmount, :vPrcCurrIsoCode, :vIntRate, :vIntAmount,
          :vBaseyCode, :vAgreementNum, :vAgreementDate, :vSwiRef, :vBicPartyA, :vAccPartyA, :vPrevSwRef,
          :vBicPartyB, :vAccPartyB, :vAltPartyB, :vIntermB, :vIntPartyA, :vIntIntermA, :vIntPartyB, :vIntIntermB, :sTlxNum, :vMfoPartyB
          from cc_deal d, cc_add a, custbank b, cc_vidd v, int_ratn r, int_accn n, customer c, tabval t, basey y
         where d.nd    = :nTlxDealRef
           and d.nd    = a.nd
           and a.adds  = 0
           and d.rnk   = b.rnk
           and a.accs  = r.acc
           and a.bdate = r.bdat
           and r.id    = decode(v.tipd, 1, 0, 1)
           and d.vidd  = v.vidd
           and a.accs  = n.acc
           and n.id    = decode(v.tipd, 1, 0, 1)
           and a.kv = t.kv
           and d.rnk   = c.rnk
           and n.basey = y.basey")  and SqlFetchNext( hSqlAux2(),  nFetchRes)
.head 7 -  Set vBicSender = STRING_Null
.head 7 +  If bSWIFT
.head 8 -  If SqlPrepareAndExecute( hSqlAux2(), "SELECT val INTO :vBicSender FROM params WHERE par='BICCODE'") and SqlFetchNext( hSqlAux2(),  nFetchRes) 
.head 8 -  Set vBicSender = GetGlobalOption('BICCODE')
.head 7 +  Else
.head 8 -  Set vMfoSender = GetGlobalOption('MFO')
.head 7 -  !
.head 7 -  ! Формируем параметры для телексного сообщения
.head 7 -  !
.head 7 -  ! ! Номер телекса
.head 7 -  Set tlxfTlxNum = sTlxNum
.head 7 -  ! Наименование отправителя получаем либо по BIC, либо по МФО
.head 7 +  If vBicSender != STRING_Null
.head 8 -  If SqlPrepareAndExecute( hSqlAux2(),
    "select substr(bic || ' ' || substr(name, 1, 30), 1, 30)
         into :tlxfFrom
        from sw_banks where bic = :vBicSender") and SqlFetchNext(  hSqlAux2(),  nFetchRes)
.head 7 +  Else
.head 8 -  If SqlPrepareAndExecute( hSqlAux2(),
    "select substr(swift_utl.prepstr2(nb), 1, 30)
         into :tlxfFrom
        from banks where mfo = :vMfoSender") and SqlFetchNext(  hSqlAux2(),  nFetchRes)
.head 7 -  ! Call Debug('vMfoSender=' || vMfoSender)
.head 7 -  ! Call Debug('vBicSender=' || vBicSender)
.head 7 -  ! У получателя должен быть либо БИК, либо МФО, либо наименование
.head 7 +  If vBicReceiver != STRING_Null
.head 8 -  If SqlPrepareAndExecute( hSqlAux2(),
    "select bic || ' ' || substr(name, 1, 30)
         into :tlxfTo
        from sw_banks where bic = :vBicReceiver") and SqlFetchNext(  hSqlAux2(),  nFetchRes)
.head 7 +  Else If vMfoPartyB != STRING_Null
.head 8 -  ! Задано МФО, перекодируем наименование
.head 8 -  If SqlPrepareAndExecute( hSqlAux2(),
    "select substr(swift_utl.prepstr2(nb), 1, 30)
         into :tlxfTo
        from banks where mfo = :vMfoPartyB") and SqlFetchNext(  hSqlAux2(),  nFetchRes)
.head 8 -  Set tlxfTo = "MFO" || vMfoPartyB || '  ' || tlxfTo
.head 7 +  Else
.head 8 -  ! Нет ни БИК, ни МФО - берем наименование клиента
.head 8 -  If SqlPrepareAndExecute( hSqlAux2(),
    "select substr(swift_utl.StrToSwift(nmkk , 'TRANS'), 1, 30)
         into :tlxfTo
        from customer where rnk = :nRnk") and SqlFetchNext(  hSqlAux2(),  nFetchRes)
.head 7 -  ! Дата и время формирования в формате [MON DD YYYY HH24:MI]
.head 7 -  Set tlxfCrDate = SalFmtFormatDateTime(SalDateCurrent(), 'MMM dd yyyy')
.head 7 -  ! Номер и дата ген. соглашения
.head 7 -  If SqlPrepareAndExecute( hSqlAux2(),
    "select num_nd, to_char(dat_nd, 'dd.mm.yyyy')
          into :tlxfAgrNum, :tlxfAgrDate
         from custbank
      where rnk = :nRnk") and SqlFetchNext(  hSqlAux2(),  nFetchRes)
.head 7 -  ! Номер тикета
.head 7 -  Set tlxfTicketNum = CC_ID_NEW
.head 7 -  ! Референс транзакции
.head 7 -  Set tlxfF20 = Str(nTlxDealRef)
.head 7 -  ! Референс связанного сообщения
.head 7 +  If (vPrevSwRef != NUMBER_Null)
.head 8 -  If SqlPrepareAndExecute( hSqlAux2(),
  "SELECT substr(value, 1, 16) INTO :sRelMsgRef FROM sw_operw WHERE swref=:vPrevSwRef and tag='20' and opt is null" )
 and SqlFetchNext(  hSqlAux2(),  nFetchRes)
.head 7 -  Set tlxfF21 = sRelMsgRef
.head 7 -  ! Общий референс (22C)
.head 7 +  If vBicSender != STRING_Null and vBicReceiver != STRING_Null
.head 8 -  Set sDealRate =  SalNumberToStrX(vIntRate, 2)
.head 8 -  ! Удаляем пробелы в конце
.head 8 -  Set i = SalStrLength(sDealRate)-1
.head 8 +  While i > 1
.head 9 +  If SalStrMidX(sDealRate, i, 1) != '0'
.head 10 -  Set sDealRate = SalStrLeftX(sDealRate, i)
.head 10 -  Set i = 0
.head 9 -  Set i = i - 1
.head 8 +  While SalStrLength(sDealRate) < 5
.head 9 -  Set sDealRate = '0' || sDealRate
.head 8 -  Set i = 1
.head 8 -  Set sTmp = STRING_Null
.head 8 +  While i < SalStrLength(sDealRate)
.head 9 +  If SalStrMidX(sDealRate, i, 1) != '.' and SalStrMidX(sDealRate, i, 1) != ','
.head 10 -  Set sTmp = sTmp || SalStrMidX(sDealRate, i, 1)
.head 9 -  Set i = i + 1
.head 8 +  If SalStrLeftX(vBicSender, 4) <= SalStrLeftX(vBicReceiver, 4)
.head 9 -  Set tlxfF22C = SalStrLeftX(vBicSender, 4) || SalStrMidX(vBicSender, 7, 2) || SalStrRightX(sTmp, 4) || SalStrLeftX(vBicReceiver, 4) || SalStrMidX(vBicReceiver, 7, 2)
.head 8 +  Else
.head 9 -  Set tlxfF22C = SalStrLeftX(vBicReceiver, 4) || SalStrMidX(vBicReceiver, 7, 2) || SalStrRightX(sTmp, 4) || SalStrLeftX(vBicSender, 4) || SalStrMidX(vBicSender, 7, 2)
.head 7 +  Else
.head 8 -  Set tlxfF22C = STRING_Null
.head 7 -  ! Тип сообщения
.head 7 -  Set tlxfF22A = 'NEWT'
.head 7 -  ! Бред Петрокоммерца: независимо от новое/не новое хотят иметь сообщение ROLLOVER
.head 7 -  ! Озвучили 10.10.2005
.head 7 -  Set tlxfF22B = 'ROLL'
.head 7 +  ! If nDealRef != nNewDealRef
.head 8 -          Set tlxfF22B = 'CONF'
.head 7 +  ! Else 
.head 8 -          Set tlxfF22B = 'ROLL'
.head 7 -  ! Сторона А, Б
.head 7 -  Set tlxfF82A = tlxfFrom
.head 7 -  Set tlxfF87A = tlxfTo
.head 7 -  ! Роль 17
.head 7 -  Set tlxfF17 = vFld17
.head 7 -  ! ! Дата заключения сделки
.head 7 -  Set tlxfF30T = SalFmtFormatDateTime(vTradeDate, 'yyyyMMdd')
.head 7 -  ! ! Дата валютирования сделки
.head 7 -  Set tlxfF30V = SalFmtFormatDateTime(vValueDate, 'yyyyMMdd')
.head 7 -  ! Дата возврата
.head 7 -  Set tlxfF30P = SalFmtFormatDateTime(vMaturDate,'yyyyMMdd')
.head 7 -  ! Сумма сделки
.head 7 -  Set tlxfF32 = vPrcCurrIsoCode || SalNumberToStrX(vPrcCurrAmount, 2)
.head 7 -  !
.head 7 -  Set tlxfF32H = vPrcCurrIsoCode || '0,'
.head 7 -  ! Дата текущего возврата процентов
.head 7 -  Set tlxfF30X = SalFmtFormatDateTime(vMaturDate, 'yyyyMMdd')
.head 7 -  ! Сумма процентов
.head 7 -  Set tlxfF34 = vPrcCurrIsoCode || SalNumberToStrX(vIntAmount, 2)
.head 7 -  ! Процентная ставка
.head 7 -  Set tlxfF37 = SalNumberToStrX(vIntRate,4)
.head 7 -  ! Кол-во дней в году
.head 7 -  Set tlxfF14 = vBaseyCode
.head 7 -  !
.head 7 +  If vAltPartyB = STRING_Null
.head 8 -  Set tlxfFC57 = '/' || vAccPartyB || '  ' || vBicPartyB
.head 7 +  Else
.head 8 -  Set tlxfFC57 = vAltPartyB
.head 7 -  Set tlxfFC56 = vIntermB
.head 7 -  Set tlxfFD57 = '/' || vAccPartyA ||  '  ' || vBicPartyA
.head 7 -  Set tlxfFD56 = STRING_Null
.head 7 -  ! Проценты
.head 7 -  Set tlxfFE57 = vIntPartyB
.head 7 -  Set tlxfFE56 = vIntIntermB
.head 7 -  Set tlxfFF57 = vIntPartyA
.head 7 -  Set tlxfFF56 = vIntIntermA
.head 7 -  !
.head 7 -  Set tlxfUserName = GetUserRealName()
.head 7 -  If SqlPrepareAndExecute( hSqlAux2(),
  "select substr(swift_utl.StrToSwift(:tlxfUserName,'TRANS'),1,40)
       into :tlxfUserName from dual " ) and SqlFetchNext(  hSqlAux2(),  nFetchRes)
.head 7 -  !
.head 7 -  Set sTmp= sTlxNum ||
'~' || tlxfFrom ||
'~' || tlxfTo || 
'~' || tlxfCrDate ||
'~' || tlxfAgrNum ||
'~' || tlxfAgrDate ||
'~' || tlxfTicketNum ||
'~' || tlxfF20 ||
'~' || tlxfF21 ||
'~' || tlxfF22C ||
'~' || tlxfF22A ||
'~' || tlxfF22B ||
'~' || tlxfF82A ||
'~' || tlxfF87A ||
'~' || tlxfF17   ||
'~' || tlxfF30T ||
'~' || tlxfF30V ||
'~' || tlxfF30P ||
'~' || tlxfF32   ||
'~' || tlxfF32H ||
'~' || tlxfF30X ||
'~' || tlxfF34   ||
'~' || tlxfF37  ||
'~' || tlxfF14   ||
'~' || tlxfFC57 ||
'~' || tlxfFC56 ||
'~' || tlxfFD57 ||
'~' || tlxfFD56 ||
'~' || tlxfFE57 ||
'~' || tlxfFE56 ||
'~' || tlxfFF57 ||
'~' || tlxfFF56 ||
'~' || ' ' || 
'~' || tlxfUserName
.head 7 -  Call DosReport ( strTempl, strReport,  sQRD, sTmp, 0)
.head 7 -  ! Set bArcT = TRUE
.head 7 +  If SalFileOpen( hFile, strReport, 0 )
.head 8 -  Call SalFileRead( hFile, sTiket, VisFileGetSize( strReport ) )
.head 8 -  ! Убираем пустые строки из файла
.head 8 -  Set nOffset = SalStrScan(sTiket, SalNumberToChar(13) || SalNumberToChar(10))
.head 8 -  ! Call Debug('First offset ' || Str(nOffset))
.head 8 -  Set sSrcTicket = sTiket
.head 8 +  While nOffset != -1
.head 9 -  Set sTmp = SalStrLeftX(sSrcTicket, nOffset+2)
.head 9 -  Set sSrcTicket = SalStrMidX(sSrcTicket, nOffset+2, SalStrLength(sSrcTicket)-nOffset+2)
.head 9 -  ! Call Debug('Curr line (' || Str(SalStrLength(sTmp)) || ')=' || sTmp)
.head 9 -  ! Call Debug('Left ticket (' || Str(SalStrLength(sSrcTicket)) || ') =' || sSrcTicket)
.head 9 -  ! Call Debug('Step 1')
.head 9 +  If SalStrTrimX(sTmp) != SalNumberToChar(13) || SalNumberToChar(10)
.head 10 -  Set sTgtTicket = sTgtTicket || sTmp
.head 10 -  ! Call Debug('line accepted')
.head 9 -  Set nOffset = SalStrScan(sSrcTicket, SalNumberToChar(13) || SalNumberToChar(10))
.head 9 -  ! Call Debug('New offset =' || Str(nOffset))
.head 8 -  Set sTiket = sTgtTicket
.head 8 -  If SqlPrepareAndExecute( hSqlAux2(), "select count(*) into :i from telex_file where nd = :ND_NEW and ins = 2") and SqlFetchNext( hSqlAux2(),  nFetchRes) 
.head 8 +  If i = 0
.head 9 -  If SqlPrepare( hSql(), 
   "INSERT into BARS.TELEX_FILE (TELEX,ins,nd) values (:sTiket,2,:ND_NEW) " )
and SqlSetLongBindDatatype(1, BLOB_BYTE) 
and SqlExecute(hSql())
.head 8 +  Else
.head 9 -  If SqlPrepare( hSql(), 
   "update bars.telex_file set telex = :sTiket where  nd = :ND_NEW and ins = 2" )
and SqlSetLongBindDatatype(1, BLOB_BYTE) 
and SqlExecute(hSql())
.head 8 -  Call SalFileClose( hFile )
.head 8 -  Call SqlCommitEx(hSql(), AppCode || "TELEX создан " || Str(ND_NEW) )
.head 7 -  Break
.head 3 +  Function: F_TELEX
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Return F_dlg_TELEX ( ND_NEW, 2)
.head 3 +  Function: F_PROC
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nDny
.head 5 -  String: sSqlW
.head 5 -  String: sPr
.head 5 -  String: sIO
.head 5 -  Number: nIO
.head 4 +  Actions
.head 5 -  Set nDny = dDatK - dDatN
.head 5 -  If SqlPrepareAndExecute(hSql(), "select nvl(IO, 0) into :nIO from proc_dr where nbs=:nVidd and sour=4") and SqlFetchNext(hSql(), nFetchRes)
.head 5 -  Set sIO  = Str(nIO)
.head 5 -  Set sPr  = Str(SalNumberRound(nPr * 10000))
.head 5 -  Set sSqlW = 
"BEGIN
   UPDATE accounts SET nms=nms WHERE acc=0 ;
   if SQL%rowcount = 0 then
      INSERT INTO ACCOUNTS(ACC,KV,vid,OSTB,OSTC,OSTF,OSTQ,DOS,KOS,DOSQ,KOSQ,rnk )
        VALUES (0, " || Str (n980) || ", 0, 0, 0, 0, 0, 0, 0, 0, 0, "|| Str(nRnk) ||" );
   end if;
   update accounts set kv="||Str(nKv)|| " where acc=0;
   UPDATE INT_ACCN set BASEY="||Str(nBasey)||",S=0,io="||sIO||" WHERE acc=0 and id=0;
   if SQL%rowcount = 0 then
      INSERT INTO INT_ACCN (ACC,ID,METR,BASEY,FREQ,S,io) VALUES(0,0,0,"||Str(nBasey)||",5,0,"||sIO||");  
   end if;
   DELETE from INT_RATN WHERE acc=0 and id=0 ; "||
 "INSERT INTO INT_RATN (ACC,ID,bdat,ir) VALUES (0,0,gl.BDATE,"||sPr||"/10000 );" ||"
END; "
.head 5 +  If SqlPrepareAndExecute(hSql(), sSqlW) 
.head 6 +  If nIO=1 AND dDatN<=dDatK-2
.head 7 -  Set nIntS = - p_intN (0,0, dDatN, dDatK-2, -nS * SalNumberPower(10,nDig), 0) 
.head 6 +  Else
.head 7 -  Set nIntS = - p_intN (0,0, dDatN, dDatK -1, -nS * SalNumberPower(10,nDig), 0) 
.head 6 -  Set nIntS = SalNumberRound( nIntS ) /  SalNumberPower(10,nDig) 
.head 6 -  Call SalSendMsg(nIntS, SAM_Validate, 0, 0)
.head 5 -  Call SqlRollback(hSql())
.head 5 -  Return TRUE
.head 2 +  Window Parameters
.head 3 -  Number: ND_
.head 3 -  String: DB_1819  ! Транзит Дебет по ожиданию поспуплений на привлечение
.head 3 -  String: sGrpD
.head 2 +  Window Variables
.head 3 -  String: sBankMFO
.head 3 -  Number: n980
.head 3 -  Number: nTmp
.head 3 -  String: sNd
.head 3 -  String: sMBK
.head 3 -  String: Nazn1
.head 3 -  String: sTXT_
.head 3 -  String: NLSB
.head 3 -  String: NLSNB
.head 3 -  String: BICB
.head 3 -  String: OKPOB
.head 3 -  String: BICA
.head 3 -  String: sTip
.head 3 -  Boolean: bArc
.head 3 -  Number: nTip 
.head 3 -  Number: nId
.head 3 -  Number: nCol
.head 3 -  Number: ACC_OLD
.head 3 -  Number: ACC1
.head 3 -  Date/Time: dEndProc
.head 3 -  Date/Time: bDat
.head 3 -  Number: nVobVal
.head 3 -  ! Number: nCpt	! Флаг капитализации
.head 3 -  String: sNmkk
.head 3 -  !
.head 3 -  Number: nRef
.head 3 -  String: sTmp
.head 3 -  String: sErrTxt
.head 3 -  Number: nFL
.head 3 -  : cDoc
.head 4 -  Class: cDoc
.head 3 -  Number: nGrpD
.head 3 -  Number: nDig
.head 3 -  Number: nDigN
.head 3 -  String: sFormat
.head 3 -  String: sMask
.head 3 -  String: VIDD_
.head 3 -  String: MFOKred
.head 3 -  String: MFOPerc
.head 3 -  Number: RefP
.head 3 -  String: BIC_B_
.head 3 -  String: VOSTRO_B_
.head 3 -  String: NBK_B_
.head 3 -  Boolean: bPr1
.head 3 -  Boolean: bPr2
.head 3 -  String: sNlsB
.head 3 -  String: sMfoB
.head 3 -  String: sNlsNB
.head 3 -  String: sMfoNB
.head 3 -  Number: nRefP
.head 3 -  Number: nRefreshAcc
.head 3 -  String: sTmpMsg
.head 3 -  String: sTmpBIC
.head 3 -  String: sTmpBICName
.head 3 -  String: sIntermA    !! Посредник А 56 (С)
.head 3 -  String: sIntermB    !! Посредник Б 56 (D)
.head 3 -  String: sIntPartyA
.head 3 -  String: sIntPartyB
.head 3 -  String: sIntIntermA
.head 3 -  String: sIntIntermB
.head 3 -  !
.head 3 -  Number: nNewDealRef
.head 3 -  Number: nDealRef
.head 3 -  Number: nNewSwRef
.head 3 -  Number: nBasey
.head 3 -  String: sOption
.head 3 -  !
.head 3 -  Boolean: bArcT
.head 3 -  Window Handle: mhEnabledWin[*]
.head 3 -  !
.head 3 -  Number: nVob
.head 3 -  Number: VPS
.head 3 -  !
.head 3 -  Window Handle: hWndObject
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  ! Call SetWindowFullSize(hWndForm)
.head 4 -  ! Присваиваем значения многоязыковым объектам
.head 4 -  Call SalSendMsgToChildren(hWndForm, UM_QueryLabelText, 0, 0)
.head 4 -  Call SalSetWindowText(hWndForm, AppVersion || CurrentLangTable.GetAtomTitle('RO.cTWndTitle'))
.head 4 -  Call PrepareWindow(hWndForm)
.head 4 -  Call SalSetWindowLabelText(bgNLSB_New,  CurrentLangTable.GetAtomTitle('cTNLS'))
.head 4 -  Call SalSetWindowLabelText(bgNLSNB_New, CurrentLangTable.GetAtomTitle('cTNLSN'))
.head 4 -  Call SalSetWindowLabelText(bgBICK_A, CurrentLangTable.GetAtomTitle('KRE_DEPO.cTBICKA'))
.head 4 -  Call SalSetWindowLabelText(bgBICK_B, CurrentLangTable.GetAtomTitle('KRE_DEPO.cTBICKB'))
.head 4 -  !
.head 4 -  Set nGrpD    = Val(sGrpD)
.head 4 -  Set sDB_1819 = DB_1819
.head 4 -  Set REF_ND   = ND_
.head 4 -  !
.head 4 -  Set bDat     = GetBankDate()
.head 4 -  Set sBankMFO = GetBankMfo()
.head 4 -  Set n980     = GetBaseVal()
.head 4 -  Set BICA     = GetGlobalOption('BICCODE')
.head 4 -  Set nVobVal  = GetGlobalOptionEx('MBK_VZAL')
.head 4 -  Set VPS = 0
.head 4 -  ! If SqlPrepareAndExecute( hSql(), 
 "select PUL.mvps_fil(p_mfo varchar2, p_kv int) into :VPS from dual" ) 
and not SqlFetchNext(hSql(), nFetchRes)
.head 4 -  !
.head 4 -  ! NBUBANK
.head 4 +  ! If not bNBUBANK
.head 5 -  Call SalHideWindow(cbCapitalization)
.head 4 -  ! Call SalHideWindow(cbCapitalization)
.head 4 -  !
.head 4 -  Call SalDisableWindow(pbUpdate)
.head 4 -  Call SalDisableWindow(pbTiket)
.head 4 -  ! Пролонгація по договору ND
.head 4 -  Set sRO = CurrentLangTable.GetAtomTitle('RO.cTNaznRO') || " " || Str(ND_) 
.head 4 -  Set cb_NEW = FALSE
.head 4 -  Call NASELENIE()
.head 4 -  !
.head 4 -  Call SalDisableWindow(pbCreateSWT)
.head 4 -  Call SalDisableWindow(pbViewSWT)
.head 4 -  Call SalDisableWindow(pbCreateTelex)
.head 3 +  On SAM_Activate
.head 4 -  Call SalSendMsg( SalParentWindow( hWndForm ), UM_MenuSelect, 0, 0 )
.head 1 +  Form Window: KRE_DEPO1 !! Просмотр своб.сч. на межбанк КРЕДИТ-Депозит
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Поиск свободного счета для сделки
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? Yes
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left:   1.738"
.head 4 -  Top:    0.51"
.head 4 -  Width:  8.1"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 4.4"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  Frame
.head 4 -  Resource Id: 7342
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.1"
.head 5 -  Top:    0.05"
.head 5 -  Width:  7.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.85"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Вид договора
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 7331
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    0.25"
.head 5 -  Width:  1.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgVIDD
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Combo Box: cmb_VIDD
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65330000
.enddata
.data CLASSPROPSSIZE
0000: 1700
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cGenComboBox_NumId
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left:   1.9"
.head 5 -  Top:    0.2"
.head 5 -  Width:  5.029"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.512"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: 35
.head 4 -  Sorted? Yes
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Call cmb_VIDD.Init(cmb_VIDD)
.head 6 -  Call cmb_VIDD.Populate(hSql(), "VIDD", "NAME", "CC_VIDD", 
  " WHERE CUSTTYPE=1 AND length(vidd)=4 " || 
  IifS(nParT=1, " AND tipd=1 ", IifS(nParT=2, " AND tipd=2 ", "")) || 
  IifS(nParM=1, " AND vidd like '1%' ", IifS(nParM=2, " AND vidd not like '1%' ", "")) ||
  " ORDER BY NAME")
.head 6 -  Call SalListSetSelect(cmb_VIDD, 0)
.head 6 -  Call SalSendMsg(cmb_VIDD, SAM_Click, 0, 0)
.head 5 +  On SAM_Click
.head 6 -  Set nVidd = cmb_VIDD.GetKey(SalListQuerySelection(hWndItem))
.head 6 -  Call F_NLS0()
.head 3 -  Background Text: Валюта
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 7332
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    0.55"
.head 5 -  Width:  1.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgKV
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfKv
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 3
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   1.9"
.head 6 -  Top:    0.5"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Center
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If not SalIsNull(dfKv)
.head 7 +  If SalIsValidInteger(dfKv)
.head 8 -  Set sTmpKv = 'kv'
.head 7 +  Else
.head 8 -  Set sTmpKv = 'lcv'
.head 8 -  Set dfKv = SalStrUpperX(dfKv)
.head 7 -  Call SqlPrepareAndExecute(hSql(), "SELECT kv, lcv, name INTO :nKv, :dfKv, :dfKvName FROM tabval WHERE "||sTmpKv||"=:dfKv")
.head 7 +  If not SqlFetchNext(hSql(), nFetchRes)
.head 8 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('KRE_DEPO1.bgKV'),
     CurrentLangTable.GetAtomTitle('cTErr'), MB_IconExclamation )
.head 8 -  Return VALIDATE_Cancel
.head 7 -  Call F_NLS0()
.head 6 -  Return VALIDATE_Ok
.head 3 +  Data Field: dfKvName
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.75"
.head 6 -  Top:    0.5"
.head 6 -  Width:  4.15"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbKv
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: ctb_pbFilter
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   6.95"
.head 5 -  Top:    0.429"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Поиск валюты
.head 6 -  Set strTip = CurrentLangTable.GetAtomTitle('cBTipKv')
.head 5 +  On SAM_Click
.head 6 +  If FunNSIGetFiltered("tabval", "name", 
     IifS(nParV=1, "kv="  || Str(n980), 
     IifS(nParV=2, "kv<>" || Str(n980), "")), sTmpKv, dfKvName)
.head 7 -  Call SqlPrepareAndExecute(hSql(), "SELECT kv, lcv, name INTO :nKv, :dfKv, :dfKvName FROM tabval WHERE kv=:sTmpKv")
.head 7 -  Call SqlFetchNext(hSql(), nFetchRes)
.head 7 -  Call F_NLS0()
.head 3 +  ! cGenComboBox_NumId: cmb_KV
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65330000
.enddata
.data CLASSPROPSSIZE
0000: 1700
.enddata
.winattr class Combo Box:
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cGenComboBox_NumId
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left:   1.967"
.head 5 -  Top:    0.857"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.036"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: 35
.head 4 -  Sorted? No
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.end
.head 4 -  List Initialization 
.head 4 +  Message Actions 
.head 5 +  On SAM_Create
.head 6 -  Call cmb_KV.Init(hWndItem)
.head 6 -  Call cmb_KV.Populate(hSql(), "KV", "LCV", "TABVAL", 
  IifS(nParV=1, " WHERE  kv="  || Str(n980), 
  IifS(nParV=2, " WHERE  kv<>" || Str(n980), "")) || " ORDER BY SKV")
.head 6 -  Call SalListSetSelect(cmb_KV,0)
.head 6 -  Call SalSendMsg(cmb_KV, SAM_Click, 0, 0)
.head 5 +  On SAM_Click
.head 6 -  Set nKv = cmb_KV.GetKey(SalListQuerySelection(hWndItem))
.head 6 -  Call F_NLS0()
.head 3 -  Frame
.head 4 -  Resource Id: 7343
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.1"
.head 5 -  Top:    0.95"
.head 5 -  Width:  7.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.0"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 -  ! Красная часть - B - нашего контрагента
.head 3 +  Pushbutton: pbPoisk
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: ctb_pbFilter
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   6.95"
.head 5 -  Top:    1.226"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name:
.head 4 -  Font Size: 0
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: \BARS98\RESOURCE\BMP\Filter.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Поиск контрагента
.head 6 -  Set strTip = CurrentLangTable.GetAtomTitle('cBTipPoisk')
.head 5 +  On SAM_Click
.head 6 -  Call FunNSIGetFiltered("CUSTOMER", "NMK", "customer.DATE_OFF is null and customer.custtype=1 " || 
"and customer.rnk in
(select rnk from custbank 
  where customer.codcagent=1 and mfo is not null and mfo <>'" || GetBankMfo() || "'
     or customer.codcagent=2 and bic is not null)", sTmp, NMKB)
.head 6 +  If sTmp != ''
.head 7 +  If SqlPrepareAndExecute(hSql(),sSqlPoisk || "a.rnk=" || sTmp)
and SqlFetchNext(hSql(), nFetchRes)
.head 8 -  Call SalEnableWindow(pbPrcAcc)
.head 8 -  Call SalEnableWindow(pbPasport)
.head 8 -  Call F_NLS0()
.head 3 -  Background Text: МФО
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 7333
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    1.1"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: Default
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Dark Red
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgMFOB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: MFOB
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65330000
.enddata
.data CLASSPROPSSIZE
0000: 1700
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 6
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   0.2"
.head 6 -  Top:    1.3"
.head 6 -  Width:  2.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: Default
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If MFOB != STRING_Null
.head 7 +  If SqlPrepareAndExecute(hSql(), sSqlPoisk || " b.mfo=:MFOB " )
and not SqlFetchNext(hSql(), nFetchRes)
.head 8 -  ! МФО
.head 8 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('cTMFO'), 
     CurrentLangTable.GetAtomTitle('cTAt'), 0)
.head 8 -  Return VALIDATE_Cancel
.head 7 -  Call F_NLS0()
.head 3 -  Background Text: BIC
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 7334
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   2.45"
.head 5 -  Top:    1.095"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Dark Red
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgBIC
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: BICB
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 35
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.45"
.head 6 -  Top:    1.3"
.head 6 -  Width:  2.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Set BICB = SalStrUpperX(BICB)
.head 6 +  If BICB != STRING_Null
.head 7 +  If SqlPrepareAndExecute(hSql(),sSqlPoisk || " b.bic=:BICB ")
and not SqlFetchNext(hSql(), nFetchRes)
.head 8 -  ! BIC
.head 8 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('cTBIC'), 
     CurrentLangTable.GetAtomTitle('cTAt'), 0)
.head 8 -  Return VALIDATE_Cancel
.head 7 -  Call F_NLS0()
.head 3 -  Background Text: № ген.соглашения
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 7337
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   4.7"
.head 5 -  Top:    1.095"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Dark Red
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgNd
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfND
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 35
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   4.7"
.head 6 -  Top:    1.3"
.head 6 -  Width:  2.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Set dfND = SalStrUpperX(dfND)
.head 6 +  If dfND != STRING_Null
.head 7 +  If SqlPrepareAndExecute(hSql(),sSqlPoisk || " a.nd=:dfND ")
and not SqlFetchNext(hSql(), nFetchRes)
.head 8 -  ! № Ген.согл.
.head 8 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('cTND'), 
     CurrentLangTable.GetAtomTitle('cTAt'), 0)
.head 8 -  Return VALIDATE_Cancel
.head 7 -  Call F_NLS0()
.head 3 -  Background Text: ОКПО
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 7335
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    1.65"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Dark Red
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgOKPOB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: OKPOB
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 14
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   0.2"
.head 6 -  Top:    1.85"
.head 6 -  Width:  2.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If OKPOB != STRING_Null
.head 7 +  If SqlPrepareAndExecute(hSql(), sSqlPoisk || " a.okpo = :OKPOB ")
and not SqlFetchNext(hSql(), nFetchRes)
.head 8 -  ! ОКПО
.head 8 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('cTOKPO'), 
     CurrentLangTable.GetAtomTitle('cTAt'), 0)
.head 8 -  Return VALIDATE_Cancel
.head 7 -  Call F_NLS0()
.head 3 -  Background Text: 1_ПБ
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 7338
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   2.45"
.head 5 -  Top:    1.655"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Dark Red
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgKOD_BB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: KOD_BB
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 35
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.45"
.head 6 -  Top:    1.85"
.head 6 -  Width:  2.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If KOD_BB != NUMBER_Null
.head 7 +  If SqlPrepareAndExecute(hSql(),sSqlPoisk || " b.kod_b=:KOD_BB ")
and not SqlFetchNext(hSql(), nFetchRes)
.head 8 -  ! 1_ПБ
.head 8 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('cTKOD_BB'), 
     CurrentLangTable.GetAtomTitle('cTAt'), 0)
.head 8 -  Return VALIDATE_Cancel
.head 7 -  Call F_NLS0()
.head 3 -  Background Text: Рег.№ 
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 7336
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   4.7"
.head 5 -  Top:    1.655"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Dark Red
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgRNKB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: RNKB
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   4.7"
.head 6 -  Top:    1.85"
.head 6 -  Width:  2.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If RNKB != NUMBER_Null
.head 7 +  If SqlPrepareAndExecute(hSql(),sSqlPoisk || " a.rnk=:RNKB ")
and not SqlFetchNext(hSql(), nFetchRes)
.head 8 -  ! Рег.№
.head 8 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('cTRNK'), 
     CurrentLangTable.GetAtomTitle('cTAt'), 0)
.head 8 -  Return VALIDATE_Cancel
.head 7 -  Call F_NLS0()
.head 3 -  Background Text: Наименование
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 7339
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    2.2"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Dark Red
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgNMKB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: NMKB
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 38
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   0.2"
.head 6 -  Top:    2.4"
.head 6 -  Width:  6.7"
.head 6 -  Width Editable? Yes
.head 6 -  Height: Default
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Set NMKB = SalStrUpperX(NMKB)
.head 6 +  If NMKB != STRING_Null
.head 7 -  Set sTmp = '%' || NMKB || '%'
.head 7 +  If SqlPrepareAndExecute(hSql(),sSqlPoisk || " UPPER(a.nmk) like :sTmp ")
and not SqlFetchNext(hSql(), nFetchRes)
.head 8 -  ! Нет похожих
.head 8 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('KRE_DEPO1.cTErrAcc'), 
     CurrentLangTable.GetAtomTitle('cTAt'), 0)
.head 8 -  Return VALIDATE_Cancel
.head 7 -  Call F_NLS0()
.head 3 -  !
.head 3 +  Pushbutton: pbPrcAcc
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65330000
.enddata
.data CLASSPROPSSIZE
0000: 1700
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: ctb_pbSwitch
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   6.95"
.head 5 -  Top:    1.774"
.head 5 -  Width:  0.43"
.head 5 -  Width Editable? No
.head 5 -  Height: 0.317"
.head 5 -  Height Editable? No
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Picture File Name: \BARS98\RESOURCE\BMP\Switch.bmp
.head 4 -  Picture Transparent Color: Gray
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Открытые счета контрагента
.head 6 -  Set strTip = CurrentLangTable.GetAtomTitle('cBTipPrcAcc')
.head 6 -  Call SalDisableWindow(pbPrcAcc)
.head 5 +  On SAM_Click
.head 6 -  Call ShowCustAccountsEx(RNKB)
.head 3 +  Pushbutton: pbPasport
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65330000
.enddata
.data CLASSPROPSSIZE
0000: 1700
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: ctb_pbGetValue
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   6.95"
.head 5 -  Top:    2.333"
.head 5 -  Width:  0.43"
.head 5 -  Width Editable? No
.head 5 -  Height: 0.317"
.head 5 -  Height Editable? No
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Picture File Name: \BARS98\RESOURCE\BMP\Book.bmp
.head 4 -  Picture Transparent Color: Gray
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Паспорт клиента-контрагента
.head 6 -  Set strTip = CurrentLangTable.GetAtomTitle('cBTipPasport')
.head 6 -  Call SalDisableWindow(pbPasport)
.head 5 +  On SAM_Click
.head 6 -  Call EditCustBanks(RNKB,CVIEW_ReadOnly | CVIEW_Accounts,hWndMDI)
.head 3 -  !
.head 3 -  Frame
.head 4 -  Resource Id: 7344
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.1"
.head 5 -  Top:    3.0"
.head 5 -  Width:  7.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.85"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Основной сч.
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 7340
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    3.15"
.head 5 -  Width:  2.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Dark Blue
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgNLSA
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: NLSA
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 15
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.45"
.head 6 -  Top:    3.1"
.head 6 -  Width:  2.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Blue
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_SetFocus
.head 6 -  Set sTmp = NLSA
.head 5 +  On SAM_AnyEdit
.head 6 -  Set NLSA = sTmp
.head 3 -  Background Text: Сч.начислен %
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 7341
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    3.45"
.head 5 -  Width:  2.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Dark Blue
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgNLSNA
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: NLSNA
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 15
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.45"
.head 6 -  Top:    3.4"
.head 6 -  Width:  2.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Blue
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_SetFocus
.head 6 -  Set sTmp = NLSNA
.head 5 +  On SAM_AnyEdit
.head 6 -  Set NLSNA = sTmp
.head 2 +  Functions
.head 3 +  Function: F_NLS0
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean: RET
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sTmp0
.head 5 -  String: sTmp1
.head 5 -  String: VIDD_
.head 5 -  String: maskid_
.head 4 +  Actions
.head 5 -  Set NLSA  = STRING_Null
.head 5 -  Set NLSNA = STRING_Null
.head 5 +  If SalIsNull(RNKB)
.head 6 -  Call SalDisableWindow(pbPrcAcc)
.head 6 -  Call SalDisableWindow(pbPasport)
.head 6 -  Return TRUE
.head 5 -  Call SalEnableWindow(pbPrcAcc)
.head 5 -  Call SalEnableWindow(pbPasport)
.head 5 -  !
.head 5 +  If RNKB != NUMBER_Null and nKv != NUMBER_Null and nVidd != NUMBER_Null
.head 6 +  If SqlPrepareAndExecute(hSql(),
"SELECT a.nls,  n.nls 
   INTO :sNLS1, :sNLS2 
   FROM accounts a, int_accn i, accounts n
  WHERE a.rnk  = :RNKB AND a.kv = :nKv AND a.nbs = :nVidd
    AND a.ostc = 0 AND a.ostb = 0 AND a.ostf = 0
    AND a.acc  = i.acc AND i.acra = n.acc
    AND n.ostc = 0 AND n.ostb = 0 AND n.ostf = 0
    AND (a.mdate<bankdate OR a.mdate IS NULL) AND a.dazs is null 
    AND (n.mdate<bankdate OR n.mdate IS NULL) AND n.dazs is null  
  ORDER BY substr(a.nls,12,2)") 
and SqlFetchNext(hSql(), nFetchRes)
.head 7 +  If SalModalDialog(FREE, hWndMDI, 0, RNKB, nKv, Str(nVidd), 0, sNLS1, sNLS2, 0, 0)
.head 8 -  Set NLSA  = sNLS1
.head 8 -  Set NLSNA = sNLS2
.head 6 +  If NLSA = STRING_Null 
.head 7 -  ! Бал счет 
.head 7 -  Set VIDD_   = Str(nVidd)
.head 7 -  Set maskid_ = "MBK" 
.head 7 +  If SqlPrepareAndExecute(hSql(), 
  "SELECT Substr(Bars.MBK.F_NLS_MB(:VIDD_, :RNKB, 0, :nKv, :maskid_ ),1,30) 
   INTO :sTmp0 FROM DUAL")
and SqlFetchNext(hSql(), nFetchRes)
.head 8 -  Set NLSA  = Vkrz2(GetBankMfo(), SalStrTrimX(Subs(sTmp0, 1,15)))
.head 8 -  Set NLSNA = Vkrz2(GetBankMfo(), SalStrTrimX(Subs(sTmp0,16,15)))
.head 5 -  Return TRUE
.head 2 +  Window Parameters
.head 3 -  Number: nMode
.head 3 -  Number: nPar
.head 3 -  ! nPar= xVTM
.head 3 -  ! Set nParV = Val(Subs(Str(nMode),2,1)) 
nParV=1 - нацвалюта,  
nParV=2 - инвалюта, 
иначе - нацвалюта + инвалюта
.head 3 -  ! Set nParT = Val(Subs(Str(nMode),3,1)) 
nParT=1 АКТИВЫ (Размещение), 
nParT=2 ПАССИВЫ (Привлечения) 
иначе - Размещение + Привлечения
.head 3 -  ! Set nParM = Val(Subs(Str(nMode),4,1)) 
nParM=1, 1 класс МежБанк
nParM=2, не 1 класс (МежФилиал)
иначе - МежБанк + МежФилиал
.head 3 -  String: sPar1
.head 3 -  String: sPar2
.head 2 +  Window Variables
.head 3 -  Number: nParV
.head 3 -  Number: nParT
.head 3 -  Number: nParM
.head 3 -  Number: n980
.head 3 -  String: sSqlPoisk
.head 3 -  Number: nKv
.head 3 -  Number: nVidd
.head 3 -  String: sNLS1
.head 3 -  String: sNLS2
.head 3 -  String: sTmp
.head 3 -  String: sTmpKv
.head 3 -  Number: ND
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  ! Call SetWindowFullSize(hWndForm)
.head 4 -  ! Присваиваем значения многоязыковым объектам
.head 4 -  Call SalSendMsgToChildren(hWndForm, UM_QueryLabelText, 0, 0)
.head 4 -  Call SalSetWindowText(hWndForm, AppVersion || CurrentLangTable.GetAtomTitle('KRE_DEPO1.cTWndTitle'))
.head 4 -  Call SalSetWindowLabelText(bgNLSA,  CurrentLangTable.GetAtomTitle('cTNLS'))
.head 4 -  Call SalSetWindowLabelText(bgNLSNA, CurrentLangTable.GetAtomTitle('cTNLSN'))
.head 4 -  Call PrepareWindowEx(hWndForm)
.head 4 -  !
.head 4 +  If nPar = 0
.head 5 -  Set nParV = 0
.head 5 -  Set nParT = 0
.head 5 -  Set nParM = 0
.head 4 +  Else
.head 5 -  Set nParV = Val(Subs(Str(nPar),2,1))
.head 5 -  Set nParT = Val(Subs(Str(nPar),3,1))
.head 5 -  Set nParM = Val(Subs(Str(nPar),4,1))
.head 4 -  !
.head 4 -  Set n980 = GetBaseVal()
.head 4 -  !
.head 4 -  Set sSqlPoisk=
"SELECT a.rnk, a.nmk, b.mfo, b.bic, a.nd, a.okpo, b.kod_b
   INTO :RNKB, :NMKB, :MFOB,:BICB, :dfND, :OKPOB, :KOD_BB
   FROM customer a, custbank b  
  WHERE a.DATE_OFF is null
    AND a.custtype = 1
    AND b.rnk = a.rnk
    and (a.codcagent=1 and b.mfo is not null and b.mfo <>'" || GetBankMfo() || "'
      or a.codcagent=2 and b.bic is not null) AND "
.head 4 -  Call SalMapEnterToTab(TRUE)
.head 4 -  Call SalWaitCursor(FALSE)
.head 3 +  ! On SAM_Activate
.head 4 -  Call SalSendMsg(SalParentWindow(hWndForm), UM_MenuSelect, 0, 0)
.head 1 +  Form Window: KRE_DEPO  !! Ввод сделки
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Ввод сделок по МБД - МБК
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? Yes
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left:   1.975"
.head 4 -  Top:    0.906"
.head 4 -  Width:  13.367"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 8.548"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.738"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Contents
.head 4 +  Data Field: MFOU
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65330000
.enddata
.data CLASSPROPSSIZE
0000: 1700
.enddata
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left:   0.1"
.head 7 -  Top:    0.071"
.head 7 -  Width:  1.4"
.head 7 -  Width Editable? Yes
.head 7 -  Height: 0.333"
.head 7 -  Height Editable? Yes
.head 6 -  Visible? Yes
.head 6 -  Border? Yes
.head 6 -  Justify: Left
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Font Name: Default
.head 6 -  Font Size: Default
.head 6 -  Font Enhancement: Bold
.head 6 -  Text Color: Dark Blue
.head 6 -  Background Color: Default
.head 6 -  Input Mask: Unformatted
.head 5 +  Message Actions
.head 6 +  On SAM_TooltipSetText
.head 7 -  Return XSalTooltipSetText(lParam, 'MFO ЮЛ')
.head 4 +  Pushbutton: pb_Rez
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbGetValue
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   1.583"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\Custbank.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Партнеры-Резиденты
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('cBTipRez')
.head 6 +  On SAM_Click
.head 7 -  Call Sel008p(hWndMDI, 1, 0)
.head 4 +  Pushbutton: pb_NRez
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbGetValue
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   2.033"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\Custcorp.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Партнеры-НеРезиденты
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('cBTipNRez')
.head 6 +  On SAM_Click
.head 7 -  Call Sel008p(hWndMDI, 2, 0)
.head 4 +  Pushbutton: pb_Portfel
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbGetValue
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   2.483"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\Details.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Портфель текущих сделок
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('KRE_DEPO.cBTipPortfel')
.head 6 +  On SAM_Click
.head 7 +  If not IsWindow(hNETTO)
.head 8 -  Set hNETTO = SalCreateWindow(NETTO, hWndMDI, 1000+100*nParV+10*nParT+nParM, 1, sDB_1819, sParWhere)
.head 7 +  Else
.head 8 -  Call SalBringWindowToTop(NETTO)
.head 4 +  Pushbutton: pb_Arch
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbGetValue
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   2.933"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\Sort.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Архив всех сделок
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('cBTipArch')
.head 6 +  On SAM_Click
.head 7 +  If not IsWindow(hARC)
.head 8 -  Set hARC = SalCreateWindow(ARC, hWndMDI,1000+100*nParV+10*nParT+nParM, nIsp, sDB_1819, sParWhere)
.head 7 +  Else
.head 8 -  Call SalBringWindowToTop(ARC)
.head 4 -  Line
.head 5 -  Resource Id: 31229
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Coordinates
.head 6 -  Begin X:  3.467"
.head 6 -  Begin Y:  0.083"
.head 6 -  End X:  3.467"
.head 6 -  End Y:  0.595"
.head 5 -  Visible? Yes
.head 5 -  Line Style: Etched
.head 5 -  Line Thickness: 1
.head 5 -  Line Color: Default
.head 4 +  Pushbutton: pbPasport
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbGetValue
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   3.583"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Паспорт клиента-контрагента
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('cBTipPasport')
.head 6 +  On SAM_Click
.head 7 +  If not SalIsNull(RNKB)
.head 8 -  Call EditCustBanks(RNKB, CVIEW_ReadOnly | CVIEW_Accounts, hWndMDI)
.head 4 +  Pushbutton: pbPrcAcc
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbGetValue
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   4.05"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\Switch.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Открытые счета контрагента
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('cBTipPrcAcc')
.head 6 +  On SAM_Click
.head 7 +  If not SalIsNull(RNKB)
.head 8 -  Call ShowCustAccountsEx(RNKB)
.head 4 -  Line
.head 5 -  Resource Id: 31230
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Coordinates
.head 6 -  Begin X:  4.583"
.head 6 -  Begin Y:  0.0"
.head 6 -  End X:  4.583"
.head 6 -  End Y:  0.512"
.head 5 -  Visible? Yes
.head 5 -  Line Style: Etched
.head 5 -  Line Thickness: 1
.head 5 -  Line Color: Default
.head 4 +  Pushbutton: pbOk1
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbOk
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   4.683"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Сохранить сделку
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('KRE_DEPO.cBTipOk1')
.head 6 +  On SAM_Click
.head 7 +  If not checkInputParams(sInputErr)
.head 8 -  ! Ошибочные параметры сделки, сохранение невозможно
.head 8 -  Call SalMessageBox(sInputErr || " - " || CurrentLangTable.GetAtomTitle('KRE_DEPO.cTErrPar'),
     CurrentLangTable.GetAtomTitle('cTAt'), MB_IconStop)
.head 7 +  Else
.head 8 +  If MFOA = Mfo_300465
.head 9 +  If sInic = STRING_Null
.head 10 -  Call SalMessageBox('НЕ выбран реквизит "Инициатор сделки" ! ',  'Внимание !' ,   MB_IconAsterisk | MB_Ok )
.head 10 -  Return FALSE
.head 8 -  !
.head 8 -  ! Для 643 поле 58D
.head 8 +  If nKv = 643 and not bParKR
.head 9 +  If not SalModalDialog(dlg_MSG, hWndForm, s58D, 'Підтвердіть поле 58D')
.head 10 -  Return FALSE
.head 8 -  !
.head 8 -  ! Сохранить сделку?, Реквизиты договора введены
.head 8 +  If SalMessageBox(CurrentLangTable.GetAtomTitle('KRE_DEPO.cTMessQuestSave'),
   CurrentLangTable.GetAtomTitle('KRE_DEPO.cTMessRekv'), MB_IconQuestion | MB_YesNo) = IDYES
.head 9 +  If F_SAVE(sSaveErr)
.head 10 -  ! Сделка CC_ID СОХРАНЕНА - с ND=Str(ND), Передано в БЭК-офис
.head 10 -  Call MessageNoWait(CurrentLangTable.GetAtomTitle('KRE_DEPO.cTMessDeal') || " " || CC_ID || " " ||
     CurrentLangTable.GetAtomTitle('KRE_DEPO.cTMessSave') || " - ND=" || Str(ND),
     CurrentLangTable.GetAtomTitle('KRE_DEPO.cTMessOffis'), 2, 0)
.head 10 -  Set bArc = TRUE
.head 10 -  Call SalSendMsg(pbTiket, SAM_Click, 0, 0)
.head 10 +  If SalStrScan(sMBK_REPONBS, Str(nVidd)) != -1
.head 11 +  If SalModalDialog(dlgMbkRepo, hWndForm, ND)
.head 12 -  Call SalMessageBox('Параметри РЕПО введено', 'Інформація!', MB_Ok | MB_IconAsterisk)
.head 9 +  Else
.head 10 -  Call SalMessageBeep(MB_IconStop)
.head 10 -  ! Сделка НЕ сохранена!
.head 10 -  Call MessageNoWait(CurrentLangTable.GetAtomTitle('KRE_DEPO.cTMessDeal') || " " ||
     CurrentLangTable.GetAtomTitle('KRE_DEPO.cTMessNotSave'), sSaveErr, 2, 1)
.head 4 +  Pushbutton: pbTiket
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbPrint
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   5.783"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Печать тикета сделки
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('cBTipTiket')
.head 6 +  On SAM_Click
.head 7 -  Call F_PRINT_MB('tic_kdo.qrd', ' ', 
     0, ND, dfND, CC_ID, cmb_VIDD, nKv, colSumma, colProcStavka, colSummaP, nTipd,
     colDatDU, colDatEndDog, NMKB, MFOB, NLSB, MFOB, NLSNB, MFOB, 
     IifS(cb_LOROB,'',BICKB), IifS(cb_LOROB,'',NBKB), BICB, OKPOB, SSLB, NMKA, MFOA, NLSA, NLSNA, 
     IifS(cb_LOROB,'',BICKA), IifS(cb_LOROB,'',NBKA), BICA, OKPOA, SSLA, colKvZ, colSummaZ, bArc)
.head 4 +  Pushbutton: pbPrintDeal
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbPrint
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   6.233"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\DOCS.BMP
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Печать договора
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('KRE_DEPO.cBTipPrintDeal')
.head 6 +  On SAM_Click
.head 7 -  Call PrintDeal(ND)
.head 4 +  Pushbutton: pbAcc
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbDetail
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   6.683"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Счета по сделке
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('KRE_DEPO.cBTipAcc')
.head 6 +  On SAM_Click
.head 7 -  Call ShowAccF(hWndMDI, "a.acc in (select acc from nd_acc where nd="|| Str(ND) || ")" )
.head 4 +  Pushbutton: pbProc
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbSearch
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   7.583"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\A_proc.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Проценты
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('KRE_DEPO.cBTipProc')
.head 6 +  On SAM_Click
.head 7 -  Call ShowAccF(hWndMDI, "a.acc in (select acc from nd_acc where nd="|| Str(ND) || ")" )
.head 7 -  Call SetProcParN(ACC1, NUMBER_Null, '', '')
.head 4 +  Pushbutton: pbPay
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbSearch
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   7.133"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\A_fins.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Платежи
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('KRE_DEPO.cBTipPay')
.head 6 +  On SAM_Click
.head 7 -  Call SalModalDialog(Dlg_Plat, hWndForm, ND, sDB_1819)
.head 4 +  Pushbutton: pbNew
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbRefresh
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   8.033"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Очистить окно ввода
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('KRE_DEPO.cBTipNew')
.head 6 +  On SAM_Click
.head 7 -  Call f_Clear()
.head 4 -  Line
.head 5 -  Resource Id: 31231
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Coordinates
.head 6 -  Begin X:  9.0"
.head 6 -  Begin Y:  -0.012"
.head 6 -  End X:  9.0"
.head 6 -  End Y:  0.5"
.head 5 -  Visible? Yes
.head 5 -  Line Style: Etched
.head 5 -  Line Thickness: 1
.head 5 -  Line Color: Default
.head 4 +  Pushbutton: pbFromSWT
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbBrowse
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   9.117"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\ARR1TOD.BMP
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Сформировать сделку по SWIFT сообщению
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('KRE_DEPO.cBTipFromSWT')
.head 6 +  On SAM_Click
.head 7 -  Call f_swImportMsg()
.head 4 +  Pushbutton: pbCreateSWT
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbBrowse
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   9.567"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\TOMAIL.BMP
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Сформировать SWIFT сообщение
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('KRE_DEPO.cBTipCreateSWT')
.head 6 +  On SAM_Click
.head 7 +  If SqlPLSQLCommand(hSql(), "SWIFT.Gen3xxMsg(320,ND)")
.head 8 -  ! Сформировано SWIFT-сообщение
.head 8 -  Call SqlCommitEx(hSql(), AppCode || CurrentLangTable.GetAtomTitle('NETTO.cTMsgCreateSWT'))
.head 8 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('NETTO.cTMsgCreateSWT'), 
     CurrentLangTable.GetAtomTitle('cTAt'), MB_Ok)
.head 8 -  Call SalEnableWindow(pbViewSWT)
.head 7 +  Else
.head 8 -  Call SqlRollback(hSql())
.head 4 -  Line
.head 5 -  Resource Id: 31232
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Coordinates
.head 6 -  Begin X:  11.017"
.head 6 -  Begin Y:  -0.024"
.head 6 -  End X:  11.017"
.head 6 -  End Y:  0.488"
.head 5 -  Visible? Yes
.head 5 -  Line Style: Etched
.head 5 -  Line Thickness: 1
.head 5 -  Line Color: Default
.head 4 +  Pushbutton: pbCancel1
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbCancel
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   11.117"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\Discard.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Выйти
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('KRE_DEPO.cBTipCancel1')
.head 6 +  On SAM_Click
.head 7 -  Call SalDestroyWindow(hWndForm)
.head 4 +  Pushbutton: pbViewSWT
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbBrowse
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   10.017"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.433"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \bars98\resource\bmp\VIEW.BMP
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 +  If SqlPrepareAndExecute(hSql(), "SELECT swo_ref INTO :nSWRef FROM cc_add WHERE nd = :ND and adds = 0" )
and  SqlFetchNext(hSql(), nFetchRes)
.head 8 -  Call SWIFTMsgView(hWndForm, nSWRef)
.head 6 +  On SAM_Create
.head 7 -  ! Просмотреть сформированную свифтовку
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('KRE_DEPO.cBTipViewSWT')
.head 4 +  Pushbutton: pbCreateTELEX
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbBrowse
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   10.467"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.433"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \bars98\resource\bmp\CHKMAIL.BMP
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set strTip = 'Save/Print/View/Update TELEX'
.head 6 +  On SAM_Click
.head 7 -  Call F_TELEX()
.head 4 +  Pushbutton: pbSavePartner
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbBrowse
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   8.483"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.433"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \bars98\resource\bmp\SAVE.BMP
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Сохранить информацию о трассе и посреднике
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('KRE_DEPO.cBTipSavePartner')
.head 6 +  On SAM_Click
.head 7 +  If SqlPLSQLCommand(hSql(), "mbk.save_partner_trace(RNKB, nKv, BICKB, SSLB, df57A, sIntermB, s58D, NLSB)")
.head 8 -  Call SqlCommit(hSql())
.head 7 +  Else
.head 8 -  Call SqlRollback(hSql())
.head 4 +  Pushbutton: pbSWDetail
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbBrowse
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   5.133"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.433"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\Edit.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Сохранить информацию о трассе и посреднике
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('KRE_DEPO.cBTipSWDetail')
.head 6 +  On SAM_Click
.head 7 -  Call SalModalDialog(dlgKREDEPO, hWndForm, sIntermA, sIntermB, sIntPartyA, sIntPartyB, sIntIntermA, sIntIntermB)
.head 4 +  Combo Box: cmb_INIC
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenComboBox_StrId
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Window Location and Size
.head 6 -  Left:   1.583"
.head 6 -  Top:    0.405"
.head 6 -  Width:  4.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 3.667"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Editable? Class Default
.head 5 -  String Type: Class Default
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Sorted? Class Default
.head 5 -  Always Show List? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 5 -  List Initialization
.head 5 +  Message Actions
.head 6 +  On SAM_TooltipSetText
.head 7 -  Return XSalTooltipSetText( lParam, 'Инициатор сделки' )
.head 6 +  On SAM_Create
.head 7 -  Call f_Clear1()
.head 6 +  On SAM_Click
.head 7 -  Set sInic = cmb_INIC.GetKey(  SalListQuerySelection(hWndItem))
.head 7 -  Call F_NLS0()
.head 2 +  Contents
.head 3 +  Picture: pic1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.1"
.head 5 -  Top:    0.05"
.head 5 -  Width:  12.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.3"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  File Name:
.head 4 -  Storage: External
.head 4 -  Picture Transparent Color: None
.head 4 -  Fit: Scale
.head 4 -  Scaling
.head 5 -  Width:  100
.head 5 -  Height:  100
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Tile To Parent? No
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Face Color
.head 4 -  Message Actions
.head 3 -  Background Text: Вид договора
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 31214
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    0.1"
.head 5 -  Width:  1.65"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.2"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgVIDD
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Combo Box: cmb_VIDD
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65330000
.enddata
.data CLASSPROPSSIZE
0000: 1700
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cGenComboBox_NumId
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    0.3"
.head 5 -  Width:  5.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.667"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: 35
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Вид договора
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.bgVIDD'))
.head 5 +  On SAM_Create
.head 6 -  Call cmb_VIDD.Init(cmb_VIDD)
.head 6 -  Call cmb_VIDD.Populate(hSql(), "VIDD", "NAME", "CC_VIDD", 
     " WHERE CUSTTYPE = 1 AND length(vidd)=4 " || 
     IifS(SalStrLength(sParWhere)>5, " AND (" || sParWhere || ") ", "") ||
     IifS(nParT=1, " AND tipd=1 ", IifS(nParT=2, " AND tipd=2 ", "")) || 
     IifS(nParM=1, " AND vidd like '1%' ", IifS(nParM=2, " AND vidd not like '1%' ", "")) ||
     " ORDER BY NAME")
.head 6 -  Set nVidd = NUMBER_Null
.head 5 +  On SAM_Click
.head 6 -  Call F_cmb_VIDD()
.head 6 -  Call F_NLS0()
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 3 -  !
.head 3 -  Background Text: Валюта
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 31215
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    0.7"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.2"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgKV
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Combo Box: cmb_KV	! Валюта
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65330000
.enddata
.data CLASSPROPSSIZE
0000: 1700
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cGenComboBox_NumId
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left:   1.3"
.head 5 -  Top:    0.65"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 5.214"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: 35
.head 4 -  Sorted? No
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Call SalSendMsg(cmb_Basey, UM_ObjActivate, 0, 0)
.head 6 -  Call cmb_KV.Init(hWndItem)
.head 6 -  Call cmb_KV.Populate(hSql(), "KV", "LCV", "TABVAL", 
     IifS(nParV=1, " WHERE kv="  || Str(n980), 
     IifS(nParV=2, " WHERE kv<>" || Str(n980), "")) || " ORDER BY SKV")
.head 6 -  Call SalListSetSelect(cmb_KV, 0)
.head 6 -  Call SalSendMsg(cmb_KV, SAM_User, 0, 0)
.head 5 +  On SAM_Click
.head 6 -  Call SalSendMsg(cmb_KV, SAM_User, 0, 0)
.head 6 -  Call F_NLS0()
.head 6 -  Call SalSendMsg(colSumma, SAM_Validate, 0, 0)
.head 5 +  On SAM_User
.head 6 -  Set nKv = cmb_KV.GetKey(SalListQuerySelection(hWndItem))
.head 6 -  ! % ставка
.head 6 -  Set nBR_ID = NUMBER_Null
.head 6 -  Call cmb_RATE.Init(cmb_RATE)
.head 6 -  Call cmb_RATE.Populate(hSql(), "BR_ID", "NAME", "BRATES",
     " WHERE  BR_ID in (select br_id from BR_NORMAL where kv=" || Str(nKv) || ") ORDER BY BR_ID desc")
.head 6 -  Call SalListSetSelect(cmb_RATE,0)
.head 6 -  Call SalSendMsg(cmb_RATE, SAM_Click, 0, 0)
.head 6 -  ! % база
.head 6 +  If SqlPrepareAndExecute(hSql(),
"SELECT nvl(basey,0), dig, prv INTO :nBASEY, :nDig, :nPrv FROM tabval WHERE kv=:nKv") 
and SqlFetchNext(hSql(), nFetchRes)
.head 7 -  ! % база
.head 7 -  Call SalListSetSelect(cmb_Basey, nBASEY)
.head 7 -  Call SalSendMsg(cmb_Basey, SAM_Click, 0, 0)
.head 6 -  ! Базовая цена (для металлов)
.head 6 -  Set dfBaseC = NUMBER_Null
.head 6 -  ! НБУ-на будущее
.head 6 +  ! If bNBUBANK and nPrv = 1
.head 7 -  Call SalShowWindow(dfBaseC)
.head 7 -  Call SalShowWindow(cmbBaseV)
.head 7 -  Call SalShowWindowAndLabel(bgBaseC)
.head 7 -  Call SalShowWindow(dfSummaP_V)
.head 7 -  Call SalShowWindowAndLabel(bgSummaP_V)
.head 6 +  If 1=0
.head 7 -  Call SalShowWindow(dfBaseC)
.head 7 -  Call SalShowWindow(cmbBaseV)
.head 7 -  Call SalShowWindowAndLabel(bgBaseC)
.head 7 -  Call SalShowWindow(dfSummaP_V)
.head 7 -  Call SalShowWindowAndLabel(bgSummaP_V)
.head 6 +  Else
.head 7 -  Call SalHideWindow(dfBaseC)
.head 7 -  Call SalHideWindow(cmbBaseV)
.head 7 -  Call SalHideWindowAndLabel(bgBaseC)
.head 7 -  Call SalHideWindow(dfSummaP_V)
.head 7 -  Call SalHideWindowAndLabel(bgSummaP_V)
.head 6 -  !
.head 6 -  If SqlPrepareAndExecute(hSql(),
"SELECT ostc/power(10,:nDig) INTO :ost_DB_1819 FROM accounts WHERE nls=:sDB_1819 and kv=:nKv")
and SqlFetchNext(hSql(), nFetchRes)
.head 6 -  !
.head 6 -  Call SetVPS()
.head 6 -  Call SetTrassa()
.head 6 -  Call SetSwParty()
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Валюта
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipKV'))
.head 3 -  !
.head 3 -  Background Text: Сумма
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 31216
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   3.0"
.head 5 -  Top:    0.7"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.2"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgSumma
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: colSumma
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 14
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   4.1"
.head 6 -  Top:    0.65"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.262"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Set colSumma = SalNumberAbs(colSumma)
.head 6 -  Set sFormat = '#0' || XSalGetDecimalSeparator() || SalStrRepeatX( '0', IifN(nDig!=NUMBER_Null,nDig,2))
.head 6 -  Call SalFmtSetPicture(colSumma, sFormat)
.head 6 -  Call F_PROC()
.head 6 -  Return VALIDATE_Ok
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 5 +  On SAM_KillFocus
.head 6 -  Set sFormat = '# ##0' || XSalGetDecimalSeparator() || SalStrRepeatX('0', nDig)
.head 6 -  Call SalFmtSetPicture(colSumma, sFormat)
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Сумма
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.bgSumma'))
.head 3 -  !
.head 3 -  Background Text: Базовая цена, валюта
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 32802
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    1.1"
.head 5 -  Width:  2.183"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.2"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgBaseC
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfBaseC
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.583"
.head 6 -  Top:    1.1"
.head 6 -  Width:  1.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.262"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  ! On SAM_Validate
.head 6 -  Set colSummaP = SalNumberAbs(colSummaP)
.head 6 -  Set sFormat = '#0' || XSalGetDecimalSeparator() || SalStrRepeatX('0', IifN(nDig!=NUMBER_Null,nDig,2))
.head 6 -  Call SalFmtSetPicture(colSummaP, sFormat)
.head 6 -  Return VALIDATE_Ok
.head 5 +  ! On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Базовая цена
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.bgBaseC'))
.head 3 +  Combo Box: cmbBaseV
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cGenComboBox_NumId
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left:   4.9"
.head 5 -  Top:    1.1"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.036"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Call cmbBaseV.Init(hWndItem)
.head 6 -  Call cmbBaseV.Populate(hSql(), "KV", "LCV", "TABVAL", " ORDER BY SKV")
.head 6 -  Call cmbBaseV.SetSelectById(nBaseV)
.head 6 -  Call SalSendMsg(cmbBaseV, SAM_Click, 0, 0)
.head 5 +  On SAM_Click
.head 6 -  Call SalSendClassMessage(SAM_Click, 0, 0)
.head 6 -  Set nBaseV = cmbBaseV.GetKey(SalListQuerySelection(hWndItem))
.head 6 -  Call SqlPrepareAndExecute(hSql(), "SELECT dig INTO :nBaseDig FROM tabval WHERE kv=:nBaseV") 
.head 6 -  Call SqlFetchNext(hSql(), nFetchRes) 
.head 6 -  Set sFormat = '# ##0' || XSalGetDecimalSeparator() || SalStrRepeatX('0', nDig)
.head 6 -  Call SalFmtSetPicture(colSumma, sFormat)
.head 6 -  Set sFormat = '# ##0' || XSalGetDecimalSeparator() || SalStrRepeatX('0', nDig)
.head 6 -  Call SalFmtSetPicture(colSummaP, sFormat)
.head 3 -  !
.head 3 -  Background Text: N тикета/договора
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65330000
.enddata
.data CLASSPROPSSIZE
0000: 1700
.enddata
.head 4 -  Resource Id: 31220
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    1.4"
.head 5 -  Width:  1.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.202"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgCC_ID
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: CC_ID
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65330000
.enddata
.data CLASSPROPSSIZE
0000: 1700
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 20
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   0.2"
.head 6 -  Top:    1.6"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.26"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! N тикета
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.bgCC_ID'))
.head 5 +  On SAM_Validate
.head 6 -  Call SqlPrepareAndExecute(hSql(), "select count(*) into :nTmp from cc_deal where cc_id = :CC_ID")
.head 6 -  Call SqlFetchNext(hSql(), nFetchRes)
.head 6 +  If nTmp > 0
.head 7 -  ! Договор с таким номером уже существует!
.head 7 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('KRE_DEPO.cTMessCcIdAlreadyExists'), CurrentLangTable.GetAtomTitle('cTInfo'), MB_IconExclamation | MB_Ok)
.head 6 -  Return VALIDATE_Ok
.head 3 -  !
.head 3 -  Background Text: Дата сделки
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 31221
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   2.15"
.head 5 -  Top:    1.4"
.head 5 -  Width:  1.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.202"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgDatWidKre
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: colDatDU		! Дата угоди (ДУ)
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 12
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.15"
.head 6 -  Top:    1.6"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.262"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Center
.head 5 -  Format: Date
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set colDatDU = GetBankDate()
.head 5 +  On SAM_Validate
.head 6 +  If colDatDU > colDatEndDog
or colDatDU > GetBankDate()
.head 7 -  Return VALIDATE_Cancel
.head 6 -  Set colDatDU = CorrectDate(nKv, colDatDU, colDatDU+1)
.head 6 -  Call F_PROC()
.head 6 -  Return VALIDATE_Ok
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Начало
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.bgDatWidKre'))
.head 3 -  !
.head 3 -  Background Text: Валютирование
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 32599
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   2.15"
.head 5 -  Top:    2.0"
.head 5 -  Width:  1.85"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.262"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgDatValDog
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: colDatDV		! Дата валютування (ДВ)
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 12
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   4.1"
.head 6 -  Top:    1.95"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.262"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Center
.head 5 -  Format: Date
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set colDatDV = GetBankDate()
.head 5 +  On SAM_Validate
.head 6 +  If colDatDV > colDatEndDog
or colDatDV < colDatDU
.head 7 -  Return VALIDATE_Cancel
.head 6 -  Set colDatDV = CorrectDate(nKv, colDatDV, colDatDV+1)
.head 6 -  Call F_PROC()
.head 6 -  Return VALIDATE_Ok
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Валютирование
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.bgDatValDog'))
.head 3 -  !
.head 3 -  Background Text: Завершение
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 31222
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   4.1"
.head 5 -  Top:    1.4"
.head 5 -  Width:  1.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.202"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgDatEndDog
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: colDatEndDog	! Дата закінчення (ДЗ)
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 12
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   4.1"
.head 6 -  Top:    1.6"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.262"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Center
.head 5 -  Format: Date
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set colDatEndDog = GetBankDate()+1
.head 6 -  Set colDatEndDog = CorrectDateMbk(nKv, colDatEndDog, colDatEndDog+1)
.head 5 +  On SAM_Validate
.head 6 +  If colDatEndDog <= colDatDV
.head 7 -  Return VALIDATE_Cancel
.head 6 -  Set colDatEndDog = CorrectDateMbk(nKv, colDatEndDog, colDatEndDog+1)
.head 6 -  Call F_PROC()
.head 6 -  Return VALIDATE_Ok
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Завершение
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.bgDatEndDog'))
.head 3 -  !
.head 3 +  Check Box: cbLimitB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cCheckBoxLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Ліміт коррахунку
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    1.95"
.head 5 -  Width:  1.9"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call F_NLS0()
.head 3 -  !
.head 3 -  ! Group Box: Rate ,  Base
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   5.85"
.head 5 -  Top:    0.119"
.head 5 -  Width:  5.567"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.583"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 +  Picture: pic6
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left:   6.2"
.head 5 -  Top:    0.15"
.head 5 -  Width:  6.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.2"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  File Name:
.head 4 -  Storage: External
.head 4 -  Picture Transparent Color: None
.head 4 -  Fit: Scale
.head 4 -  Scaling
.head 5 -  Width:  100
.head 5 -  Height:  100
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Tile To Parent? No
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Face Color
.head 4 -  Message Actions
.head 3 +  Radio Button: rbRF
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Fix
.head 4 -  Window Location and Size
.head 5 -  Left:   6.3"
.head 5 -  Top:    0.25"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Blue
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call F_RATE()
.head 3 +  Radio Button: rbRV
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Var
.head 4 -  Window Location and Size
.head 5 -  Left:   6.3"
.head 5 -  Top:    0.5"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Red
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call F_RATE()
.head 3 +  Data Field: colProcStavka
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   7.95"
.head 6 -  Top:    0.35"
.head 6 -  Width:  2.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.262"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Blue
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Set colProcStavka = SalNumberAbs(colProcStavka)
.head 6 -  Call F_PROC()
.head 6 -  Return VALIDATE_Ok
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab( TRUE )
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! % ставка
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipProcStavka'))
.head 3 +  Data Field: nBR_ID
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   7.2"
.head 6 -  Top:    0.35"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.262"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  Background Text: % ставка
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 31217
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   6.3"
.head 5 -  Top:    0.1"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.202"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgProcStavka
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  0.0"
.head 6 -  Width Editable? No
.head 6 -  Height: 0.0"
.head 6 -  Height Editable? No
.head 5 -  Visible? No
.head 5 -  Border? No
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: 3D Face Color
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Combo Box: cmb_RATE
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65330000
.enddata
.data CLASSPROPSSIZE
0000: 1700
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cGenComboBox_NumId
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left:   7.95"
.head 5 -  Top:    0.345"
.head 5 -  Width:  4.15"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.512"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: 35
.head 4 -  Sorted? No
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Red
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set nBR_ID = cmb_RATE.GetKey(SalListQuerySelection(cmb_RATE))
.head 6 -  Call F_PROC()
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 5 +  On SAM_TooltipSetText
.head 6 -  Return XSalTooltipSetText(lParam, 'Rate')
.head 3 -  Background Text: % база
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 31218
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   6.3"
.head 5 -  Top:    0.95"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.2"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgBasey
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  0.0"
.head 6 -  Width Editable? No
.head 6 -  Height: 0.0"
.head 6 -  Height Editable? No
.head 5 -  Visible? No
.head 5 -  Border? No
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: 3D Face Color
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Combo Box: cmb_Basey
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cGenComboBox_NumId
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left:   7.4"
.head 5 -  Top:    0.9"
.head 5 -  Width:  1.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.345"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! % база
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.bgBasey'))
.head 5 +  On UM_ObjActivate
.head 6 -  Call cmb_Basey.Init(cmb_Basey)
.head 6 -  Call cmb_Basey.Populate(hSql(), "BASEY", "NAME", "BASEY", "WHERE basey <4 ORDER BY basey")
.head 6 -  Call SalListSetSelect(cmb_Basey, nBASEY )
.head 6 -  Call SalSendMsg(cmb_Basey, SAM_Click, 0, 0)
.head 5 +  On SAM_Click
.head 6 -  Set nBASEY = cmb_Basey.GetKey(SalListQuerySelection(hWndItem))
.head 6 -  Call F_PROC()
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 3 -  Background Text: Сумма %%
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 31219
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   6.3"
.head 5 -  Top:    1.25"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.2"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgSummaP
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: colSummaP
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   7.4"
.head 6 -  Top:    1.2"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.262"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  ! On SAM_Validate
.head 6 -  Set colSummaP = SalNumberAbs(colSummaP)
.head 6 +  If nBaseV and nBaseDig
.head 7 -  Set sFormat = '#0' || XSalGetDecimalSeparator() || SalStrRepeatX('0', IifN(nBaseDig!=NUMBER_Null,nBaseDig,2))
.head 6 +  Else 
.head 7 -  Set sFormat = '#0' || XSalGetDecimalSeparator() || SalStrRepeatX('0', IifN(nDig!=NUMBER_Null,nDig,2))
.head 6 -  Call SalFmtSetPicture(colSummaP, sFormat)
.head 6 -  Return VALIDATE_Ok
.head 5 +  On SAM_Validate
.head 6 -  Set colSummaP = SalNumberAbs(colSummaP)
.head 6 -  Set sFormat = '#0' || XSalGetDecimalSeparator() || SalStrRepeatX('0', nDig)
.head 6 -  Call SalFmtSetPicture(colSummaP, sFormat)
.head 6 +  If nPrv = 1 and dfBaseC
.head 7 -  Set dfSummaP_V = colSummaP * dfBaseC
.head 6 -  Return VALIDATE_Ok
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 5 +  On SAM_KillFocus
.head 6 -  Set sFormat = '# ##0' || XSalGetDecimalSeparator() || SalStrRepeatX('0', nDig)
.head 6 -  Call SalFmtSetPicture(colSummaP, sFormat)
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Сумма %%
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.bgSummaP'))
.head 3 -  Background Text: в баз. валюте
.head 4 -  Resource Id: 24445
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   9.2"
.head 5 -  Top:    1.25"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgSummaP_V
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfSummaP_V
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   10.5"
.head 6 -  Top:    1.2"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  !
.head 3 +  Check Box: cbCapitalization
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cCheckBoxLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Капитализация
.head 4 -  Window Location and Size
.head 5 -  Left:   9.2"
.head 5 -  Top:    0.9"
.head 5 -  Width:  2.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 -  !
.head 3 +  Picture: picAccDox
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left:   6.2"
.head 5 -  Top:    0.8"
.head 5 -  Width:  6.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.8"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  File Name:
.head 4 -  Storage: External
.head 4 -  Picture Transparent Color: None
.head 4 -  Fit: Scale
.head 4 -  Scaling
.head 5 -  Width:  100
.head 5 -  Height:  100
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Tile To Parent? No
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Face Color
.head 4 -  Message Actions
.head 3 -  Background Text: Счет доходов
.head 4 -  Resource Id: 31223
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   6.3"
.head 5 -  Top:    1.5"
.head 5 -  Width:  1.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.202"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgAccDox
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rb_67N
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cRadioButtonLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   6.3"
.head 5 -  Top:    2.0"
.head 5 -  Width:  5.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Class Default
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call F_NLS0()
.head 3 +  Radio Button: rb_67
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cRadioButtonLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   6.3"
.head 5 -  Top:    1.7"
.head 5 -  Width:  5.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call F_NLS0()
.head 3 -  !
.head 3 +  Picture: pic3
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left:   6.2"
.head 5 -  Top:    2.405"
.head 5 -  Width:  6.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 4.0"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  File Name:
.head 4 -  Storage: External
.head 4 -  Picture Transparent Color: None
.head 4 -  Fit: Scale
.head 4 -  Scaling
.head 5 -  Width:  100
.head 5 -  Height:  100
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Tile To Parent? No
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Face Color
.head 4 -  Message Actions
.head 3 -  ! Красная часть - B - нашего контрагента
.head 3 +  Data Field: NMKB
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 38
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   6.3"
.head 6 -  Top:    2.512"
.head 6 -  Width:  4.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.2"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? No
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: 3D Face Color
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbPoisk
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: ctb_pbFilter
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   11.65"
.head 5 -  Top:    2.762"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name:
.head 4 -  Font Size: 0
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: \BARS98\RESOURCE\BMP\Filter.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Поиск контрагента
.head 6 -  Set strTip = CurrentLangTable.GetAtomTitle('cBTipPoisk')
.head 5 +  On SAM_Click
.head 6 -  Call FunNSIGetFiltered("CUSTOMER", "NMK", "customer.DATE_OFF is null and customer.custtype=1 " || 
"and customer.rnk in
(select rnk from custbank b
  where " || IifS(bParKR=TRUE, "customer.codcagent=9 and b.mfo is not null and b.mfo <>'" || MFOA || "'", 
       "(customer.codcagent=1 and b.mfo is not null and b.mfo <>'" || MFOA || "'
      or customer.codcagent=2 and b.bic is not null)") || ")", sTmp, NMKB)
.head 6 +  If sTmp != ''
.head 7 +  If SqlPrepareAndExecute(hSql(), sSqlPoisk || "a.rnk=" || sTmp)
and SqlFetchNext(hSql(), nFetchRes)
.head 8 -  Call SalEnableWindow(pbPrcAcc)
.head 8 -  Call SalEnableWindow(pbPasport)
.head 8 -  Call SetVPS()
.head 8 -  Call F_NLS0()
.head 3 +  Pushbutton: pbSearchBICB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: ctb_pbFilter
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   11.65"
.head 5 -  Top:    4.357"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name:
.head 4 -  Font Size: 0
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: \BARS98\RESOURCE\BMP\Filter.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Поиск контрагента
.head 6 -  Set strTip = CurrentLangTable.GetAtomTitle('KRE_DEPO.cBTipSearchBICB')
.head 5 +  On SAM_Click
.head 6 -  Call FunNSIGetFiltered('SW_BANKS', 'NAME', '', BICKB, NBKB)
.head 3 +  Data Field: RNKB
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   10.0"
.head 6 -  Top:    3.06"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If RNKB != NUMBER_Null
.head 7 +  If SqlPrepareAndExecute(hSql(), sSqlPoisk || "a.rnk=:RNKB ")
and not SqlFetchNext(hSql(), nFetchRes)
.head 8 -  ! Рег.№
.head 8 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('cTRNK'), 
     CurrentLangTable.GetAtomTitle('cTErr'), 0)
.head 8 -  Return VALIDATE_Cancel
.head 7 -  Call SetVPS()
.head 7 -  Call F_NLS0()
.head 6 +  Else
.head 7 -  Call SalDisableWindow(pbPrcAcc)
.head 7 -  Call SalDisableWindow(pbPasport)
.head 6 -  Return VALIDATE_Ok
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Рег.№ партнера
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipRNKB'))
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 3 +  Data Field: OKPOB
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   6.3"
.head 6 -  Top:    3.06"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If OKPOB != STRING_Null
.head 7 +  If SqlPrepareAndExecute(hSql(), sSqlPoisk ||" a.okpo = :OKPOB ")
and not SqlFetchNext(hSql(), nFetchRes)
.head 8 -  ! ОКПО
.head 8 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('cTOKPO'), 
     CurrentLangTable.GetAtomTitle('cTErr'), 0)
.head 8 -  Return VALIDATE_Cancel
.head 7 -  Call SetVPS()
.head 7 -  Call F_NLS0()
.head 6 -  Return VALIDATE_Ok
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! ОКПО партнера
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipOKPOB'))
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 3 +  Data Field: MFOB
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65330000
.enddata
.data CLASSPROPSSIZE
0000: 1700
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   6.3"
.head 6 -  Top:    2.762"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If MFOB  != STRING_Null
.head 7 +  If SqlPrepareAndExecute(hSql(),sSqlPoisk || " b.mfo=:MFOB ")
and not SqlFetchNext(hSql(), nFetchRes)
.head 8 -  ! МФО
.head 8 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('cTMFO'), 
     CurrentLangTable.GetAtomTitle('cTErr'), 0)
.head 8 -  Return VALIDATE_Cancel
.head 7 -  Call SetVPS()
.head 7 -  Call F_NLS0()
.head 6 -  Return VALIDATE_Ok
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! МФО партнера
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipMFOB'))
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 3 +  Data Field: BICB
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 35
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   7.95"
.head 6 -  Top:    2.762"
.head 6 -  Width:  2.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Set BICB = SalStrUpperX(BICB)
.head 6 +  If BICB != STRING_Null and SalStrTrimX(BICB) != '-1'
.head 7 +  If SqlPrepareAndExecute(hSql(), sSqlPoisk || " b.bic=:BICB ")
and not SqlFetchNext(hSql(), nFetchRes)
.head 8 -  ! BIC
.head 8 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('cTBIC'), 
     CurrentLangTable.GetAtomTitle('cTErr'), 0)
.head 8 -  Return VALIDATE_Cancel
.head 7 -  Call SetVPS()
.head 7 -  Call F_NLS0()
.head 6 -  Return VALIDATE_Ok
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! BIC партнера
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipBICB'))
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 3 +  Data Field: dfND
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 10
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   10.0"
.head 6 -  Top:    2.762"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Set dfND =SalStrUpperX(dfND)
.head 6 +  If dfND != STRING_Null
.head 7 +  If SqlPrepareAndExecute(hSql(),sSqlPoisk || " a.nd=:dfND ")
and not SqlFetchNext(hSql(), nFetchRes)
.head 8 -  ! № Ген.согл.
.head 8 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('cTND'), 
     CurrentLangTable.GetAtomTitle('cTErr'), 0)
.head 8 -  Return VALIDATE_Cancel
.head 7 -  Call SetVPS()
.head 7 -  Call F_NLS0()
.head 6 -  Return VALIDATE_Ok
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! № ген.соглашения
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipND'))
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 3 +  Data Field: KOD_BB
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 35
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   7.95"
.head 6 -  Top:    3.06"
.head 6 -  Width:  2.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If KOD_BB != NUMBER_Null
.head 7 +  If SqlPrepareAndExecute(hSql (),sSqlPoisk || " b.kod_b=:KOD_BB ")
and not SqlFetchNext(hSql(), nFetchRes)
.head 8 -  ! 1_ПБ
.head 8 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('cTKOD_BB'), 
  CurrentLangTable.GetAtomTitle('cTErr'), 0)
.head 8 -  Return VALIDATE_Cancel
.head 7 -  Call SetVPS()
.head 7 -  Call F_NLS0()
.head 6 -  Return VALIDATE_Ok
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Код 1-ПБ партнера
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipKOD_BB'))
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 3 -  !
.head 3 +  Check Box: cb_LOROB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cCheckBoxLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Внутрішній
.head 4 -  Window Location and Size
.head 5 -  Left:   6.3"
.head 5 -  Top:    3.56"
.head 5 -  Width:  2.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Dark Red
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set NLSB = ''
.head 6 -  ! Call F_LORO()
.head 6 -  Call SalSetFocus(NLSB)
.head 3 +  Check Box: cb_LORONB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cCheckBoxLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Внутрішній
.head 4 -  Window Location and Size
.head 5 -  Left:   9.0"
.head 5 -  Top:    3.56"
.head 5 -  Width:  2.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Dark Red
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set NLSNB = ''
.head 6 -  ! Call F_LORO()
.head 6 -  Call SalSetFocus(NLSNB)
.head 3 -  !
.head 3 -  Background Text: Основной
.head 4 -  Resource Id: 31224
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   6.3"
.head 5 -  Top:    3.357"
.head 5 -  Width:  2.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.179"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Dark Red
.head 4 -  Background Color: Default
.head 3 +  Data Field: tNLSB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: NLSB
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 15
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   6.3"
.head 6 -  Top:    3.857"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If nVidd = 1526
.head 7 +  If SqlPrepareAndExecute(hSql(),
"SELECT acc FROM mbd_k
  WHERE rnk=:RNKB and kv=:nKv and nls=:NLSB and dk=0 and ostc<0 ")
and not SqlFetchNext(hSql (), nTmp)
.head 8 -  Return VALIDATE_Cancel
.head 6 +  Else
.head 7 +  If NOT F_NLSB_(cb_LOROB, MFOB, NLSB)
.head 8 -  Return VALIDATE_Cancel
.head 6 -  Call SetSwParty()
.head 6 -  Return VALIDATE_Ok
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 3 -  Background Text: Начисленных %
.head 4 -  Resource Id: 31225
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   9.0"
.head 5 -  Top:    3.357"
.head 5 -  Width:  2.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.179"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Dark Red
.head 4 -  Background Color: Default
.head 3 +  Data Field: tNLSNB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: NLSNB
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 15
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   9.0"
.head 6 -  Top:    3.857"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If NOT F_NLSB_(cb_LORONB, MFOB, NLSNB)
.head 7 -  Return VALIDATE_Cancel
.head 6 -  Call SetSwParty()
.head 6 -  Return VALIDATE_Ok
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 3 -  Background Text: Трасса платежа исходящего (57-BIC, 58-Счет)
.head 4 -  Resource Id: 58181
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   6.3"
.head 5 -  Top:    4.155"
.head 5 -  Width:  5.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Dark Red
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgBICKB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: BICKB
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 15
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   6.3"
.head 6 -  Top:    4.357"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Set BICKB = SalStrUpperX(BICKB)
.head 6 +  If BICKB != STRING_Null
.head 7 +  If SqlPrepareAndExecute(hSql(), "SELECT name INTO :NBKB FROM sw_banks WHERE bic=:BICKB")
and not SqlFetchNext(hSql(), nFetchRes)
.head 8 -  Call SalMessageBox(BICKB, CurrentLangTable.GetAtomTitle('cTErr'), 0)
.head 8 -  Return VALIDATE_Cancel
.head 6 -  Return VALIDATE_Ok
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! 57A - BIC банка-корресп партнера
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipBICKB'))
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 3 +  Data Field: SSLB
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   9.0"
.head 6 -  Top:    4.357"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! 57A - Счет VOSTRO партнера у его банка-корресп
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipSSLB'))
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 3 +  Data Field: NBKB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   6.3"
.head 6 -  Top:    4.655"
.head 6 -  Width:  5.3"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  ! Синяя часть - А - сведения о нас
.head 3 +  Data Field: NMKA
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 38
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   0.2"
.head 6 -  Top:    2.512"
.head 6 -  Width:  4.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.2"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? No
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Blue
.head 5 -  Background Color: 3D Face Color
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: RNKA
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   3.9"
.head 6 -  Top:    3.06"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Blue
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: OKPOA
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   0.2"
.head 6 -  Top:    3.06"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Blue
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: MFOA
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65330000
.enddata
.data CLASSPROPSSIZE
0000: 1700
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   0.2"
.head 6 -  Top:    2.762"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Blue
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: BICA
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 35
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   1.85"
.head 6 -  Top:    2.762"
.head 6 -  Width:  2.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Blue
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: KOD_BA
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 35
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   1.85"
.head 6 -  Top:    3.06"
.head 6 -  Width:  2.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Midnight Blue
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  !
.head 3 +  Pushbutton: pb_Free
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: ctb_pbUpdate
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   5.533"
.head 5 -  Top:    2.714"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: \BARS98\RESOURCE\BMP\Copy.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Свободные счета без остатка
.head 6 -  Set strTip = CurrentLangTable.GetAtomTitle('KRE_DEPO.cBTipFree')
.head 5 +  On SAM_Click
.head 6 -  Call ShowFreeAcc(0)
.head 3 +  Pushbutton: pb_Free1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: ctb_pbUpdate
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   5.083"
.head 5 -  Top:    2.714"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: \BARS98\RESOURCE\BMP\Paste.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Все свободные счета (в тч с остатком) вне потрфеля
.head 6 -  Set strTip = CurrentLangTable.GetAtomTitle('KRE_DEPO.cBTipFree1')
.head 5 +  On SAM_Click
.head 6 -  Call ShowFreeAcc(1)
.head 3 +  Pushbutton: pb_Free2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: ctb_pbUpdate
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   4.633"
.head 5 -  Top:    2.714"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: \BARS98\RESOURCE\BMP\ATTACH.BMP
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Счета с остатком в потрфелЕ
.head 6 -  Set strTip = CurrentLangTable.GetAtomTitle('KRE_DEPO.cBTipFree2')
.head 5 +  On SAM_Click
.head 6 -  Call ShowFreeAcc(2)
.head 3 -  !
.head 3 -  Background Text: Основной
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 31226
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    3.357"
.head 5 -  Width:  2.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.179"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Dark Blue
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgNLSA
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: NLSA
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 15
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   0.2"
.head 6 -  Top:    3.56"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Blue
.head 5 -  Background Color: 3D Face Color
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_SetFocus
.head 6 -  Set sTmp = MyValue
.head 5 +  On SAM_AnyEdit
.head 6 -  Set MyValue = sTmp
.head 5 +  On SAM_KillFocus
.head 6 -  Set sTmp = STRING_Null
.head 3 -  Background Text: Начисленных %
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 31227
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   2.883"
.head 5 -  Top:    3.357"
.head 5 -  Width:  2.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.179"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Dark Blue
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgNLSNA
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: NLSNA
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 15
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.9"
.head 6 -  Top:    3.56"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Blue
.head 5 -  Background Color: 3D Face Color
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_SetFocus
.head 6 -  Set sTmp = MyValue
.head 5 +  On SAM_AnyEdit
.head 6 -  Set MyValue = sTmp
.head 5 +  On SAM_KillFocus
.head 6 -  Set sTmp = STRING_Null
.head 3 -  Background Text: Трасса платежа входящего (57-BIC, 58-Счет)
.head 4 -  Resource Id: 58182
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    4.155"
.head 5 -  Width:  5.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Dark Blue
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgBICKA
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: BICKA
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 15
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   0.2"
.head 6 -  Top:    4.357"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Blue
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Set BICKA = SalStrUpperX(BICKA)
.head 6 +  If BICKA != STRING_Null and SSLA != STRING_Null
.head 7 +  If SqlPrepareAndExecute(hSql(),
"SELECT a.nls, a.nms INTO :SSA, :NBKA
   FROM accounts a, BIC_ACC b
  WHERE UPPER(b.THEIR_ACC) =:SSLA and b.bic=:BICKA and a.acc=b.acc ")
and not SqlFetchNext(hSql(), nFetchRes)
.head 8 -  ! Лоро BICKA + SSLA
.head 8 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('KRE_DEPO.cTErrLoro') || ' ' || BICKA || ' + ' || SSLA, 
     CurrentLangTable.GetAtomTitle('cTErr'), 0)
.head 6 -  Call SetSwParty()
.head 6 -  Return VALIDATE_Ok
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! BIC нашего банка-корреспонд
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipBICKA'))
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 3 +  Data Field: SSLA
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.9"
.head 6 -  Top:    4.357"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Blue
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Set SSLA = SalStrUpperX(SSLA)
.head 6 +  If BICKA != STRING_Null and SSLA != STRING_Null
.head 7 +  If SqlPrepareAndExecute(hSql(),
"SELECT a.nls, a.nms INTO :SSA , :NBKA
   FROM accounts a, BIC_ACC b
  WHERE UPPER(b.THEIR_ACC) =:SSLA and b.bic=:BICKA and a.acc=b.acc ")
and not SqlFetchNext(hSql(), nFetchRes)
.head 8 -  ! Лоро BICKA + SSLA
.head 8 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('KRE_DEPO.cTErrLoro') ||' ' || SSLA || ' BIC: ' || BICKA, 
     CurrentLangTable.GetAtomTitle('cTErr'), 0)
.head 6 -  Call SetSwParty()
.head 6 -  Return VALIDATE_Ok
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Счет VOSTRO у нашего банка-корреспонд
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipSSLA'))
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 3 +  Combo Box: NBKA
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65330000
.enddata
.data CLASSPROPSSIZE
0000: 1700
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cGenComboBox_NumId
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    4.655"
.head 5 -  Width:  5.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: 35
.head 4 -  Sorted? No
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Dark Blue
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set SSA = NBKA.GetKey(SalListQuerySelection(NBKA))
.head 6 -  Call SalSendMsg(SSA, SAM_Validate, 0, 0)
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Наименование счета для входа валюты
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipNBKA'))
.head 3 +  Data Field: SSA
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 15
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.9"
.head 6 -  Top:    4.964"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Blue
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If SSA != NUMBER_Null
.head 7 +  If nKv != n980
.head 8 +  If SqlPrepareAndExecute( hSql(),
"SELECT a.nms, b.bic, b.THEIR_ACC INTO :NBKA, :BICKA , :SSLA
   FROM bic_acc b, accounts a
  WHERE a.nls=:SSA AND a.kv=:nKv AND a.dazs is null AND a.acc=b.acc " )
AND NOT SqlFetchNext(hSql(), nFetchRes)
.head 9 -  ! Ностро SSA
.head 9 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('KRE_DEPO.cTErrNostro') || ' ' || Str(SSA), 
     CurrentLangTable.GetAtomTitle('cTErr'), 0)
.head 9 -  Return VALIDATE_Cancel
.head 7 -  Return VALIDATE_Ok
.head 6 -  Call SetSwParty()
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Счет для входа валюты
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipSSA'))
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 3 -  !
.head 3 +  Check Box: bVPS
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cCheckBoxLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: ПС
.head 4 -  Window Location and Size
.head 5 -  Left:   11.4"
.head 5 -  Top:    2.464"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Dark Red
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbSearchBIC2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: ctb_pbFilter
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   11.65"
.head 5 -  Top:    4.964"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name:
.head 4 -  Font Size: 0
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: \BARS98\RESOURCE\BMP\Filter.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Поиск контрагента
.head 6 -  Set strTip = CurrentLangTable.GetAtomTitle('KRE_DEPO.cBTipSearchBICB')
.head 5 +  On SAM_Click
.head 6 -  Call FunNSIGetFiltered('SW_BANKS', 'NAME', '', sTmpBIC, sTmpBICName)
.head 6 +  If sTmpBIC != STRING_Null
.head 7 +  If df57A = STRING_Null
.head 8 -  Set df57A = sTmpBIC
.head 7 +  Else
.head 8 -  Set df57A = df57A || SalNumberToChar(13) || SalNumberToChar(10) || sTmpBIC
.head 3 -  ! Низ
.head 3 -  ! о счете-транзимте
.head 3 +  Data Field: sDB_1819
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 15
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.7"
.head 6 -  Top:    6.464"
.head 6 -  Width:  1.65"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Счет-транзит
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipDB_1819'))
.head 5 +  On SAM_Validate
.head 6 +  If KeyAccount(GetBankMfo(), sDB_1819) != sDB_1819
.head 7 -  ! Ош.счет (контр.разряд). Попробуем еще раз?
.head 7 +  If SalMessageBox(CurrentLangTable.GetAtomTitle('KRE_DEPO.cTErrKR'), 
   CurrentLangTable.GetAtomTitle('cTAt'), MB_YesNo | MB_IconHand) = IDYES
.head 8 -  Return VALIDATE_Cancel
.head 6 +  If SqlPrepareAndExecute(hSql(),
"SELECT ostc/power(10,:nDig) INTO :ost_DB_1819
 FROM accounts WHERE nls=:sDB_1819 AND kv=:nKv")
and not SqlFetchNext(hSql(), nTmp)
.head 7 -  Set ost_DB_1819 = 0
.head 6 -  Return VALIDATE_Ok
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 3 +  Data Field: nKv
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 3
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   1.85"
.head 6 -  Top:    6.464"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Center
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Вал.счета-транзита
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipKv'))
.head 3 +  Data Field: ost_DB_1819
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   4.4"
.head 6 -  Top:    6.464"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Decimal
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Остаток на счете-транзите
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipOst_DB_1819'))
.head 3 -  !
.head 3 -  ! о лимитах на контрагента
.head 3 +  Data Field: Norm7
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   6.3"
.head 6 -  Top:    6.464"
.head 6 -  Width:  0.833"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  Return XSalTooltipSetText(lParam, 'Власний Норматив "Н7 - Кредитний ризик на одного позичальника"')
.head 3 +  Data Field: colLim
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   7.2"
.head 6 -  Top:    6.464"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Decimal
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Burgundy
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Неснижаемый остаток партнера у нас (Лимит)
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipLim'))
.head 3 +  Data Field: colOstBQ
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   8.85"
.head 6 -  Top:    6.464"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Decimal
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Burgundy
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Плановый остаток партнера у нас (Акт.ост. в экв)
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipOstBQ'))
.head 3 +  Data Field: colPLBQ
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   10.5"
.head 6 -  Top:    6.464"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Decimal
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Burgundy
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Свободная сумма ( Лим - Акт.ост)
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipPLBQ'))
.head 3 -  !
.head 3 +  Data Field: colKvZ
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 3
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   1.85"
.head 6 -  Top:    6.071"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Center
.head 5 -  Format: #0
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Jade
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Call F_NLS0()
.head 6 -  Call SqlPrepareAndExecute(hSql(), "SELECT dig INTO :nDigZ FROM tabval t WHERE kv=:colKvZ ")
.head 6 -  Call SqlFetchNext(hSql (), nTmp)
.head 6 +  If SqlPrepareAndExecute(hSql(), 
"SELECT ostc/power(10,:nDigZ) INTO :Ost_Zal 
 FROM accounts WHERE nls=:NLSZ AND kv=:colKvZ")
and not SqlFetchNext(hSql (), nTmp)
.head 7 -  Set Ost_Zal = 0
.head 6 -  Call SalSendMsg(colSummaZ, SAM_Validate, 0, 0)
.head 6 -  Return VALIDATE_Ok
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Вал обеспечения
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipKvZ'))
.head 3 +  Data Field: colSummaZ
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   0.2"
.head 6 -  Top:    6.06"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Jade
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Set colSumma = SalNumberAbs(colSumma)
.head 6 -  Set sFormat = '#0' || XSalGetDecimalSeparator() || SalStrRepeatX('0', IifN(nDigZ!=NUMBER_Null,nDigZ,2))
.head 6 -  Call SalFmtSetPicture(colSummaZ, sFormat)
.head 6 -  Call SalFmtSetPicture(Ost_Zal, sFormat)
.head 6 -  Return VALIDATE_Ok
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Сумма обеспечения
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipSummaZ'))
.head 3 +  Data Field: NLSZ
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 15
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.7"
.head 6 -  Top:    6.06"
.head 6 -  Width:  1.65"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Jade
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If not SalIsNull(NLSZ)
.head 7 +  If KeyAccount(GetBankMfo(), NLSZ) != NLSZ
.head 8 -  ! Ош.счет (контр.разряд). Попробуем еще раз?
.head 8 +  If SalMessageBox(CurrentLangTable.GetAtomTitle('KRE_DEPO.cTErrKR'), 
   CurrentLangTable.GetAtomTitle('cTAt'), MB_YesNo | MB_IconHand) = IDYES
.head 9 -  Return VALIDATE_Cancel
.head 7 +  If SqlPrepareAndExecute(hSql(), 
"SELECT acc, ostc/power(10,:nDigZ) INTO :nAccZal, :Ost_Zal
   FROM accounts WHERE nls=:NLSZ AND kv=:colKvZ")
.head 8 +  If SqlFetchNext(hSql(), nFetchRes)
.head 9 -  Call SqlPrepareAndExecute(hSql(), "select count(*) into :nTmp from cc_accp where acc = :nAccZal")
.head 9 -  Call SqlFetchNext(hSql(), nFetchRes)
.head 9 +  If nTmp > 0
.head 10 -  Call SalMessageBox('Разунок ' || NLSZ || ' (' || Str(colKvZ) || ') вже є рахунком застави для іншої угоди!', CurrentLangTable.GetAtomTitle('cTAt'), MB_Ok | MB_IconStop)
.head 10 -  Set NLSZ = STRING_Null
.head 10 -  Set Ost_Zal = 0
.head 8 +  Else
.head 9 -  Set Ost_Zal = 0
.head 7 -  Call SalSendMsg(colSummaZ, SAM_Validate, 0, 0)
.head 6 -  Return VALIDATE_Ok
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Счет обеспечения
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipNLSZ'))
.head 3 +  Data Field: Ost_Zal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   4.4"
.head 6 -  Top:    6.06"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Остаток на счете обеспечения
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipOst_Zal'))
.head 3 -  !
.head 3 +  Picture: pic7
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.1"
.head 5 -  Top:    5.405"
.head 5 -  Width:  6.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.0"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  File Name:
.head 4 -  Storage: External
.head 4 -  Picture Transparent Color: None
.head 4 -  Fit: Scale
.head 4 -  Scaling
.head 5 -  Width:  100
.head 5 -  Height:  100
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Tile To Parent? No
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Face Color
.head 4 -  Message Actions
.head 3 -  Background Text: Обеспечение
.head 4 -  Resource Id: 58183
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    5.357"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgObesp
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  ! cCheckBoxLabeled: cb_DCP
.winattr class Check Box:
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cCheckBoxLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Залог  "ДЦП"
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    5.56"
.head 5 -  Width:  4.083"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Black
.head 4 -  Background Color: Default
.end
.head 4 +  Message Actions 
.head 5 +  On SAM_Click
.head 6 +  If cb_DCP and 
F_DCP(NUMBER_Null, MFOA, MFOB, NLSB, OKPOB, colSumma*SalNumberPower(10,nDig),
      FN_DCP, Id_DCP, Id_Ug_DCP, Dat_Ug_DCP)
.head 7 -  Call SalShowWindow(FN_DCP)
.head 7 -  Call SalShowWindow(Id_Ug_DCP)
.head 7 -  Call SalShowWindow(Dat_Ug_DCP)
.head 6 +  Else 
.head 7 -  Call SalHideWindow(FN_DCP)
.head 7 -  Call SalHideWindow(Id_Ug_DCP)
.head 7 -  Call SalHideWindow(Dat_Ug_DCP)
.head 3 -  Background Text: Обеспечение
.head 4 -  Resource Id: 15617
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    5.6"
.head 5 -  Width:  4.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgPawn
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbPawn
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: ctb_pbFilter
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   5.533"
.head 5 -  Top:    5.45"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set strTip = 'Выбрать из справочника'
.head 5 +  On SAM_Click
.head 6 -  Call FunNSIGetFiltered('cc_pawn', 'name', '1=1 order by pawn', sTmp, sPawnName)
.head 6 +  If sTmp != ''
.head 7 -  Set nPawnId = Val(sTmp)
.head 7 -  Call SalSetWindowLabelText(bgPawn, sPawnName)
.head 7 -  Call SqlPrepareAndExecute(hSql(), "select code into :sPawnCode from cc_pawn where pawn=:sTmp")
.head 7 -  Call SqlFetchNext(hSql(), nFetchRes)
.head 7 +  If sPawnCode = 'DCP'
.head 8 -  Set cb_DCP = TRUE
.head 8 +  If F_DCP(NUMBER_Null, MFOA, MFOB, NLSB, OKPOB, colSumma*SalNumberPower(10,nDig),
   FN_DCP, Id_DCP, Id_Ug_DCP, Dat_Ug_DCP)
.head 9 -  Call SalShowWindow(FN_DCP)
.head 9 -  Call SalShowWindow(Id_Ug_DCP)
.head 9 -  Call SalShowWindow(Dat_Ug_DCP)
.head 8 +  Else
.head 9 -  Call SalHideWindow(FN_DCP)
.head 9 -  Call SalHideWindow(Id_Ug_DCP)
.head 9 -  Call SalHideWindow(Dat_Ug_DCP)
.head 7 +  Else
.head 8 -  Set cb_DCP = FALSE
.head 8 -  Call SalHideWindow(FN_DCP)
.head 8 -  Call SalHideWindow(Id_Ug_DCP)
.head 8 -  Call SalHideWindow(Dat_Ug_DCP)
.head 3 +  Data Field: FN_DCP
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   0.2"
.head 6 -  Top:    5.81"
.head 6 -  Width:  2.05"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Файл из депозитария
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipFN_DCP'))
.head 3 +  Data Field: Id_Ug_DCP
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.3"
.head 6 -  Top:    5.81"
.head 6 -  Width:  2.05"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Ид.договора из депозитария
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipId_Ug_DCP'))
.head 3 +  Data Field: Dat_Ug_DCP
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   4.4"
.head 6 -  Top:    5.81"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Center
.head 5 -  Format: Date
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Дата договора из депозитария
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipDat_Ug_DCP'))
.head 3 +  Multiline Field: df57A
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  String Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Border? Yes
.head 5 -  Word Wrap? Yes
.head 5 -  Vertical Scroll? No
.head 5 -  Window Location and Size
.head 6 -  Left:   6.3"
.head 6 -  Top:    4.964"
.head 6 -  Width:  5.3"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.35"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(FALSE)
.head 5 +  On SAM_TooltipSetText
.head 6 -  Return XSalTooltipSetText(lParam, '57D - Альтернативное заполнение исходящей трассы')
.head 3 -  Frame
.head 4 -  Resource Id: 18876
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.1"
.head 5 -  Top:    2.405"
.head 5 -  Width:  6.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.9"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Solid
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 -  ! Group Box: Обеспечение
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.083"
.head 5 -  Top:    4.4"
.head 5 -  Width:  5.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.05"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 2 +  Functions
.head 3 +  Function: F_NLSB_
.head 4 -  Description: Проверим счет на наличие у нас или на кр в др.банке
.head 4 +  Returns
.head 5 -  Boolean: bRet
.head 4 +  Parameters
.head 5 -  Boolean: bLORO_
.head 5 -  String: sMFOB_
.head 5 -  String: sNLSB_
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Boolean: bErrAcc
.head 4 +  Actions
.head 5 +  If sNLSB_ != '' AND RNKB != NUMBER_Null 
.head 6 -  Set bErrAcc = FALSE
.head 6 +  If bLORO_
.head 7 +  If NOT SqlPrepareAndExecute(hSql(),
"SELECT 1 FROM accounts a, cust_acc b 
 WHERE a.nls=:sNLSB_ AND a.kv=:nKv AND a.dazs is null 
   AND a.acc=b.acc AND b.rnk=:RNKB") 
OR NOT SqlFetchNext(hSql(),nFetchRes)
.head 8 -  Set bErrAcc = TRUE
.head 6 +  Else If KeyAccount(sMFOB_, sNLSB_) != sNLSB_ 
.head 7 -  Set bErrAcc = TRUE
.head 6 +  If bErrAcc
.head 7 -  ! Ош.счет(контр.разряд). Попробуем еще раз?
.head 7 +  If SalMessageBox(CurrentLangTable.GetAtomTitle('KRE_DEPO.cTErrKR'), 
   CurrentLangTable.GetAtomTitle('cTAt'), MB_YesNo | MB_IconHand) = IDYES
.head 8 -  Return FALSE
.head 5 -  Return TRUE
.head 3 +  Function: F_NLS0
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sTmp0
.head 5 -  String: VIDD_
.head 5 -  String: maskid_
.head 4 +  Actions
.head 5 +  If MFOA = Mfo_300465
.head 6 +  If sInic = STRING_Null
.head 7 -  Call SalMessageBox('НЕ выбран реквизит "Инициатор сделки" ! ',  'Внимание !' ,   MB_IconAsterisk | MB_Ok )
.head 7 -  Return FALSE
.head 5 -  ! == № тикета/договора
.head 5 +  If SalIsNull(CC_ID)  
.head 6 -  Set CC_ID = '0'
.head 5 -  ! == Для НБУ показываем "Лимит КС" для размещений
.head 5 +  If bNBUBANK AND nTipd = 1
.head 6 -  Call SalShowWindow(cbLimitB)
.head 5 +  Else
.head 6 -  Set cbLimitB = 0
.head 6 -  Call SalHideWindow(cbLimitB)
.head 5 -  ! == Счета клиента основной и нач.%%
.head 5 -  Call SalShowWindow(NLSB)
.head 5 -  ! Call SalHideWindow(NLSB)
.head 5 -  ! Call SalHideWindow(NLSNB)
.head 5 -  ! == Для привлечений показываем счет нач.%%
.head 5 +  If nTipd != 1
.head 6 -  Call SalShowWindowAndLabel(tNLSNB)
.head 6 -  Call SalShowWindow(cb_LORONB)
.head 6 -  Call SalShowWindow(NLSNB)
.head 5 -  ! == Для размещений прячем счет нач.%%
.head 5 +  Else
.head 6 -  Set cb_LORONB = FALSE
.head 6 -  Set NLSNB = ''
.head 6 -  Call SalHideWindowAndLabel(tNLSNB)
.head 6 -  Call SalHideWindow(cb_LORONB)
.head 6 -  Call SalHideWindow(NLSNB)
.head 5 -  ! Call F_LORO()
.head 5 -  ! Если ВПС, всегда заполняем счета осн. и нач.%%
.head 5 +  If Subs(Str(nVidd),1,2) = '39' and bMBK_MIN3 and not bVPS
.head 6 -  Call SalHideWindow(NLSB)
.head 6 -  Call SalHideWindow(NLSNB)
.head 5 -  ! == Проверка РНК
.head 5 -  ! Если RNK еще не заполнен, 
  кнопки "паспорт кл." и "счета кл." прячем и выходим, счета по договору не рассчитываются
.head 5 +  If SalIsNull(RNKB)
.head 6 -  Call SalDisableWindow(pbPrcAcc)
.head 6 -  Call SalDisableWindow(pbPasport)
.head 6 -  Return FALSE
.head 5 -  Call SalEnableWindow(pbPrcAcc)
.head 5 -  Call SalEnableWindow(pbPasport)
.head 5 -  ! == Счет доходов
.head 5 -  Set G67N  = STRING_Null
.head 5 -  Set G67   = STRING_Null
.head 5 -  Set sG67N = STRING_Null
.head 5 -  Set sG67  = STRING_Null
.head 5 +  If SqlPrepareAndExecute(hSql(),
"SELECT n.acc, n.nls, n.nms, a.acc, a.nls, a.nms 
   INTO :nG67N, :G67N, :sG67N, :nG67, :G67, :sG67 
   FROM accounts n, accounts a 
  WHERE n.acc = f_proc_dr(:RNKB,4,1,'MKD',:nVidd,:nKv) 
    AND a.acc = f_proc_dr(:RNKB,4,0,'MKD',:nVidd,:nKv)")
AND SqlFetchNext(hSql(), nFetchRes) 
.head 6 -  Call SalSetWindowText(rb_67N, sG67N)
.head 6 -  Call SalSetWindowText(rb_67, sG67)
.head 6 +  If G67N = G67 
.head 7 -  Set rb_67 = TRUE
.head 7 -  Call SalHideWindow(rb_67N)
.head 6 +  Else
.head 7 -  Call SalShowWindow(rb_67N)
.head 5 +  Else
.head 6 -  ! Не заполнен справочник PROC_DR, сохранение невозможно
.head 6 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('KRE_DEPO.cTErrPROC_DR'),
     CurrentLangTable.GetAtomTitle('cTAt'), MB_IconStop)
.head 6 -  Return FALSE
.head 5 -  ! == Счета сделки
.head 5 -  Set NLSA    = STRING_Null
.head 5 -  Set NLSNA   = STRING_Null
.head 5 -  Set nAcrb   = IifN(rb_67, nG67, nG67N)
.head 5 -  Set VIDD_   = Str(nVidd)
.head 5 -  Set maskid_ = IifS(cbLimitB=1, "MBK_LIMITB", "MBK")
.head 5 +  If SqlPLSQLCommand( hSql(), 
   "PUL.Set_Mas_Ini( 'INITIATOR', sInic, 'Центр инициатора операции' )" ) 
AND SqlPrepareAndExecute(hSql(), 
   "SELECT Substr(Bars.MBK.F_NLS_MB(:VIDD_, :RNKB, :nAcrb, :nKv, :maskid_), 1, 30) 
    INTO :sTmp0 FROM dual") 
AND SqlFetchNext(hSql(), nTmp)
.head 6 -  Set NLSA  = Vkrz2(GetBankMfo(), SalStrTrimX(Subs(sTmp0, 1,15)))
.head 6 -  Set NLSNA = Vkrz2(GetBankMfo(), SalStrTrimX(Subs(sTmp0,16,15)))
.head 5 -  ! == Счет залога
.head 5 +  If colKvZ != NUMBER_Null
.head 6 -  Set NLSZ = KeyAccount(GetBankMfo(), sNbsZ || Subs(sTmp0,5,10))
.head 5 -  ! == Транзит для Кредитных ресурсов
.head 5 +  If bParKR
.head 6 -  Call SalEnableWindow(sDB_1819)
.head 6 -  Set sDB_1819 = ''
.head 6 +  If MFOB
.head 7 -  Call SqlPrepareAndExecute(hSql(), 
"SELECT a.nls, a.ostc/power(10,:nDig) INTO :sDB_1819, :ost_DB_1819
   FROM exchange_of_resources r, accounts a
  WHERE r.mfo = :MFOB
    and r.nls_cck_source = a.nls and a.kv=:nKv")
.head 7 -  Call SqlFetchNext(hSql(), nFetchRes)
.head 5 -  ! == Получаем сохраненные трассы для клиента
.head 5 -  Set s58D = STRING_Null
.head 5 +  If (nKv != NUMBER_Null AND RNKB != NUMBER_Null)
.head 6 +  If SqlPrepareAndExecute(hSql(), 
"SELECT nls, decode(:nTipd,1,null,nls), swo_bic, swo_acc, swo_alt, interm_b, field_58d
   INTO :NLSB, :NLSNB, :BICKB, :SSLB, :df57A, :sIntermB, :s58D
   FROM cc_swtrace
  WHERE rnk = :RNKB
    AND kv  = :nKv")
.head 7 -  Call SqlFetchNext(hSql(), nTmp)
.head 7 +  If SqlPrepareAndExecute(hSql(), "SELECT name INTO :NBKB FROM sw_banks WHERE bic=:BICKB")
.head 8 -  Call SqlFetchNext(hSql(), nFetchRes)
.head 5 -  Call SetSwParty()
.head 5 -  Return TRUE
.head 3 +  Function: F_cmb_VIDD
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean: RET
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  ! Вид договора
.head 5 -  Set nVidd = cmb_VIDD.GetKey(SalListQuerySelection(cmb_VIDD))
.head 5 -  ! Тип договора, тип клиента
.head 5 -  Set nTipd = SalStrToNumber(GetValueStr("SELECT tipd FROM cc_vidd WHERE vidd=" || Str(nVidd)))
.head 5 +  If nTipd = 1
.head 6 -  Call SalDisableWindow(pb_Free2)
.head 5 +  Else
.head 6 -  Call SalEnableWindow(pb_Free2)
.head 5 -  ! IO + NBSZ
.head 5 -  Call SqlPrepareAndExecute(hSql(), "SELECT io, nbsZ INTO :nIO, :sNbsZ FROM proc_dr WHERE nbs=:nVidd AND sour=4")
.head 5 -  Call SqlFetchNext(hSql(), nFetchRes)
.head 5 -  Call F_PROC()
.head 5 -  Call SetTrassa()
.head 5 -  Call SetSwParty()
.head 5 -  ! Минимальный набор полей для 3-го кл.
.head 5 +  If Subs(Str(nVidd),1,2) = '39' and bMBK_MIN3
.head 6 -  Call SalDisableWindow(cb_LOROB)
.head 6 -  Call SalDisableWindow(cb_LORONB)
.head 6 -  Call SalDisableWindow(BICKA)
.head 6 -  Call SalDisableWindow(SSLA)
.head 6 -  Call SalDisableWindow(NBKA)
.head 6 -  Call SalDisableWindow(SSA)
.head 6 -  Call SalDisableWindow(BICKB)
.head 6 -  Call SalDisableWindow(SSLB)
.head 6 -  Call SalDisableWindow(df57A)
.head 6 -  Call SalDisableWindow(pbSearchBICB)
.head 6 -  Call SalDisableWindow(pbSearchBIC2)
.head 6 -  Call SalDisableWindow(pbPawn)
.head 6 -  Call SalDisableWindow(colSummaZ)
.head 6 -  Call SalDisableWindow(colKvZ)
.head 6 -  Call SalDisableWindow(NLSZ)
.head 6 -  Set cb_LOROB  = FALSE
.head 6 -  Set cb_LORONB = FALSE
.head 6 -  Set SSLA      = STRING_Null
.head 6 -  Set NBKA      = STRING_Null
.head 6 -  Set SSA       = NUMBER_Null
.head 6 -  Set BICKB     = STRING_Null
.head 6 -  Set SSLB      = STRING_Null
.head 6 -  Set df57A     = STRING_Null
.head 6 -  Set colSummaZ = NUMBER_Null
.head 6 -  Set colKvZ    = NUMBER_Null
.head 6 -  Set NLSZ      = STRING_Null
.head 5 +  Else
.head 6 -  Call SalEnableWindow(cb_LOROB)
.head 6 -  Call SalEnableWindow(cb_LORONB)
.head 6 -  Call SalEnableWindow(BICKA)
.head 6 -  Call SalEnableWindow(SSLA)
.head 6 -  Call SalEnableWindow(NBKA)
.head 6 -  Call SalEnableWindow(SSA)
.head 6 -  Call SalEnableWindow(BICKB)
.head 6 -  Call SalEnableWindow(SSLB)
.head 6 -  Call SalEnableWindow(df57A)
.head 6 -  Call SalEnableWindow(pbSearchBICB)
.head 6 -  Call SalEnableWindow(pbSearchBIC2)
.head 6 -  Call SalEnableWindow(pbPawn)
.head 6 -  Call SalEnableWindow(colSummaZ)
.head 6 -  Call SalEnableWindow(colKvZ)
.head 6 -  Call SalEnableWindow(NLSZ)
.head 5 +  If sMBK_REPONBS != STRING_Null and SalStrScan(sMBK_REPONBS, Str(nVidd)) != -1
.head 6 -  Call SalDisableWindow(pbPawn)
.head 6 -  Call SalDisableWindow(colSummaZ)
.head 6 -  Call SalDisableWindow(colKvZ)
.head 6 -  Call SalDisableWindow(NLSZ)
.head 5 +  Else
.head 6 -  Call SalEnableWindow(pbPawn)
.head 6 -  Call SalEnableWindow(colSummaZ)
.head 6 -  Call SalEnableWindow(colKvZ)
.head 6 -  Call SalEnableWindow(NLSZ)
.head 5 -  Return TRUE
.head 3 +  Function: F_SAVE
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 +  Parameters
.head 5 -  Receive String: sErr
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Boolean: bRet
.head 5 -  String: sNd
.head 5 -  String: NMS
.head 5 -  String: NMSN
.head 5 -  String: s9910
.head 5 -  Number: nRef
.head 5 -  Number: nDk
.head 5 -  String: sNamB
.head 5 -  !
.head 5 -  String: sNazn
.head 5 -  String: S67
.head 5 -  String: S1_ 
.head 5 -  String: S2_ 
.head 5 -  String: S3_ 
.head 5 -  String: S4_ 
.head 5 -  Number: S5_ 
.head 5 -  !
.head 5 -  Number: IR_  ! индив ставка
.head 5 -  Number: BR_  ! базовая ставки
.head 5 -  Number: OP_  ! арифм.знак : 1 +(плюс) , 2 -(минус), 3 *(умнож) , 4 /(делить)
.head 5 -  ! пока без соединеия  IR_ (знак) BR_  
.head 5 -  !
.head 5 -  String: sNls9202
.head 5 -  String: sNls9910
.head 5 -  String: sTTF_Nazn
.head 5 -  Number: nTTF_Vob
.head 5 -  !
.head 5 -  : cDoc
.head 6 -  Class: cDoc
.head 4 +  Actions
.head 5 -  Set sErr  = ''
.head 5 -  Set bRet  = FALSE
.head 5 -  Set bArcT = FALSE
.head 5 -  ! == Проверяем остатки на счете
.head 5 +  If SqlPrepareAndExecute(hSql(),
"SELECT a.acc FROM accounts a, int_accn i, accounts n
  WHERE a.acc=i.acc AND a.kv=:nKv AND a.nls =:NLSA AND i.acra=n.acc 
    AND (   a.ostc<>0 or a.ostb<>0 or a.ostf<>0 
         or n.ostc<>0 or n.ostb<>0 or n.ostf<>0 
         or a.mdate>=bankdate or a.dazs is not null 
         or n.mdate>=bankdate or n.dazs is not null)")
AND SqlFetchNext(hSql(), nTmp)
.head 6 -  ! Внимание! Используются счета с остатком! Сохранить сделку?
.head 6 +  If SalMessageBox(CurrentLangTable.GetAtomTitle('KRE_DEPO.cTMessAccOst'),
   CurrentLangTable.GetAtomTitle('KRE_DEPO.cTMessQuestSave'), MB_IconQuestion | MB_YesNo) != IDYES
.head 7 -  Return bRet
.head 5 -  ! == Счет доходов
.head 5 -  Set S67 = IifS(rb_67N, G67N, G67)
.head 5 -  ! == Наименование счета основного
.head 5 -  ! НАД.
.head 5 -  Set NMS = Subs(IifS(bNBUBANK=TRUE, cmb_VIDD || ' ' || 
    CurrentLangTable.GetAtomTitle('KRE_DEPO.cTNMS') || '', '') || NMKKB, 1, 38)
.head 5 -  ! == Наименование счета нач.%%
.head 5 -  ! НАР.ДОХ.
.head 5 -  Set NMSN = Subs(IifS(bNBUBANK=TRUE, 
    CurrentLangTable.GetAtomTitle('KRE_DEPO.cTNMSN') || cmb_VIDD || ' ', '') || NMKKB, 1, 38)
.head 5 -  ! == Осн.Счет для банка Б
.head 5 +  ! If cb_LOROB or bVPS 
.head 6 -  Set S1_ = NLSB
.head 5 +  ! Else
.head 6 -  Set S1_ = SSLB
.head 5 -  Set S1_ = NLSB
.head 5 -  ! == Код банка Б для осн.сч
.head 5 +  If cb_LOROB 
.head 6 -  Set S2_ = GetBankMfo()
.head 5 +  Else If bVPS
.head 6 -  Set S2_ = MFOB
.head 5 +  Else
.head 6 -  ! Set S2_ = BICKB 
.head 6 -  Set S2_ = BICB 
.head 5 -  ! == Счет нач.% для банка Б
.head 5 -  Set S3_ = ''
.head 5 +  If nTipd != 1
.head 6 +  ! If cb_LORONB or bVPS 
.head 7 -  Set S3_ = NLSNB
.head 6 +  ! Else
.head 7 -  Set S3_ = SSLB 
.head 6 -  Set S3_ = NLSNB
.head 5 -  ! == Код банка Б для сч нач.%
.head 5 +  If cb_LORONB
.head 6 -  Set S4_ = GetBankMfo()
.head 5 +  Else If bVPS
.head 6 -  Set S4_ = MFOB
.head 5 +  Else
.head 6 -  ! Set S4_ = BICKB 
.head 6 -  Set S4_ = BICB 
.head 5 -  ! ----
.head 5 -  Set S5_ = SSA
.head 5 +  If not cb_DCP 
.head 6 -  Set Id_DCP = NUMBER_Null
.head 5 -  ! % по дог. CC_ID
.head 5 -  Set sNazn = CurrentLangTable.GetAtomTitle('KRE_DEPO.cTNazn3') || ' ' || CC_ID
.head 5 -  !
.head 5 -  ! пока без соединеия  IR_ (знак) BR_  
.head 5 -  Set OP_ = NUMBER_Null
.head 5 -  Set IR_ = IifN(rbRF, colProcStavka, NUMBER_Null)
.head 5 -  Set BR_ = IifN(rbRV, nBR_ID, NUMBER_Null)
.head 5 -  ! == Перед созданием сделки, проверим длины некоторых полей
.head 5 -  Set BICKA = SalStrLeftX(BICKA, 11)
.head 5 -  Set SSLA  = SalStrLeftX(SSLA, 34)
.head 5 -  Set BICKB = SalStrLeftX(BICKB, 11)
.head 5 -  Set SSLB  = SalStrLeftX(SSLB, 34)
.head 5 -  Set df57A = SalStrLeftX(df57A, 200)
.head 5 -  Set sIntermB    = SalStrLeftX(sIntermB, 200)
.head 5 -  Set sIntPartyA  = SalStrLeftX(sIntPartyA, 200)
.head 5 -  Set sIntPartyB  = SalStrLeftX(sIntPartyB, 200)
.head 5 -  Set sIntIntermA = SalStrLeftX(sIntIntermA, 200)
.head 5 -  Set sIntIntermB = SalStrLeftX(sIntIntermB, 200)
.head 5 -  !
.head 5 +  If SqlPLSQLCommand(hSql(), 
"BARS.MBK.inp_deal(CC_ID, nVidd, nTipd, nKv, RNKB, colDatDU, colDatDV, colDatEndDog, 
   IR_, OP_, BR_, colSumma, nBASEY, nIO, 
   S1_, S2_, S3_, S4_, S5_,
   NLSA, NMS, NLSNA, NMSN, S3_, NMKB, sNazn, 
   NLSZ, colKvZ, nPawnId, Id_DCP, S67, nParGrp, nIsp, 
   KRE_DEPO.BICKA, KRE_DEPO.SSLA, KRE_DEPO.BICKB, KRE_DEPO.SSLB, colSummaP, 
   df57A, sIntermB, sIntPartyA, sIntPartyB, sIntIntermA, sIntIntermB,
   ND, ACC1, sErr)")
.head 6 +  If sErr = STRING_Null and ND > 0
.head 7 -  Set bRet = TRUE
.head 7 -  ! == SWIFT
.head 7 +  If bRet and nSWRef != NUMBER_Null and nSWRef != 0
.head 8 -  Set bRet = SqlPrepareAndExecute(hSql(), "update cc_add set swi_ref = :nSWRef where nd = :ND")
.head 7 +  If bRet and nKv = 643 and s58D != STRING_Null
.head 8 -  Set bRet = SqlPLSQLCommand(hSql(), "mbk.set_field58d(ND, s58D)") 
.head 7 -  ! == Залог
.head 7 +  If bRet and NLSZ != STRING_Null and colSummaZ != NUMBER_Null and colSummaZ > 0
.head 8 -  Set s9910 = ''
.head 8 +  If nHAVETOBO = 2
.head 9 -  Call SqlPrepareAndExecute(hSql(), "SELECT Substr(tobopack.GetTOBOParam('NLS_9900'),1,15) INTO :s9910 FROM dual") 
.head 9 -  Call SqlFetchNext(hSql(), nTmp) 
.head 8 +  Else
.head 9 -  Call SqlPrepareAndExecute(hSql(), "SELECT nlsm INTO :s9910 FROM tts WHERE tt='ZAL'")
.head 9 -  Call SqlFetchNext(hSql(), nTmp) 
.head 8 +  If s9910 != ''
.head 9 -  ! == Добавить залог в colDatDU
.head 9 -  Set nDk   = IifN(nTipd=1, 1, 0)
.head 9 -  Set nRef  = NUMBER_Null
.head 9 -  Set nVob  = IifN(nVob_VZAL=0, 6, IifN(colKvZ=GetBaseVal(), 6, nVob_VZAL))
.head 9 -  Set sOKPO = GetBankOkpoS()
.head 9 -  If SqlPrepareAndExecute(hSql(), "SELECT okpo INTO :sOKPOZal FROM customer WHERE rnk=:RNKB")
and SqlFetchNext(hSql(), nFetchRes)
.head 9 -  Set sOKPOZal = IifS(sOKPOZal='', GetBankOkpoS(), sOKPOZal)
.head 9 -  Set sNd   = IifS(sMBK_ND='REF', '', Subs(SalStrTrimX(CC_ID), 1, 10))
.head 9 -  Set sNamB = Subs(IifS(NMKKB!=STRING_Null, NMKKB, NMKB), 1, 38)
.head 9 -  ! Невозможно выполнить оп ZAL
.head 9 -  Set sErr  = CurrentLangTable.GetAtomTitle('KRE_DEPO.cTErrExecOp') || ' ZAL'
.head 9 -  ! == Открыть залог в colDatDU
.head 9 -  Call cDoc.SetDoc (0, 'ZAL', 1-nDk, nVob, sNd,
     colDatDU, colDatDU, colDatDU, colDatDU,
     s9910, GetBankName(), GetBankMfo(), '', colKvZ, colSummaZ*SalNumberPower(10,nDigZ), sOKPO,
     NLSZ,  sNamB,         GetBankMfo(), '', colKvZ, colSummaZ*SalNumberPower(10,nDigZ), sOKPOZal, 
     CurrentLangTable.GetAtomTitle('KRE_DEPO.cTNazn1') || ' ' || CC_ID || ' ' ||
     CurrentLangTable.GetAtomTitle('cTNaznOt') || ' ' || SalFmtFormatDateTime(colDatDU, 'dd/MM/yyyy'),
     '' , GetIdOper(), '', NUMBER_Null, 0)
.head 9 +  If cDoc.oDoc()
.head 10 -  Set nRef = cDoc.m_nRef
.head 10 -  Call SaveInfoToLog(AppCode || "Введена оп.ZAL реф." || Str(nRef) || " по дог." ||Str(ND) )
.head 10 +  If not SqlPLSQLCommand(hSql(), "mbk.link_nd_ref(ND, nRef)")
.head 11 -  Set bRet = FALSE
.head 10 -  ! == Снять залог в colDatEndDog
.head 10 -  Set nRef = NUMBER_Null
.head 10 -  Call cDoc.SetDoc(0, 'ZAL', nDk, nVob, sNd,
     colDatEndDog, colDatEndDog, colDatEndDog, colDatEndDog,
     s9910, GetBankName(), GetBankMfo(), '', colKvZ, colSummaZ*SalNumberPower(10,nDigZ), sOKPO,
     NLSZ,  sNamB,         GetBankMfo(), '', colKvZ, colSummaZ*SalNumberPower(10,nDigZ), sOKPOZal,
     CurrentLangTable.GetAtomTitle('KRE_DEPO.cTNazn2') || ' ' || CC_ID || ' ' ||
     CurrentLangTable.GetAtomTitle('cTNaznOt') || ' ' || SalFmtFormatDateTime(colDatDU, 'dd/MM/yyyy'),
     '' , GetIdOper(), '', NUMBER_Null, 0)
.head 10 +  If cDoc.oDoc()
.head 11 -  Set nRef = cDoc.m_nRef
.head 11 -  Call SaveInfoToLog(AppCode || "Введена оп.ZAL реф." || Str(nRef) || " по дог." ||Str(ND) )
.head 11 +  If not SqlPLSQLCommand(hSql(), "mbk.link_nd_ref(ND, nRef)")
.head 12 -  Set bRet = FALSE
.head 10 +  Else
.head 11 -  Set bRet = FALSE
.head 9 +  Else
.head 10 -  Set bRet = FALSE
.head 8 +  Else
.head 9 -  Set sErr = 'Невозможно определить счет 9 кл.'
.head 9 -  Set bRet = FALSE
.head 7 -  ! == доп. параметры сделки
.head 7 +  If bRet
.head 8 -  ! Невозможно сохранить параметры сделки
.head 8 -  Set sErr = CurrentLangTable.GetAtomTitle('KRE_DEPO.cTErrSetDealParam')
.head 8 +  If cbCapitalization
.head 9 +  If not SqlPLSQLCommand(hSql(), "mbk.set_deal_param(ND, 'CPT', '1')")
.head 10 -  Set bRet = FALSE
.head 10 -  Set sErr = sErr || ' <CPT>'
.head 8 +  If nPrv = 1 and dfBaseC
.head 9 +  If not SqlPLSQLCommand(hSql(), "mbk.set_deal_param(ND, 'BASEC', '" || Str(dfBaseC) || "')")
.head 10 -  Set bRet = FALSE
.head 10 -  Set sErr = sErr || ' <BASEC>'
.head 8 +  If nPrv = 1 and nBaseV
.head 9 +  If not SqlPLSQLCommand(hSql(), "mbk.set_deal_param(ND, 'BASEV', '" || Str(nBaseV) || "')")
.head 10 -  Set bRet = FALSE
.head 10 -  Set sErr = sErr || ' <BASEV>'
.head 8 +  ! If nPawnId
.head 9 +  If not SqlPLSQLCommand(hSql(), "mbk.set_deal_param(ND, 'PAWN', '" || Str(nPawnId) || "')")
.head 10 -  Set bRet = FALSE
.head 10 -  Set sErr = sErr || ' <PAWN>'
.head 7 +  If bRet and bParKR
.head 8 +  If not SqlPrepareAndExecute(hSql(), "update cc_add set nls_1819 = :sDB_1819 where nd = :ND")
.head 9 -  Set bRet = FALSE
.head 9 -  ! Невозможно сохранить параметры сделки
.head 9 -  Set sErr = CurrentLangTable.GetAtomTitle('KRE_DEPO.cTErrSetDealParam') || ' <NLS_1819>'
.head 7 -  ! НБУ-на будущее
.head 7 -  ! -- begin <NBU> ----------
.head 7 +  ! If bRet
.head 8 -  Set sErr = ""
.head 8 -  ! стандарт: colDatDU = colDatDV = GetBankDate() - ничего не делаем
.head 8 -  ! НЕстандарт: 
  1) colDatDU = GetBankDate() < colDatDV	- форвардная операция
  2) colDatDU = colDatDV < GetBankDate()	- коригуюча
.head 8 +  If bRet and bNBUBANK and (
   colDatDU = GetBankDate() and colDatDU < colDatDV
or 
   colDatDU < GetBankDate() and colDatDU = colDatDV )
.head 9 -  ! == Внесистемный счет из справочника
.head 9 -  Call SqlPrepareAndExecute(hSql(), "select nlsn into :sNls9202 from mbk_accc where nlsa=:sSubNls")
.head 9 -  Call SqlFetchNext(hSql(), nFetchRes)
.head 9 +  If sNls9202 = '' 
.head 10 -  Set bRet = FALSE
.head 10 -  Set sErr = "Не указан внесистемный счет в справочнике счетов, обслуживающих сделки."
.head 9 -  ! == Внесистемный счет из операции
.head 9 -  Call SqlPrepareAndExecute(hSql(), 
"select t.nlsb, t.nazn, nvl(v.vob,6) 
   into :sNls9910, :sTTF_Nazn, :nTTF_Vob
   from tts t, tts_vob v
  where t.tt=:sTTF
    and t.tt=v.tt(+)")
.head 9 +  If not SqlFetchNext(hSql(), nFetchRes)
.head 10 -  Set bRet = FALSE
.head 10 -  Set sErr = "Не описана операция " || sTTF || "."
.head 9 +  Else If sNls9910 = ''
.head 10 -  Set bRet = FALSE
.head 10 -  Set sErr = "Не описан счет в операции " || sTTF || "."
.head 9 -  ! == Назначение платежа
.head 9 +  If not SqlPrepareAndExecute(hSql(), 
"SELECT substr(MBK.F_GetNazn('" || IifS(nTipd=1,"RF","PF") || "', :ND),1,160) INTO :sNazn FROM dual" ) 
or not SqlFetchNext(hSql(), nFetchRes) 
or sNazn = ''
.head 10 -  Set sNazn = sTTF_Nazn
.head 9 -  ! == Оплата
.head 9 +  If bRet and sNls9910 and sNls9202
.head 10 -  ! Невозможно выполнить оп sTTF
.head 10 -  Set sErr  = CurrentLangTable.GetAtomTitle('KRE_DEPO.cTErrExecOp') || " " || sTTF
.head 10 -  ! 1)
.head 10 +  If colDatDU = GetBankDate() and colDatDU < colDatDV
.head 11 -  ! == Оплата документа - на дату ДУ
.head 11 -  Call cDoc.SetDoc (0, sTTF, 1, nTTF_Vob, sND10,
     colDatDU, colDatDU, colDatDU, colDatDU,
     sNls9202, GetBankName(), GetBankMfo(), '', nKv, colSumma*SalNumberPower(10,nDig), GetBankOkpoS(),
     sNls9910, GetBankName(), GetBankMfo(), '', nKv, colSumma*SalNumberPower(10,nDig), GetBankOkpoS(), 
     sNazn, '', GetIdOper(), '', NUMBER_Null, 0)
.head 11 +  If cDoc.oDoc()
.head 12 -  Set nRef = cDoc.m_nRef
.head 12 +  If not SqlPrepareAndExecute(hSql(), "insert into mbd_k_r(nd, ref) values(:ND, :nRef)")
.head 13 -  Set bRet = FALSE
.head 12 -  ! == Оплата документа - на дату ДВ
.head 12 -  Call cDoc.SetDoc (0, sTTF, 1, nTTF_Vob, sND10,
     colDatDV, colDatDV, colDatDV, colDatDV,
     sNls9910, GetBankName(), GetBankMfo(), '', nKv, colSumma*SalNumberPower(10,nDig), GetBankOkpoS(),
     sNls9202, GetBankName(), GetBankMfo(), '', nKv, colSumma*SalNumberPower(10,nDig), GetBankOkpoS(), 
     sNazn, '', GetIdOper(), '', NUMBER_Null, 0)
.head 12 +  If cDoc.oDoc()
.head 13 -  Set nRef = cDoc.m_nRef
.head 13 +  If not  SqlPrepareAndExecute(hSql(), "insert into mbd_k_r(nd, ref) values(:ND, :nRef)")
.head 14 -  Set bRet = FALSE
.head 12 +  Else 
.head 13 -  Set bRet = FALSE
.head 11 +  Else 
.head 12 -  Set bRet = FALSE
.head 10 -  ! 2)
.head 10 +  Else If colDatDU < GetBankDate() and colDatDU = colDatDV
.head 11 -  ! Дата документа - bankdate, дата валютирования - последний банк. день отчетного месяца
.head 11 -  ! Call cDoc.SetDoc ()
.head 11 -  ! If cDoc.oDoc()
.head 11 +  ! Else
.head 12 -  Set Ret = FALSE
.head 7 -  ! -- end <NBU> ------------
.head 5 +  If bRet
.head 6 -  ! Сделка дилера CC_ID / ND сохранена
.head 6 -  Call SqlCommitEx(hSql(), AppCode || CurrentLangTable.GetAtomTitle('KRE_DEPO.cTMessDeal') || " " || CC_ID || "/" || Str(ND) || " " ||
     CurrentLangTable.GetAtomTitle('KRE_DEPO.cTMessSave'))
.head 6 -  Call F_TELEX1()
.head 6 -  Call pbEnable()
.head 5 +  Else
.head 6 -  ! Сделка дилера CC_ID НЕ сохранена/sErr
.head 6 -  Call SqlRollbackEx(hSql(), AppCode || CurrentLangTable.GetAtomTitle('KRE_DEPO.cTMessDeal') || " " || CC_ID || " " ||
     CurrentLangTable.GetAtomTitle('KRE_DEPO.cTMessNotSave') || "/" || sErr)
.head 6 -  Call pbDisable()
.head 5 -  Return bRet
.head 3 +  Function: F_PROC
.head 4 -  Description: Рассчет суммы процентов
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sSqlW
.head 5 -  String: sPr
.head 5 -  String: sIO
.head 4 +  Actions
.head 5 +  If SalIsNull(colSumma) 
or SalIsNull(colDatDU) 
or SalIsNull(colDatEndDog)
or (    rbRF and SalIsNull(colProcStavka)
     or rbRV and SalIsNull(nBR_ID) )
.head 6 -  Set colSummaP = NUMBER_Null
.head 5 +  Else
.head 6 -  Set sIO = Str(nIO)
.head 6 -  Set sPr = Str( SalNumberRound(colProcStavka * 10000) )
.head 6 -  Set sSqlW = 
"BEGIN
   UPDATE accounts SET nms=nms WHERE acc=0 ;
   if SQL%rowcount = 0 then
      INSERT INTO ACCOUNTS (vid,ACC,KV,OSTB,OSTC,OSTF,OSTQ,DOS,KOS,DOSQ,KOSQ,rnk )
      VALUES (0,0,"||Str(n980)||",0, 0, 0, 0, 0, 0, 0, 0, "|| RNKA ||" );
   end if;
   update accounts set kv="||Str(nKv)|| " where acc=0;
   UPDATE INT_ACCN set BASEY="||Str(nBASEY)||",S=0,io="||sIO||" WHERE acc=0 and id=0;
   if SQL%rowcount = 0 then
      INSERT INTO INT_ACCN (ACC,ID,METR,BASEY,FREQ,S,io) VALUES(0,0,0,"||Str(nBASEY)||",5,0,"||sIO||");  
   end if;
   DELETE from INT_RATN WHERE acc=0 and id=0 ; "||
IifS( rbRF ,
 "INSERT INTO INT_RATN (ACC,ID,bdat,ir) VALUES (0,0,gl.BDATE,"||sPr||"/10000 );",
 "INSERT INTO INT_RATN (ACC,ID,bdat,br) VALUES (0,0,gl.BDATE,"||Str(nBR_ID) ||" );") ||"
END; "
.head 6 +  If SqlPrepareAndExecute(hSqlAux2(), sSqlW) 
.head 7 +  If nIO = 1 AND colDatDU <= colDatEndDog - 2
.head 8 -  Set colSummaP = - p_intN (0, 0, colDatDU, colDatEndDog - 2, -colSumma * SalNumberPower(10,nDig), 0) 
.head 7 +  Else
.head 8 -  Set colSummaP = - p_intN (0, 0, colDatDU, colDatEndDog - 1, -colSumma * SalNumberPower(10,nDig), 0) 
.head 7 -  Set colSummaP = SalNumberRound(colSummaP) / SalNumberPower(10,nDig) 
.head 7 +  If nPrv = 1 and dfBaseC
.head 8 -  Set dfSummaP_V = colSummaP * dfBaseC
.head 7 -  Call SalSendMsg(colSummaP, SAM_Validate, 0, 0)
.head 6 -  Call SqlRollback(hSqlAux2())
.head 5 -  Return TRUE
.head 3 +  Function: pbDisable
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Call SalDisableWindow(pbPay)
.head 5 -  Call SalDisableWindow(pbAcc)
.head 5 -  Call SalDisableWindow(pbProc)
.head 5 -  Call SalDisableWindow(pbTiket)
.head 5 -  Call SalDisableWindow(pbPrintDeal)
.head 5 -  Call SalDisableWindow(pbSavePartner)
.head 5 -  Call SalEnableWindow(pbOk1)
.head 5 -  Call SalHideWindow(FN_DCP)
.head 5 -  Call SalHideWindow(Id_Ug_DCP)
.head 5 -  Call SalHideWindow(Dat_Ug_DCP)
.head 5 +  If bSWIFT
.head 6 -  Call SalDisableWindow(pbCreateSWT)
.head 6 -  Call SalDisableWindow(pbViewSWT)
.head 6 -  Call SalEnableWindow(pbSWDetail)
.head 6 -  Call SalEnableWindow(pbFromSWT)
.head 5 +  If bTELEX
.head 6 -  Call SalDisableWindow(pbCreateTELEX)
.head 5 -  Set cb_DCP = FALSE
.head 3 +  Function: pbEnable
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Call SalEnableWindow(pbTiket)
.head 5 -  Call SalEnableWindow(pbPrintDeal)
.head 5 -  Call SalEnableWindow(pbAcc)
.head 5 -  Call SalEnableWindow(pbProc)
.head 5 -  Call SalEnableWindow(pbPay)
.head 5 -  Call SalEnableWindow(pbSavePartner)
.head 5 -  Call SalDisableWindow(pbOk1)
.head 5 +  If bSWIFT
.head 6 -  Call SalEnableWindow(pbCreateSWT)
.head 6 -  Call SalDisableWindow(pbSWDetail)
.head 6 -  Call SalDisableWindow(pbFromSWT)
.head 5 +  If bTELEX
.head 6 -  Call SalEnableWindow(pbCreateTELEX)
.head 3 +  Function: F_Param
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sMode
.head 5 -  Number: nPos
.head 4 +  Actions
.head 5 -  Set nPayMode = Val(Subs(Str(nMode),1,1))
.head 5 -  Set nParV    = Val(Subs(Str(nMode),2,1))
.head 5 -  Set nParT    = Val(Subs(Str(nMode),3,1))
.head 5 -  Set nParM    = Val(Subs(Str(nMode),4,1))
.head 5 -  Set nParGrp  = Val(sGrp_Dostupa)
.head 5 -  !
.head 5 -  Set nPos = SalStrScan(sAcc1819, '#')
.head 5 +  If nPos < 0
.head 6 -  Set sDB_1819  = sAcc1819
.head 6 -  Set sParWhere = '#'
.head 5 +  Else
.head 6 +  If nPos = 0
.head 7 -  Set sDB_1819 = ''
.head 6 +  Else
.head 7 -  Set sDB_1819 = SalStrTrimX(Subs(sAcc1819, 1, nPos))
.head 6 -  Set sParWhere = SalStrTrimX(Subs(sAcc1819, nPos+2, Len(sAcc1819)-nPos-1))
.head 5 -  Set bParKR = IifN(sDB_1819='', TRUE, FALSE)
.head 5 -  Return TRUE
.head 3 +  ! Function: F_LORO
.head 4 -  Description: 
.head 4 -  Returns 
.head 4 -  Parameters 
.head 4 -  Static Variables 
.head 4 -  Local variables 
.head 4 +  Actions 
.head 5 -  ! Если ВПС, всегда заполняем счета осн. и нач.%%
.head 5 +  If bVPS 
.head 6 -  Call SalShowWindow(NLSB)
.head 6 +  If nTipd != 1
.head 7 -  Call SalShowWindow(NLSNB)
.head 5 -  ! иначе заполняем только для внутр. счетов
.head 5 +  Else 
.head 6 +  If cb_LOROB
.head 7 -  Call SalShowWindow(NLSB)
.head 6 +  Else 
.head 7 -  Call SalHideWindow(NLSB)
.head 6 +  If nTipd != 1
.head 7 +  If cb_LORONB
.head 8 -  Call SalShowWindow(NLSNB)
.head 7 +  Else 
.head 8 -  Call SalHideWindow(NLSNB)
.head 3 +  Function: F_RATE
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 +  If rbRF
.head 6 -  Call SalHideWindow(cmb_RATE)
.head 6 -  Call SalHideWindow(nBR_ID)
.head 6 -  Call SalShowWindow(colProcStavka)
.head 5 +  Else
.head 6 -  Call SalHideWindow(colProcStavka)
.head 6 -  Call SalShowWindow(cmb_RATE)
.head 6 -  Call SalShowWindow(nBR_ID)
.head 5 -  Call F_PROC()
.head 3 +  Function: F_TELEX1
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: strTempl
.head 5 -  String: strReport
.head 5 -  String: sQRD
.head 5 -  String: sTmp
.head 5 -  File Handle: hFile
.head 5 -  Long String: sTiket
.head 5 -  Long String: sSrcTicket
.head 5 -  Long String: sTgtTicket
.head 5 -  String: sRelMsgRef
.head 5 -  !
.head 5 -  String: sNA
.head 5 -  String: sNB
.head 5 -  !
.head 5 -  String: tlxfTlxNum
.head 5 -  String: tlxfFrom
.head 5 -  String: tlxfTo
.head 5 -  String: tlxfCrDate
.head 5 -  String: tlxfAgrNum
.head 5 -  String: tlxfAgrDate
.head 5 -  String: tlxfTicketNum
.head 5 -  String: tlxfF20
.head 5 -  String: tlxfF21
.head 5 -  String: tlxfF22A
.head 5 -  String: tlxfF22B
.head 5 -  String: tlxfF22C
.head 5 -  String: tlxfF82A
.head 5 -  String: tlxfF87A
.head 5 -  String: tlxfF17
.head 5 -  !
.head 5 -  String: tlxfF30T
.head 5 -  String: tlxfF30V
.head 5 -  String: tlxfF30P
.head 5 -  String: tlxfF32
.head 5 -  String: tlxfF32H
.head 5 -  String: tlxfF30X
.head 5 -  String: tlxfF34
.head 5 -  String: tlxfF37
.head 5 -  String: tlxfF14
.head 5 -  String: tlxfFC56
.head 5 -  String: tlxfFC57
.head 5 -  String: tlxfFD56
.head 5 -  String: tlxfFD57
.head 5 -  String: tlxfFE56
.head 5 -  String: tlxfFE57
.head 5 -  String: tlxfFF56
.head 5 -  String: tlxfFF57
.head 5 -  !
.head 5 -  String: tlxfF36
.head 5 -  String: tlxfF32R
.head 5 -  String: tlxfFA57
.head 5 -  String: tlxfFA56
.head 5 -  String: tlxfF33P
.head 5 -  String: tlxfFB57
.head 5 -  String: tlxfFB56
.head 5 -  String: tlxfUserName
.head 5 -  !
.head 5 -  String: sDealRate
.head 5 -  Number: i
.head 5 -  Number: nOffset
.head 4 +  Actions
.head 5 +  If not bArcT
.head 6 +  While TRUE
.head 7 -  ! Сразу выходим, если нет признака установки модуля
.head 7 +  If not bTELEX
.head 8 -  Break
.head 7 -  If SqlPrepareAndExecute(hSqlAux2(),
  "select substr(swift_utl.StrToSwift(:NMKA,'TRANS'),1,35),
          substr(swift_utl.StrToSwift(:NMKB,'TRANS'),1,35)
     into :sNA, :sNB 
     from dual ") and SqlFetchNext(hSqlAux2(),  nFetchRes)
.head 7 -  ! имя шаблона
.head 7 -  Set strTempl = GetTemplateDir()||'\\tlx_320.qrd'
.head 7 -  ! имя исх файла
.head 7 -  Set strReport =
GetPrnDir()||'\\TL'||SalFmtFormatDateTime(SalDateCurrent() ,'hhhmmss') ||
    '.D' || SalStrRightX('0' || SalNumberToStrX(SalDateDay(SalDateCurrent()), 0), 2)
.head 7 -  ! переменные в шаблоне tlx_300.qrd
.head 7 -  Set sQRD = 
'TLXNUM_~FROM_~TO_~DATE_~AGRNUM_~AGRDATE_~TICKET_~F20_~F21_~F22C_~F22A_~F22B_~F82_~F87_~F17_~F30T_~F30V_~F30P_~F32_~F32H_~F30X_~F34_~F37_~F14_'
.head 7 -  Set sQRD = sQRD || '~FC57_~FC56_~FD57_~FD56_~FE57_~FE56_~FF57_~FF56_~TEL_~PODP_'
.head 7 -  ! Получаем номер телекса
.head 7 -  If SqlPrepareAndExecute( hSqlAux2(),
  "SELECT alt_bic INTO :sTlxNum FROM custbank WHERE rnk =:RNKB" ) and  SqlFetchNext(hSqlAux2(),  nFetchRes)
.head 7 -  !
.head 7 -  ! Формируем параметры для телексного сообщения
.head 7 -  !
.head 7 -  ! ! Номер телекса
.head 7 -  Set tlxfTlxNum = sTlxNum
.head 7 -  ! Имена отправиля и получателя в переводе на латинский (tlxfFrom, tlxfTo)
.head 7 +  If bSWIFT
.head 8 -  If SqlPrepareAndExecute( hSqlAux2(),
    "select bic || ' ' || substr(name, 1, 30)
         into :tlxfFrom
        from sw_banks where bic = :BICA") and SqlFetchNext(  hSqlAux2(),  nFetchRes)
.head 7 +  Else
.head 8 -  ! Берем название из справочника банков
.head 8 -  If SqlPrepareAndExecute( hSqlAux2(),
    "select substr(swift_utl.StrToSwift(nb, 'TRANS'), 1, 30)
         into :tlxfFrom
        from banks where mfo = :MFOA") and SqlFetchNext(  hSqlAux2(),  nFetchRes)
.head 7 -  ! У получателя должен быть либо БИК, либо МФО, либо просто его наименование
.head 7 +  If BICB != STRING_Null
.head 8 -  If SqlPrepareAndExecute( hSqlAux2(),
    "select bic || ' ' || substr(name, 1, 30)
         into :tlxfTo
        from sw_banks where bic = :BICB") and SqlFetchNext(  hSqlAux2(),  nFetchRes)
.head 7 +  Else If MFOB != STRING_Null
.head 8 -  ! Задано МФО, перекодируем наименование
.head 8 -  If SqlPrepareAndExecute( hSqlAux2(),
    "select substr(swift_utl.prepstr2(nb), 1, 30)
         into :tlxfTo
        from banks where mfo = :MFOB") and SqlFetchNext(  hSqlAux2(),  nFetchRes)
.head 8 -  Set tlxfTo = "MFO" || MFOB || '  ' || tlxfTo
.head 7 +  Else
.head 8 -  ! Нет ни БИК, ни МФО - берем наименование клиента
.head 8 -  If SqlPrepareAndExecute( hSqlAux2(),
    "select substr(swift_utl.StrToSwift(nmkk , 'TRANS'), 1, 30)
         into :tlxfTo
        from customer where rnk = :RNKB ") and SqlFetchNext(  hSqlAux2(),  nFetchRes)
.head 7 -  ! Дата и время формирования в формате [MON DD YYYY HH24:MI]
.head 7 -  Set tlxfCrDate = SalFmtFormatDateTime(SalDateCurrent(), 'MMM dd yyyy')
.head 7 -  ! Номер и дата ген. соглашения
.head 7 -  If SqlPrepareAndExecute( hSqlAux2(),
  "select num_nd, to_char(dat_nd, 'dd.mm.yyyy')
     into :tlxfAgrNum, :tlxfAgrDate
     from custbank
    where rnk = :RNKB") and SqlFetchNext(  hSqlAux2(),  nFetchRes)
.head 7 -  ! Номер тикета
.head 7 -  Set tlxfTicketNum = CC_ID
.head 7 -  ! Референс транзакции
.head 7 -  Set tlxfF20 = Str(ND)
.head 7 -  ! Референс связанного сообщения
.head 7 +  If (nSWRef != NUMBER_Null)
.head 8 -  If SqlPrepareAndExecute( hSqlAux2(),
  "SELECT substr(value, 1, 16) INTO :sRelMsgRef FROM sw_operw WHERE swref=:nSWRef and tag='20' and opt is null" )
 and SqlFetchNext(  hSqlAux2(),  nFetchRes)
.head 7 -  Set tlxfF21 = sRelMsgRef
.head 7 -  ! Общий референс (22C)
.head 7 +  If BICA != STRING_Null and BICB != STRING_Null
.head 8 -  Set sDealRate =  SalNumberToStrX(colProcStavka, 2)
.head 8 -  ! Удаляем пробелы в конце
.head 8 -  Set i = SalStrLength(sDealRate)-1
.head 8 -  ! Call DebugN(i)
.head 8 +  While i > 0
.head 9 -  ! Call Debug('i=' || Str(i) || ' RateC =' || SalStrMidX(sDealRate, i, 1) )
.head 9 +  If SalStrMidX(sDealRate, i, 1) != '0'
.head 10 -  Set sDealRate = SalStrLeftX(sDealRate, i)
.head 10 -  Set i = 0
.head 10 -  ! Call Debug('trunc i=' || Str(i))
.head 9 -  Set i = i - 1
.head 8 -  ! Call Debug(sDealRate)
.head 8 +  While SalStrLength(sDealRate) < 5
.head 9 -  Set sDealRate = '0' || sDealRate
.head 8 -  Set i = 1
.head 8 -  Set sTmp = STRING_Null
.head 8 +  While i < SalStrLength(sDealRate)
.head 9 +  If SalStrMidX(sDealRate, i, 1) != '.' and SalStrMidX(sDealRate, i, 1) != ','
.head 10 -  Set sTmp = sTmp || SalStrMidX(sDealRate, i, 1)
.head 9 -  Set i = i + 1
.head 8 +  If SalStrLeftX(BICA, 4) <= SalStrLeftX(BICB, 4)
.head 9 -  Set tlxfF22C = SalStrLeftX(BICA, 4) || SalStrMidX(BICA, 7, 2) || SalStrRightX(sTmp, 4) || SalStrLeftX(BICB, 4) || SalStrMidX(BICB, 7, 2)
.head 8 +  Else
.head 9 -  Set tlxfF22C = SalStrLeftX(BICB, 4) || SalStrMidX(BICB, 7, 2) || SalStrRightX(sTmp, 4) || SalStrLeftX(BICA, 4) || SalStrMidX(BICA, 7, 2)
.head 7 +  Else
.head 8 -  Set tlxfF22C = STRING_Null
.head 7 -  !
.head 7 +  ! If vBicSender != STRING_Null and vBicReceiver != STRING_Null
.head 8 -                      Set sDealRate =  SalNumberToStrX(vIntRate, 2)
.head 8 -  ! Удаляем пробелы в конце
.head 8 -                      Set i = SalStrLength(sDealRate)-1
.head 8 +                      While i > 1
.head 9 +                      If SalStrMidX(sDealRate, i, 1) != '0'
.head 10 -                      Set sDealRate = SalStrLeftX(sDealRate, i)
.head 10 -                      Set i = 0
.head 9 -                      Set i = i - 1
.head 8 +                      While SalStrLength(sDealRate) < 5
.head 9 -                      Set sDealRate = '0' || sDealRate
.head 8 -                      Set i = 1
.head 8 -                      Set sTmp = STRING_Null
.head 8 +                      While i < SalStrLength(sDealRate)
.head 9 +                      If SalStrMidX(sDealRate, i, 1) != '.' or SalStrMidX(sDealRate, i, 1) != ','
.head 10 -                      Set sTmp = sTmp || SalStrMidX(sDealRate, i, 1)
.head 9 -                      Set i = i + 1
.head 8 +                      If SalStrLeftX(vBicSender, 4) <= SalStrLeftX(vBicReceiver, 4)
.head 9 -                      Set tlxfF22C = SalStrLeftX(vBicSender, 4) || SalStrMidX(vBicSender, 7, 2) || SalStrRightX(sTmp, 4) || SalStrLeftX(vBicReceiver, 4) || SalStrMidX(vBicReceiver, 7, 2)
.head 8 +                      Else 
.head 9 -                      Set tlxfF22C = SalStrLeftX(vBicReceiver, 4) || SalStrMidX(vBicReceiver, 7, 2) || SalStrRightX(sTmp, 4) || SalStrLeftX(vBicSender, 4) || SalStrMidX(vBicSender, 7, 2)
.head 7 +  ! Else 
.head 8 -                      Set tlxfF22C = STRING_Null
.head 7 -  ! Тип сообщения
.head 7 -  Set tlxfF22A = 'NEWT'
.head 7 -  Set tlxfF22B = 'CONF'
.head 7 -  ! Сторона А, Б
.head 7 -  Set tlxfF82A = tlxfFrom
.head 7 -  Set tlxfF87A = tlxfTo
.head 7 -  ! Роль 17
.head 7 -  Set tlxfF17 = IifS (nTipd =1,'L','B')
.head 7 -  ! ! Дата заключения сделки
.head 7 -  Set tlxfF30T = SalFmtFormatDateTime(GetBankDate(), 'yyyyMMdd')
.head 7 -  ! ! Дата валютирования сделки
.head 7 -  Set tlxfF30V = SalFmtFormatDateTime(colDatDU, 'yyyyMMdd')
.head 7 -  ! Дата возврата
.head 7 -  Set tlxfF30P = SalFmtFormatDateTime(colDatEndDog,'yyyyMMdd')
.head 7 -  ! Сумма сделки
.head 7 -  Set tlxfF32 = cmb_KV || SalNumberToStrX(colSumma,2)
.head 7 -  ! Дата текущего возврата процентов
.head 7 -  Set tlxfF30X = SalFmtFormatDateTime(colDatEndDog,'yyyyMMdd')
.head 7 -  ! Сумма процентов
.head 7 -  Set tlxfF34 = cmb_KV || SalNumberToStrX(colSummaP,2)
.head 7 -  ! Процентная ставка
.head 7 -  Set tlxfF37 = SalNumberToStrX(colProcStavka,4)
.head 7 -  ! Кол-во дней в году
.head 7 -  If SqlPrepareAndExecute( hSqlAux2(),
    "select name_mb into :tlxfF14 from basey where basey = :nBASEY") and SqlFetchNext(  hSqlAux2(),  nFetchRes)
.head 7 -  ! Call Debug('basey=' ||Str(nBASEY) || '  code=' || tlxfF14)
.head 7 -  ! Set tlxfF14 = cmb_Basey
.head 7 -  !
.head 7 +  If df57A = STRING_Null
.head 8 -  Set tlxfFC57 = '/' || SSLB || '  ' || BICKB
.head 7 +  Else
.head 8 -  Set tlxfFC57 = df57A
.head 8 -  If SqlPrepareAndExecute( hSqlAux2(),
    "select substr(swift_utl.prepstr2(:tlxfFC57), 1, 200)
          into :tlxfFC57
         from dual") and SqlFetchNext(  hSqlAux2(),  nFetchRes)
.head 7 -  If SqlPrepareAndExecute( hSqlAux2(),
  "select substr(swift_utl.prepstr2(:sIntermB), 1, 200)
     into :tlxfFC56
     from dual") and SqlFetchNext(  hSqlAux2(),  nFetchRes)
.head 7 -  Set tlxfFD57 = '/' || SSLA ||  '  ' || BICKA
.head 7 -  If SqlPrepareAndExecute( hSqlAux2(),
  "select substr(swift_utl.prepstr2(:sIntermA), 1, 200)
     into :tlxfFD56
     from dual") and SqlFetchNext(  hSqlAux2(),  nFetchRes)
.head 7 -  ! Проценты
.head 7 -  ! E57
.head 7 -  If SqlPrepareAndExecute( hSqlAux2(),
  "select substr(swift_utl.prepstr2(:sIntPartyB), 1, 200)
     into :tlxfFE57
     from dual") and SqlFetchNext(  hSqlAux2(),  nFetchRes)
.head 7 -  ! E56
.head 7 -  If SqlPrepareAndExecute( hSqlAux2(),
  "select substr(swift_utl.prepstr2(:sIntIntermB), 1, 200)
     into :tlxfFE56
     from dual") and SqlFetchNext(  hSqlAux2(),  nFetchRes)
.head 7 -  ! FF57
.head 7 -  If SqlPrepareAndExecute( hSqlAux2(),
  "select substr(swift_utl.prepstr2(:sIntPartyA), 1, 200)
     into :tlxfFF57
     from dual") and SqlFetchNext(  hSqlAux2(),  nFetchRes)
.head 7 -  ! FF56
.head 7 -  If SqlPrepareAndExecute( hSqlAux2(),
  "select substr(swift_utl.prepstr2(:sIntIntermA), 1, 200)
     into :tlxfFF56
     from dual") and SqlFetchNext(  hSqlAux2(),  nFetchRes)
.head 7 -  !
.head 7 -  Set tlxfUserName = GetUserRealName()
.head 7 -  If SqlPrepareAndExecute( hSqlAux2(),
  "select substr(swift_utl.StrToSwift(:tlxfUserName,'TRANS'),1,40)
     into :tlxfUserName 
     from dual " ) and SqlFetchNext(  hSqlAux2(),  nFetchRes)
.head 7 -  !
.head 7 -  Set sTmp= sTlxNum ||
'~' || tlxfFrom ||
'~' || tlxfTo || 
'~' || tlxfCrDate ||
'~' || tlxfAgrNum ||
'~' || tlxfAgrDate ||
'~' || tlxfTicketNum ||
'~' || tlxfF20 ||
'~' || tlxfF21 ||
'~' || tlxfF22C ||
'~' || tlxfF22A ||
'~' || tlxfF22B ||
'~' || tlxfF82A ||
'~' || tlxfF87A ||
'~' || tlxfF17   ||
'~' || tlxfF30T ||
'~' || tlxfF30V ||
'~' || tlxfF30P ||
'~' || tlxfF32   ||
'~' || tlxfF32H ||
'~' || tlxfF30X ||
'~' || tlxfF34   ||
'~' || tlxfF37  ||
'~' || tlxfF14   ||
'~' || tlxfFC57 ||
'~' || tlxfFC56 ||
'~' || tlxfFD57 ||
'~' || tlxfFD56 ||
'~' || tlxfFE57 ||
'~' || tlxfFE56 ||
'~' || tlxfFF57 ||
'~' || tlxfFF56 ||
'~' || ' ' ||
'~' || tlxfUserName
.head 7 -  Call DosReport ( strTempl, strReport,  sQRD, sTmp, 0)
.head 7 -  Set bArcT = TRUE
.head 7 +  If SalFileOpen( hFile, strReport, 0 )
.head 8 -  Call SalFileRead( hFile, sTiket, VisFileGetSize( strReport ) )
.head 8 -  ! Убираем пустые строки из файла
.head 8 -  Set nOffset = SalStrScan(sTiket, SalNumberToChar(13) || SalNumberToChar(10))
.head 8 -  ! Call Debug('First offset ' || Str(nOffset))
.head 8 -  Set sSrcTicket = sTiket
.head 8 +  While nOffset != -1
.head 9 -  Set sTmp = SalStrLeftX(sSrcTicket, nOffset+2)
.head 9 -  Set sSrcTicket = SalStrMidX(sSrcTicket, nOffset+2, SalStrLength(sSrcTicket)-nOffset+2)
.head 9 -  ! Call Debug('Curr line (' || Str(SalStrLength(sTmp)) || ')=' || sTmp)
.head 9 -  ! Call Debug('Left ticket (' || Str(SalStrLength(sSrcTicket)) || ') =' || sSrcTicket)
.head 9 -  ! Call Debug('Step 1')
.head 9 +  If SalStrTrimX(sTmp) != SalNumberToChar(13) || SalNumberToChar(10)
.head 10 -  Set sTgtTicket = sTgtTicket || sTmp
.head 10 -  ! Call Debug('line accepted')
.head 9 -  Set nOffset = SalStrScan(sSrcTicket, SalNumberToChar(13) || SalNumberToChar(10))
.head 9 -  ! Call Debug('New offset =' || Str(nOffset))
.head 8 -  Set sTiket = sTgtTicket
.head 8 +  If SqlPrepare(hSql(), "INSERT into BARS.TELEX_FILE (TELEX,ins,nd) values (:sTiket,2,:ND) ")
and SqlSetLongBindDatatype(1, BLOB_BYTE) 
and SqlExecute(hSql())
.head 9 -  Call SqlCommitEx(hSql(), AppCode || "TELEX создан " || Str(ND) )
.head 8 +  Else
.head 9 -  Call SqlRollback(hSql())
.head 8 -  Call SalFileClose(hFile)
.head 7 -  Break
.head 3 +  Function: F_TELEX
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Return F_dlg_TELEX(ND, 2)
.head 3 +  Function: SetSwParty
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  ! Если валюта гривна, автоматически заполняем трассы
.head 5 -  ! Сторона А
.head 5 +  If bVPS
.head 6 -  ! Трасса процентов
.head 6 +  If (nTipd = 1)
.head 7 +  If (NLSNA != STRING_Null or BICA != STRING_Null)
.head 8 +  If sIntPartyA = sIntPartyADef
.head 9 -  Set sIntPartyA = '/' || NLSNA || SalNumberToChar(13) || SalNumberToChar(10) || BICA
.head 9 -  Set sIntPartyADef = sIntPartyA
.head 6 +  If (nTipd = 2)
.head 7 +  If (sIntPartyA = sIntPartyADef)
.head 8 -  Set sIntPartyA = STRING_Null
.head 8 -  Set sIntPartyADef = sIntPartyA
.head 6 +  If (BICKA = sBICKADef or BICKA = STRING_Null) and not bParKR
.head 7 -  Set BICKA = BICA
.head 7 -  Set sBICKADef = BICKA
.head 6 +  If (SSLA  = sSSLADef  or SSLA  = STRING_Null) and not bParKR
.head 7 -  Set SSLA = NLSA
.head 7 -  Set sSSLADef = SSLA
.head 5 -  ! Сторона B
.head 5 +  If bVPS
.head 6 +  If (nTipd = 1)
.head 7 +  If (sIntPartyB = sIntPartyBDef)
.head 8 -  Set sIntPartyB = STRING_Null
.head 8 -  Set sIntPartyBDef = sIntPartyB
.head 6 +  If (nTipd = 2)
.head 7 +  If (NLSNB != STRING_Null or BICB != STRING_Null or MFOB != STRING_Null)
.head 8 +  If sIntPartyB = sIntPartyBDef
.head 9 -  Set sIntPartyB = '/' || NLSNB || SalNumberToChar(13) || SalNumberToChar(10) || IifS(BICB=STRING_Null, 'MFO' || MFOB, BICB)
.head 9 -  Set sIntPartyBDef = sIntPartyB
.head 6 +  If (BICKB = sBICKBDef or BICKB = STRING_Null)
.head 7 +  If (BICB != STRING_Null and BICB != '-1')
.head 8 -  Set BICKB = BICB
.head 8 -  Set sBICKBDef = BICKB
.head 8 -  Set df57A = STRING_Null
.head 8 -  Set df57ADef = df57A
.head 7 +  Else
.head 8 +  If (df57A = df57ADef)
.head 9 -  Set df57A = '/' || NLSB || SalNumberToChar(13) || SalNumberToChar(10) || 'MFO' || MFOB
.head 9 -  Set df57ADef = df57A
.head 6 +  If (SSLB  = sSSLBDef  or SSLB  = STRING_Null)
.head 7 -  Set SSLB =NLSB
.head 7 -  Set sSSLBDef = SSLB
.head 3 +  Function: f_swImportMsg
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nSWRefTmp
.head 4 +  Actions
.head 5 -  Set nSWRefTmp = SWIFTMsgSel(hWndForm, "V_SW320_HEADER", "IO_IND='O'")
.head 5 +  If nSWRefTmp != 0
.head 6 -  Set nSWRef = nSWRefTmp
.head 6 +  If SqlPLSQLCommand( hSql(), "SWIFT.Get_MT320_Fields(nSWRef, 
sSender, sReceiver, dDatTrade, dDatValue, dDatMatur, sDealType,
nKvDeal, nSum, nKvInt, nSumInt, nRate, sMethod, 
sSSLA, sBICKA, sSSLB, sBICKB, sAltPartyB, sIntermA, sIntermB)") 
.head 7 -  ! Устанаваливаем валюту
.head 7 -  Call cmb_KV.SetSelectById(nKvDeal)
.head 7 -  ! Устанавливаем фильтр на тип договора
.head 7 -  Call cmb_VIDD.Init(cmb_VIDD)
.head 7 -  Call cmb_VIDD.Populate(hSql(),  "VIDD", "NAME", "CC_VIDD", 
     " WHERE CUSTTYPE = 1 AND length(vidd)=4 " || 
     IifS( SalStrLength(sParWhere) > 5, " AND (" || sParWhere || ") ", "" ) ||
     IifS( sDealType = 'B', " AND tipd=1 ", IifS( sDealType = 'L', " AND tipd=2 ", "" ) ) || 
     IifS( nParM=1, " AND vidd like '1%' ", IifS( nParM=2, " AND vidd not like '1%' ", "" ) ) ||
     " ORDER BY NAME")
.head 7 -  Call SalListSetSelect(cmb_VIDD,0)
.head 7 -  !
.head 7 -  Set colDatDU = dDatValue
.head 7 -  Set colDatEndDog = dDatMatur
.head 7 -  Call SalSendMsg(cmb_KV, SAM_Click, 0, 0)
.head 7 -  Set colSumma = nSum/SalNumberPower(10, nDig)
.head 7 -  Call SalSendMsg(colSumma, SAM_Validate, 0, 0)
.head 7 -  Set colProcStavka = nRate
.head 7 -  Call cmb_Basey.SetSelectById(Val(sMethod))
.head 7 -  Set rbRV = FALSE
.head 7 -  Set rbRF = TRUE
.head 7 -  Call F_RATE()
.head 7 -  ! Устанавливаем сумму процентов
.head 7 -  Set colSummaP = nSumInt/SalNumberPower(10, nDig)
.head 7 -  ! При входящем сообщении наверное это тот, кто отсылал
.head 7 -  Set BICB = sSender
.head 7 -  Call SalSendMsg(BICB, SAM_Validate, 0, 0)
.head 7 -  ! Заполняем трассы
.head 7 -  Set BICKA = sBICKA
.head 7 -  Set SSLA = sSSLA
.head 7 -  Set BICKB = sBICKB
.head 7 -  Set SSLB=sSSLB
.head 7 -  Set df57A = sAltPartyB
.head 7 -  Call SalSendMsg(SSLA, SAM_Validate, 0, 0)
.head 7 -  Call SalSendMsg(SSLB, SAM_Validate, 0, 0)
.head 7 -  Call SalSetFocus(colProcStavka)
.head 3 +  Function: f_Clear
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Call pbDisable()
.head 5 -  Call SalDisableWindow(pbPasport)
.head 5 -  Call SalDisableWindow(pbPrcAcc)
.head 5 -  Set rbRF = TRUE
.head 5 -  Set rbRV = FALSE
.head 5 -  Call F_RATE()
.head 5 -  Set ND           = NUMBER_Null
.head 5 -  Set CC_ID        = STRING_Null
.head 5 -  Set colDatDU     = GetBankDate()
.head 5 -  Set colDatDV     = GetBankDate()
.head 5 -  Set colDatEndDog = GetBankDate()+1
.head 5 -  Set colDatEndDog = CorrectDateMbk(nKv, colDatEndDog,colDatEndDog+1)
.head 5 -  Set colSumma     = NUMBER_Null
.head 5 -  Set dfBaseC      = NUMBER_Null
.head 5 -  Set colProcStavka= NUMBER_Null
.head 5 -  Set colSummaP    = NUMBER_Null
.head 5 -  Set cbLimitB     = FALSE
.head 5 -  Set cbCapitalization = FALSE
.head 5 -  ! cmb_VIDD
.head 5 -  Call SalEnableWindow(cmb_VIDD)
.head 5 -  Call SalSendMsg(cmb_VIDD, SAM_Create, 0, 0)
.head 5 -  !
.head 5 -  ! cmb_KV
.head 5 -  ! Убираю две строки, хотя они все время біли !
.head 5 -  ! Call SalListSetSelect(cmb_KV, 0)
.head 5 -  ! Call SalSendMsg(cmb_KV, SAM_User, 0, 0)
.head 5 -  !
.head 5 -  Set cb_LOROB  = FALSE
.head 5 -  Set cb_LORONB = FALSE
.head 5 -  Set bArcT = FALSE
.head 5 -  Set NMKB  = STRING_Null
.head 5 -  Set RNKB  = NUMBER_Null
.head 5 -  Set MFOB  = STRING_Null
.head 5 -  Set NLSB  = STRING_Null
.head 5 -  Set NLSNB = STRING_Null
.head 5 -  Set OKPOB = STRING_Null
.head 5 -  Set dfND  = STRING_Null
.head 5 -  Set BICB  = STRING_Null
.head 5 -  Set KOD_BB= NUMBER_Null
.head 5 -  Set BICKB = STRING_Null
.head 5 -  Set NBKB  = STRING_Null
.head 5 -  Set SSLB  = STRING_Null
.head 5 -  Set df57A = STRING_Null
.head 5 -  !
.head 5 -  Set nSWRef = NUMBER_Null
.head 5 -  Set BICKA = STRING_Null
.head 5 -  Set sBICKADef = BICKA
.head 5 -  Set SSLA  = STRING_Null
.head 5 -  Set sSSLADef = SSLA
.head 5 -  Set SSA   = NUMBER_Null
.head 5 -  Set NBKA  = STRING_Null
.head 5 -  Set NLSA  = STRING_Null
.head 5 -  Set NLSNA = STRING_Null
.head 5 -  Set colKvZ= NUMBER_Null
.head 5 -  Set colSummaZ= NUMBER_Null
.head 5 -  Set NLSZ  = STRING_Null
.head 5 -  !
.head 5 -  Set sIntermA = STRING_Null
.head 5 -  ! Set sIntermADef = sIntermA
.head 5 -  Set sIntermB = STRING_Null
.head 5 -  ! Set sIntermBDef = sIntermB
.head 5 -  Set sIntPartyA = STRING_Null
.head 5 -  Set sIntPartyADef = sIntPartyA
.head 5 -  Set sIntPartyB = STRING_Null
.head 5 -  Set sIntPartyBDef = sIntPartyB
.head 5 -  Set sIntIntermA = STRING_Null
.head 5 -  ! Set sIntIntermADef = sIntIntermA
.head 5 -  Set sIntIntermB = STRING_Null
.head 5 -  ! Set sIntIntermBDef = sIntIntermB
.head 5 -  !
.head 5 -  Call SetSwParty()
.head 5 -  !
.head 5 -  Call SalDisableWindow(pbPrcAcc)
.head 5 -  Call SalDisableWindow(pbPasport)
.head 5 -  !
.head 5 -  Call f_Clear1()
.head 5 -  ! Иногда закрывается NLSB
.head 5 -  ! Call SalShowWindow(NLSB)
.head 3 +  Function: f_Clear1
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 +  If GetBankMfo() = Mfo_300465
.head 6 -  Call cmb_INIC.Init(cmb_INIC)
.head 6 -  Call cmb_INIC.Populate(hSql(), "CODE", "TXT", "CP_OB_INITIATOR", "ORDER BY code ")
.head 6 -  Call cmb_INIC.SetSelectById('0')
.head 6 -  Set sInic = STRING_Null
.head 5 +  Else
.head 6 -  Call SalHideWindow( cmb_INIC )
.head 3 +  Function: SetVPS
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Set bVPS = FALSE
.head 5 -  If SqlPrepareAndExecute(hSql(), "SELECT PUL.MVPS_FIL(:MFOB,:nKv) into :bVPS from dual")
and SqlFetchNext(hSql(), nTmp) 
.head 3 +  Function: SetTrassa
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  ! DG: Показ трасс возможен не только для валютных договоров ()
.head 5 -  ! В случае выбора валютой договора гривны, по стороне А показывем наш БИК и наш
.head 5 -  ! основной счет, соответственно и в процентах (если это нужно)
.head 5 +  If nKv = GetBaseVal() or bParKR
.head 6 -  Call SalListClear(NBKA)
.head 6 -  Set BICKA = ''
.head 6 -  Set SSLA  = ''
.head 6 -  Set SSA   = NUMBER_Null
.head 6 -  Set BICKB = STRING_Null
.head 6 -  Set SSLB  = STRING_Null
.head 6 -  Set df57A = STRING_Null
.head 6 -  !
.head 6 -  Set sIntermA = STRING_Null
.head 6 -  Set sIntermB = STRING_Null
.head 6 -  Set sIntPartyA = STRING_Null
.head 6 -  Set sIntPartyB = STRING_Null
.head 6 -  Set sIntIntermA = STRING_Null
.head 6 -  Set sIntIntermB = STRING_Null
.head 6 -  ! Также несколько служебных переменных
.head 6 -  Set sBICKADef = STRING_Null
.head 6 -  Set sSSLADef = STRING_Null
.head 6 -  Set sIntPartyADef = STRING_Null
.head 5 +  Else
.head 6 -  Set BICKA = ''
.head 6 -  Set SSLA  = ''
.head 6 -  Set SSA   = NUMBER_Null
.head 6 -  Call NBKA.Init(NBKA)
.head 6 -  Call NBKA.Populate(hSql(), "NLS", "SUBSTR(NMS,1,38)", "ACCOUNTS",
  "WHERE KV=" || Str(nKv) ||
  "  AND DAZS IS NULL AND ACC IN (SELECT ACC FROM BIC_ACC) ORDER BY NLS")
.head 6 -  Call SalListSetSelect(NBKA,0)
.head 6 -  Call SalSendMsg(NBKA, SAM_Click, 0, 0)
.head 6 -  ! Если ранее была валюта 980
.head 6 +  If (df57A = df57ADef)
.head 7 -  Set df57A = STRING_Null
.head 7 -  Set df57ADef = df57A
.head 6 +  If (BICKB = sBICKBDef)
.head 7 -  Set BICKB = STRING_Null
.head 7 -  Set sBICKBDef = BICKB
.head 6 +  If (SSLB  = sSSLBDef)
.head 7 -  Set SSLB = STRING_Null
.head 7 -  Set sSSLBDef = SSLB
.head 6 +  If (sIntPartyA = sIntPartyADef)
.head 7 -  Set sIntPartyA = STRING_Null
.head 7 -  Set sIntPartyADef = sIntPartyA
.head 6 +  If (sIntPartyB = sIntPartyBDef)
.head 7 -  Set sIntPartyB = STRING_Null
.head 7 -  Set sIntPartyBDef = sIntPartyA
.head 3 +  ! Function: ShowFreeAcc
.head 4 -  Description: 
.head 4 -  Returns 
.head 4 +  Parameters 
.head 5 -  Number: nParFreeAcc
.head 4 -  Static Variables 
.head 4 +  Local variables 
.head 5 -  String: sNLS1
.head 5 -  String: sNLS2
.head 4 +  Actions 
.head 5 +  If IsWindow(hFREE)
.head 6 -  Call SalDestroyWindow(hFREE)
.head 5 -  Set hFREE = SalCreateWindow(FREE, hWndMDI, nParFreeAcc, RNKB, nKv, Str(nVidd), nAcrb, sNLS1, sNLS2, cbLimitB, colSumma)
.head 5 -  Set KRE_DEPO.NLSA  = sNLS1
.head 5 -  Set KRE_DEPO.NLSNA = sNLS2
.head 3 +  Function: ShowFreeAcc
.head 4 -  Description:
.head 4 -  Returns
.head 4 +  Parameters
.head 5 -  Number: nParFreeAcc
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sNLS1
.head 5 -  String: sNLS2
.head 4 +  Actions
.head 5 +  If SalModalDialog(FREE, hWndMDI, nParFreeAcc, RNKB, nKv, Str(nVidd), nAcrb, sNLS1, sNLS2, cbLimitB, colSumma)
.head 6 -  Set KRE_DEPO.NLSA  = sNLS1
.head 6 -  Set KRE_DEPO.NLSNA = sNLS2
.head 5 -  Return TRUE
.head 3 +  Function: checkInputParams
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 +  Parameters
.head 5 -  Receive String: sErr
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Set sErr = ''
.head 5 +  If SalIsNull(CC_ID)  
.head 6 -  Set CC_ID = '0'
.head 5 +  Loop
.head 6 -  ! НБУ-на будущее
.head 6 +  ! If bNBUBANK and nPrv = 1 and dfBaseC = NUMBER_Null
.head 7 -  Set sErr = CurrentLangTable.GetAtomTitle('KRE_DEPO.bgBaseC')
.head 7 -  Break 
.head 6 +  If SalIsNull(colSumma)
.head 7 -  Set sErr = CurrentLangTable.GetAtomTitle('KRE_DEPO.bgSumma')
.head 7 -  Break
.head 6 +  If rbRF AND SalIsNull(colProcStavka) 
OR rbRV AND nBR_ID = NUMBER_Null
.head 7 -  Set sErr = CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipProcStavka')
.head 7 -  Break
.head 6 +  If SalIsNull(colDatDU)
.head 7 -  Set sErr = CurrentLangTable.GetAtomTitle('KRE_DEPO.bgDatWidKre')
.head 7 -  Break
.head 6 +  If SalIsNull(colDatEndDog)
.head 7 -  Set sErr = CurrentLangTable.GetAtomTitle('KRE_DEPO.bgDatEndDog')
.head 7 -  Break
.head 6 +  If SalIsNull(RNKB) 
.head 7 -  Set sErr = CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipRNKB')
.head 7 -  Break
.head 6 +  If SalIsNull(NLSB) 
.head 7 +  If cb_LOROB OR bVPS 
.head 8 -  Set sErr = CurrentLangTable.GetAtomTitle('cTNLS')
.head 8 -  Break
.head 6 +  If SalIsNull(NLSNB) AND nTipd != 1 
.head 7 +  If cb_LORONB OR bVPS 
.head 8 -  Set sErr = CurrentLangTable.GetAtomTitle('cTNLSN')
.head 8 -  Break
.head 6 +  If bParKR and sDB_1819 = ''
.head 7 -  Set sErr = CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipDB_1819')
.head 7 -  Break
.head 6 +  If cb_DCP AND 
   NOT F_DCP(NUMBER_Null, MFOA, MFOB, NLSB, OKPOB, colSumma*SalNumberPower(10,nDig),
             FN_DCP, Id_DCP, Id_Ug_DCP, Dat_Ug_DCP )
.head 7 -  Set sErr = 'ДЦП'
.head 7 -  Break
.head 6 -  Break
.head 5 -  Return IifN(sErr='', TRUE, FALSE)
.head 2 +  Window Parameters
.head 3 -  Number: nMode
.head 3 -  ! nMode = xVTMS
.head 3 -  ! x - nPayMode - режим оплаты
  nPayMode=1 - оплата запрещена
  nPayMode=2 - оплата разрешена
.head 3 -  ! V - nParV
  nParV=1 - нацвалюта,  
  nParV=2 - инвалюта, 
  иначе   - нацвалюта + инвалюта
.head 3 -  ! T - nParT
  nParT=1 - АКТИВЫ (Размещение), 
  nParT=2 - ПАССИВЫ (Привлечения) 
  иначе   - Размещение + Привлечения
.head 3 -  ! M - nParM
  nParM=1 - 1 класс МежБанк
  nParM=2 - не 1 класс (МежФилиал)
  иначе   - МежБанк + МежФилиал
.head 3 -  Number: nIsp
.head 3 -  ! параметр DB_1819 = 'Транзитный-счет' || '#' || ' WHERE ....'
.head 3 -  String: sAcc1819
.head 3 -  String: sGrp_Dostupa
.head 2 +  Window Variables
.head 3 -  Number: nPayMode
.head 3 -  Number: nParV
.head 3 -  Number: nParT
.head 3 -  Number: nParM
.head 3 -  Number: nParGrp
.head 3 -  String: sParWhere
.head 3 -  ! признак "Кредитные ресурсы": параметр DB_1819 пустой (счет потом будет выбираться из справочника)
.head 3 -  Boolean: bParKR
.head 3 -  !
.head 3 -  Number: n980
.head 3 -  String: sSqlPoisk
.head 3 -  String: sInputErr
.head 3 -  String: sSaveErr
.head 3 -  !
.head 3 -  Number: nVidd
.head 3 -  Number: nTipd
.head 3 -  Number: ND
.head 3 -  Number: ACC1
.head 3 -  !
.head 3 -  Boolean: bArc
.head 3 -  Boolean: bArcT
.head 3 -  Number: nBASEY
.head 3 -  Number: nIO
.head 3 -  Number: Id_DCP
.head 3 -  String: NMKKB
.head 3 -  !
.head 3 -  String: G67   ! NLS
.head 3 -  String: G67N
.head 3 -  String: sG67  ! NMS
.head 3 -  String: sG67N
.head 3 -  Number: nG67  ! ACC
.head 3 -  Number: nG67N
.head 3 -  Number: nAcrb
.head 3 -  !
.head 3 -  Number: nPrv		! Признак валюты, 1-банк. металл
.head 3 -  Number: nVob
.head 3 -  Number: nVob_VZAL	! MBK_VZAL - Вид обработки для вал. операций МБД (одновал МО)
.head 3 -  String: sOKPO
.head 3 -  String: sOKPOZal
.head 3 -  Number: nAccZal
.head 3 -  Number: nDig
.head 3 -  Number: nDigZ
.head 3 -  !
.head 3 -  String: sPk
.head 3 -  String: sSem
.head 3 -  String: sTmp
.head 3 -  Number: nTmp
.head 3 -  Date/Time: dTmp
.head 3 -  String: sFormat
.head 3 -  !
.head 3 -  String: sSWRef
.head 3 -  Number: nSWRef
.head 3 -  String: sSender
.head 3 -  String: sReceiver
.head 3 -  Date/Time: dDatTrade
.head 3 -  Date/Time: dDatValue
.head 3 -  Date/Time: dDatMatur
.head 3 -  String: sDealType
.head 3 -  Number: nKvDeal
.head 3 -  Number: nSum
.head 3 -  Number: nKvInt
.head 3 -  Number: nSumInt
.head 3 -  Number: nRate
.head 3 -  String: sMethod
.head 3 -  String: sSSLA
.head 3 -  String: sBICKA
.head 3 -  String: sSSLB
.head 3 -  String: sBICKB
.head 3 -  String: s58D
.head 3 -  String: sAltPartyB  !! Альтернативное заполнение поля 57(С)
.head 3 -  String: sIntermA    !! Посредник А 56 (С)
.head 3 -  String: sIntermB    !! Посредник Б 56 (D)
.head 3 -  String: sIntPartyA
.head 3 -  String: sIntPartyB
.head 3 -  String: sIntIntermA
.head 3 -  String: sIntIntermB
.head 3 -  String: sTmpBIC
.head 3 -  String: sTmpBICName
.head 3 -  !
.head 3 -  String: sBICKADef
.head 3 -  String: sSSLADef
.head 3 -  String: sIntPartyADef
.head 3 -  String: sBICKBDef
.head 3 -  String: sSSLBDef
.head 3 -  String: df57ADef
.head 3 -  String: sIntPartyBDef
.head 3 -  !
.head 3 -  Date/Time: datND
.head 3 -  String: sTlxNum
.head 3 -  !
.head 3 -  Window Handle: hFREE
.head 3 -  String: sNbsZ
.head 3 -  Boolean: cb_DCP
.head 3 -  Number: nPawnId
.head 3 -  String: sPawnName
.head 3 -  String: sPawnCode 
.head 3 -  !
.head 3 -  Number: nBaseV		! Базовая валюта (для металлов)
.head 3 -  Number: nBaseDig
.head 3 -  String: sTTF		! Форвардная операция по внесистемным счетам
.head 3 -  Number: nX1
.head 3 -  Number: nY1
.head 3 -  Number: nX2
.head 3 -  Number: nY2
.head 3 -  !
.head 3 -  String: Mfo_300465
.head 3 -  String: sInic
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  ! Присваиваем значения многоязыковым объектам
.head 4 -  Call SalSendMsgToChildren(hWndForm, UM_QueryLabelText, 0, 0)
.head 4 -  Call SalSetWindowText(hWndForm, AppVersion || CurrentLangTable.GetAtomTitle('KRE_DEPO.cTWndTitle'))
.head 4 -  Call PrepareWindowEx(hWndForm)
.head 4 -  Call SalSetWindowLabelText(bgNLSA,  CurrentLangTable.GetAtomTitle('cTNLS'))
.head 4 -  Call SalSetWindowLabelText(bgNLSNA, CurrentLangTable.GetAtomTitle('cTNLSN'))
.head 4 -  Call SalSetWindowLabelText(tNLSB,   CurrentLangTable.GetAtomTitle('cTNLS'))
.head 4 -  Call SalSetWindowLabelText(tNLSNB,  CurrentLangTable.GetAtomTitle('cTNLSN'))
.head 4 -  Call SalSetWindowLabelText(bgPawn,  '')
.head 4 -  Set Mfo_300465 = '300465'
.head 4 -  ! == Разбор параметров
.head 4 -  Call F_Param()
.head 4 -  ! == Режим оплаты
.head 4 +  If nPayMode = 1
.head 5 -  Call SalHideWindow(pbPay)
.head 4 -  !
.head 4 +  If not bTELEX
.head 5 -  Call SalDisableWindow(pbCreateTELEX)
.head 4 +  If not bSWIFT
.head 5 -  Call SalDisableWindow(pbSWDetail)
.head 5 -  Call SalDisableWindow(pbFromSWT)
.head 5 -  Call SalDisableWindow(pbCreateSWT)
.head 5 -  Call SalDisableWindow(pbViewSWT)
.head 4 -  ! НБУ-на будущее
.head 4 +  ! If bNBUBANK 
.head 5 -  Set nBaseV = 840
.head 5 -  ! меняем расположение полей дат
.head 5 -  Call SalGetWindowLoc(colDatDV, nX1, nY1)
.head 5 -  Call SalGetWindowLoc(colDatEndDog, nX2, nY2)
.head 5 -  Call SalSetWindowLoc(colDatDV, nX2, nY2)
.head 5 -  Call SalSetWindowLoc(colDatEndDog, nX1, nY1)
.head 5 -  Call SalSetWindowLabelText(bgDatValDog, CurrentLangTable.GetAtomTitle('KRE_DEPO.bgDatEndDog'))
.head 5 -  Call SalSetWindowLabelText(bgDatEndDog, CurrentLangTable.GetAtomTitle('KRE_DEPO.bgDatValDog'))
.head 4 +  ! Else
.head 5 -  ! для КБ не показываем:
.head 5 -  ! Базовая цена
.head 5 -  Call SalHideWindow(dfBaseC)
.head 5 -  Call SalHideWindowAndLabel(bgBaseC)
.head 5 -  ! Базовая валюта
.head 5 -  Call SalHideWindow(cmbBaseV)
.head 5 -  ! Дата валютирования
.head 5 -  Call SalHideWindow(colDatDV)
.head 5 -  Call SalHideWindowAndLabel(bgDatValDog)
.head 5 -  ! Лимит коррахунку
.head 5 -  Call SalHideWindow(cbLimitB)
.head 5 -  ! Капитализация
.head 5 -  Call SalHideWindow(cbCapitalization)
.head 4 +  If not bNBUBANK
.head 5 -  ! Лимит коррахунку
.head 5 -  Call SalHideWindow(cbLimitB)
.head 4 -  Call SalHideWindow(dfBaseC)
.head 4 -  Call SalHideWindowAndLabel(bgBaseC)
.head 4 -  Call SalHideWindow(cmbBaseV)
.head 4 -  Call SalHideWindow(colDatDV)
.head 4 -  Call SalHideWindowAndLabel(bgDatValDog)
.head 4 -  Call SalHideWindow(cbCapitalization)
.head 4 -  Call SalHideWindow(dfSummaP_V)
.head 4 -  Call SalHideWindowAndLabel(bgSummaP_V)
.head 4 -  !
.head 4 -  Set cb_LOROB  = FALSE
.head 4 -  Set cb_LORONB = FALSE
.head 4 -  !
.head 4 -  Set n980      = GetBaseVal()
.head 4 -  Set NMKA      = GetBankName()
.head 4 -  Set OKPOA     = GetBankOkpoS() 
.head 4 -  Set MFOA      = GetBankMfo()
.head 4 -  Set RNKA      = GetOurRnk()
.head 4 -  Set BICA      = GetGlobalOption('BICCODE')
.head 4 -  Set KOD_BA    = GetGlobalOptionEx('1_PB')
.head 4 -  Set nVob_VZAL = GetGlobalOptionEx('MBK_VZAL')
.head 4 -  Set nIsp      = IifN(nIsp=0, GetUserId(), nIsp)
.head 4 -  Set rbRF      = TRUE
.head 4 -  Set rbRV      = FALSE
.head 4 -  Set sTTF      = 'KVF'
.head 4 -  If SqlPrepareAndExecute(hSql(), "SELECT mfou INTO :MFOU FROM banks WHERE mfo=:MFOA")
and not SqlFetchNext(hSql(), nFetchRes)
.head 4 +  If SqlPrepareAndExecute(hSql(), "SELECT val INTO :Norm7 FROM params WHERE par='NORM_H7'")
and not SqlFetchNext(hSql(), nFetchRes)
.head 5 -  Set sTmp = 'Власний Норматив "Н7 - Кредитний ризик на одного позичальника"'
.head 5 +  If SqlPrepareAndExecute(hSql(), "INSERT INTO PARAMS (PAR,VAL,COMM) VALUES ('NORM_H7', '25.00', :sTmp)")
.head 6 -  Call SqlCommit(hSql())
.head 5 +  Else
.head 6 -  Call SqlRollback(hSql())
.head 4 -  !
.head 4 -  Set sSqlPoisk=
"SELECT a.rnk, a.nmk, a.nmkk, b.mfo, b.bic, b.num_nd, a.okpo, b.kod_b, 
        nvl(a.lim,0)/100, rnk_ostb(a.rnk)/100,  nvl(a.lim,0)/100 - rnk_ostb(a.rnk)/100, b.dat_nd
   INTO :RNKB, :NMKB, :NMKKB, :MFOB, :BICB, :dfND, :OKPOB, :KOD_BB,
        :colLim, :colOstBQ, :colPLBQ, :datND
   FROM customer a, custbank b  
  WHERE a.date_off is null 
    and a.custtype = 1 
    and a.rnk = b.rnk
    and " || IifS(bParKR=TRUE, "a.codcagent=9 and b.mfo is not null and b.mfo <>'" || MFOA || "'", 
       "(a.codcagent=1 and b.mfo is not null and b.mfo <>'" || MFOA || "'
      or a.codcagent=2 and b.bic is not null)") || "
    and " || IifS(nParM=2, " b.mfo in (select mfo from banks where mfou=:MFOU) and ", "") 
.head 4 -  !
.head 4 -  Call SalDisableWindow(bVPS)
.head 4 -  Call SalDisableWindow(pbPasport)
.head 4 -  Call SalDisableWindow(pbPrcAcc)
.head 4 -  ! Call SalHideWindow(NLSB)
.head 4 -  ! Call SalHideWindow(NLSNB)
.head 4 -  !
.head 4 -  Call pbDisable()
.head 4 -  Call F_RATE()
.head 4 -  Call SetSwParty()
.head 4 -  Call f_Clear1()
.head 4 -  Call SalMapEnterToTab(TRUE)
.head 4 -  Call SalWaitCursor(FALSE)
.head 3 +  On SAM_Activate
.head 4 -  Call SalSendMsg(SalParentWindow(hWndForm), UM_MenuSelect, 0, 0)
.head 1 +  Form Window: frmDeal  !! Просмотр сделки
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Ввод сделок по МБД - МБК
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? Yes
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left:   1.975"
.head 4 -  Top:    0.906"
.head 4 -  Width:  13.367"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 7.5"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.738"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Contents
.head 4 +  ! ctb_pbCancel: pbCancel
.winattr class Pushbutton:
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbCancel
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   11.117"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.43"
.head 6 -  Width Editable? No
.head 6 -  Height: 0.317"
.head 6 -  Height Editable? No
.head 5 -  Visible? No
.head 5 -  Keyboard Accelerator: Esc
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\Discard.bmp
.head 5 -  Picture Transparent Color: Gray
.head 5 -  Image Style: Single
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.end
.head 5 +  Message Actions 
.head 6 +  On SAM_Click
.head 7 -  Call SalDestroyWindow(hWndForm)
.head 2 +  Contents
.head 3 +  Pushbutton: pbCancel
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: ctb_pbCancel
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   11.117"
.head 5 -  Top:    0.071"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Keyboard Accelerator: Esc
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: \BARS98\RESOURCE\BMP\Discard.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalDestroyWindow(hWndForm)
.head 3 +  Picture: pic1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.1"
.head 5 -  Top:    0.05"
.head 5 -  Width:  12.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.3"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  File Name:
.head 4 -  Storage: External
.head 4 -  Picture Transparent Color: None
.head 4 -  Fit: Scale
.head 4 -  Scaling
.head 5 -  Width:  100
.head 5 -  Height:  100
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Tile To Parent? No
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Face Color
.head 4 -  Message Actions
.head 3 -  Background Text: Вид договора
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 53917
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    0.1"
.head 5 -  Width:  1.65"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.2"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgVIDD
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Combo Box: cmb_VIDD
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65330000
.enddata
.data CLASSPROPSSIZE
0000: 1700
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cGenComboBox_NumId
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    0.3"
.head 5 -  Width:  5.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.667"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: 35
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Вид договора
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.bgVIDD'))
.head 5 +  ! On SAM_Create
.head 6 -  Call cmb_VIDD.Init(cmb_VIDD)
.head 6 -  Call cmb_VIDD.Populate(hSql(), "VIDD", "NAME", "CC_VIDD", " WHERE CUSTTYPE = 1 AND length(vidd)=4 ")
.head 6 -  Call cmb_VIDD.SetSelectById(nVidd)
.head 3 -  !
.head 3 -  Background Text: Валюта
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 53918
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    0.7"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.2"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgKV
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Combo Box: cmb_KV	! Валюта
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65330000
.enddata
.data CLASSPROPSSIZE
0000: 1700
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cGenComboBox_NumId
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left:   1.3"
.head 5 -  Top:    0.65"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 5.214"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: 35
.head 4 -  Sorted? No
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Валюта
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipKV'))
.head 3 -  !
.head 3 -  Background Text: Сумма
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 53919
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   3.0"
.head 5 -  Top:    0.7"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.2"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgSumma
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: colSumma
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 14
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   4.1"
.head 6 -  Top:    0.65"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.262"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Сумма
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.bgSumma'))
.head 3 -  !
.head 3 -  Background Text: N тикета/договора
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65330000
.enddata
.data CLASSPROPSSIZE
0000: 1700
.enddata
.head 4 -  Resource Id: 53921
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    1.4"
.head 5 -  Width:  1.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.202"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgCC_ID
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: CC_ID
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65330000
.enddata
.data CLASSPROPSSIZE
0000: 1700
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 20
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   0.2"
.head 6 -  Top:    1.6"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.26"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! N тикета
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.bgCC_ID'))
.head 3 -  !
.head 3 -  Background Text: Дата сделки
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 53922
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   2.15"
.head 5 -  Top:    1.4"
.head 5 -  Width:  1.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.202"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgDatWidKre
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: colDatDU		! Дата угоди (ДУ)
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 12
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.15"
.head 6 -  Top:    1.6"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.262"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Center
.head 5 -  Format: Date
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Начало
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.bgDatWidKre'))
.head 3 -  !
.head 3 -  Background Text: Завершение
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 53924
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   4.1"
.head 5 -  Top:    1.4"
.head 5 -  Width:  1.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.202"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgDatEndDog
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: colDatEndDog	! Дата закінчення (ДЗ)
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 12
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   4.1"
.head 6 -  Top:    1.6"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.262"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Center
.head 5 -  Format: Date
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Завершение
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.bgDatEndDog'))
.head 3 -  !
.head 3 -  ! Group Box: Rate ,  Base
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   5.85"
.head 5 -  Top:    0.119"
.head 5 -  Width:  5.567"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.583"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 +  Picture: pic6
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left:   6.2"
.head 5 -  Top:    0.05"
.head 5 -  Width:  6.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.3"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  File Name:
.head 4 -  Storage: External
.head 4 -  Picture Transparent Color: None
.head 4 -  Fit: Scale
.head 4 -  Scaling
.head 5 -  Width:  100
.head 5 -  Height:  100
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Tile To Parent? No
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Face Color
.head 4 -  Message Actions
.head 3 +  ! Radio Button: rbRF
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Fix
.head 4 -  Window Location and Size
.head 5 -  Left:   6.3"
.head 5 -  Top:    0.25"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Blue
.head 4 -  Background Color: Default
.end
.head 4 +  Message Actions 
.head 5 +  On SAM_Click
.head 6 -  Call F_RATE()
.head 3 +  ! Radio Button: rbRV
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Var
.head 4 -  Window Location and Size
.head 5 -  Left:   6.3"
.head 5 -  Top:    0.5"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Red
.head 4 -  Background Color: Default
.end
.head 4 +  Message Actions 
.head 5 +  On SAM_Click
.head 6 -  Call F_RATE()
.head 3 -  Background Text: % ставка
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 53925
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   6.3"
.head 5 -  Top:    0.4"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.202"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgProcStavka
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  0.0"
.head 6 -  Width Editable? No
.head 6 -  Height: 0.0"
.head 6 -  Height Editable? No
.head 5 -  Visible? No
.head 5 -  Border? No
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: 3D Face Color
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  ! cGenComboBox_NumId: cmb_RATE
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65330000
.enddata
.data CLASSPROPSSIZE
0000: 1700
.enddata
.winattr class Combo Box:
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cGenComboBox_NumId
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left:   7.95"
.head 5 -  Top:    0.345"
.head 5 -  Width:  4.15"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.512"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: 35
.head 4 -  Sorted? No
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Red
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.end
.head 4 -  List Initialization 
.head 4 +  Message Actions 
.head 5 +  On SAM_TooltipSetText
.head 6 -  Return XSalTooltipSetText(lParam, 'Rate')
.head 3 +  Data Field: colProcStavka
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   7.95"
.head 6 -  Top:    0.35"
.head 6 -  Width:  2.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.262"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! % ставка
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipProcStavka'))
.head 3 +  ! Data Field: nBR_ID
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   7.2"
.head 6 -  Top:    0.35"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.262"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.end
.head 4 -  Message Actions 
.head 3 -  Background Text: % база
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 53926
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   6.3"
.head 5 -  Top:    0.7"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.2"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgBasey
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  0.0"
.head 6 -  Width Editable? No
.head 6 -  Height: 0.0"
.head 6 -  Height Editable? No
.head 5 -  Visible? No
.head 5 -  Border? No
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: 3D Face Color
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Combo Box: cmb_Basey
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cGenComboBox_NumId
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left:   7.95"
.head 5 -  Top:    0.65"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.345"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! % база
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.bgBasey'))
.head 5 -  On SAM_Create
.head 3 -  Background Text: Сумма %%
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 53927
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   6.3"
.head 5 -  Top:    1.0"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.2"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgSummaP
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: colSummaP
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   7.95"
.head 6 -  Top:    0.95"
.head 6 -  Width:  2.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.262"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Сумма %%
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.bgSummaP'))
.head 3 -  !
.head 3 -  ! Синяя часть - А - сведения о нас
.head 3 -  Frame
.head 4 -  Resource Id: 53939
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.1"
.head 5 -  Top:    2.405"
.head 5 -  Width:  6.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 4.0"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Solid
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: NMKA
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 38
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   0.2"
.head 6 -  Top:    2.512"
.head 6 -  Width:  4.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.2"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? No
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Blue
.head 5 -  Background Color: 3D Face Color
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: RNKA
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   3.9"
.head 6 -  Top:    3.06"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Blue
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: OKPOA
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   0.2"
.head 6 -  Top:    3.06"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Blue
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: MFOA
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65330000
.enddata
.data CLASSPROPSSIZE
0000: 1700
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   0.2"
.head 6 -  Top:    2.762"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Blue
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: BICA
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 35
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   1.85"
.head 6 -  Top:    2.762"
.head 6 -  Width:  2.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Blue
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: KOD_BA
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 35
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   1.85"
.head 6 -  Top:    3.06"
.head 6 -  Width:  2.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Midnight Blue
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  Background Text: Основной
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 53933
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    3.357"
.head 5 -  Width:  2.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.179"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Dark Blue
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgNLSA
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: NLSA
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 15
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   0.2"
.head 6 -  Top:    3.56"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Blue
.head 5 -  Background Color: 3D Face Color
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  Background Text: Начисленных %
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Resource Id: 53934
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   2.883"
.head 5 -  Top:    3.357"
.head 5 -  Width:  2.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.179"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Dark Blue
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: bgNLSNA
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: NLSNA
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 15
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.9"
.head 6 -  Top:    3.56"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Blue
.head 5 -  Background Color: 3D Face Color
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  Background Text: Трасса платежа входящего (57-BIC, 58-Счет)
.head 4 -  Resource Id: 53935
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    4.155"
.head 5 -  Width:  5.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Dark Blue
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgBICKA
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: BICKA
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 15
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   0.2"
.head 6 -  Top:    4.357"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Blue
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! BIC нашего банка-корреспонд
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipBICKA'))
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 3 +  Data Field: SSLA
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.9"
.head 6 -  Top:    4.357"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Blue
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Счет VOSTRO у нашего банка-корреспонд
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipSSLA'))
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(TRUE)
.head 3 +  Combo Box: NBKA
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65330000
.enddata
.data CLASSPROPSSIZE
0000: 1700
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cGenComboBox_NumId
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    4.655"
.head 5 -  Width:  5.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: 35
.head 4 -  Sorted? No
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Dark Blue
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Наименование счета для входа валюты
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipNBKA'))
.head 3 +  Data Field: SSA
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 15
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.9"
.head 6 -  Top:    4.964"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Blue
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Счет для входа валюты
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipSSA'))
.head 3 -  !
.head 3 -  ! Красная часть - B - нашего контрагента
.head 3 +  Picture: pic3
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left:   6.2"
.head 5 -  Top:    2.405"
.head 5 -  Width:  6.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 4.0"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  File Name:
.head 4 -  Storage: External
.head 4 -  Picture Transparent Color: None
.head 4 -  Fit: Scale
.head 4 -  Scaling
.head 5 -  Width:  100
.head 5 -  Height:  100
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Tile To Parent? No
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Face Color
.head 4 -  Message Actions
.head 3 +  Data Field: NMKB
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 38
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   6.3"
.head 6 -  Top:    2.512"
.head 6 -  Width:  4.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.2"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? No
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: 3D Face Color
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: RNKB
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   10.0"
.head 6 -  Top:    3.06"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Рег.№ партнера
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipRNKB'))
.head 3 +  Data Field: OKPOB
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   6.3"
.head 6 -  Top:    3.06"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! ОКПО партнера
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipOKPOB'))
.head 3 +  Data Field: MFOB
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65330000
.enddata
.data CLASSPROPSSIZE
0000: 1700
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   6.3"
.head 6 -  Top:    2.762"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! МФО партнера
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipMFOB'))
.head 3 +  Data Field: BICB
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 35
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   7.95"
.head 6 -  Top:    2.762"
.head 6 -  Width:  2.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! BIC партнера
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipBICB'))
.head 3 +  Data Field: dfND
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 10
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   10.0"
.head 6 -  Top:    2.762"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! № ген.соглашения
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipND'))
.head 3 +  Data Field: KOD_BB
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 35
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   7.95"
.head 6 -  Top:    3.06"
.head 6 -  Width:  2.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Код 1-ПБ партнера
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipKOD_BB'))
.head 3 -  Background Text: Основной
.head 4 -  Resource Id: 53930
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   6.3"
.head 5 -  Top:    3.357"
.head 5 -  Width:  2.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.179"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Dark Red
.head 4 -  Background Color: Default
.head 3 +  Data Field: tNLSB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Check Box: cb_LOROB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cCheckBoxLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Внутрішній
.head 4 -  Window Location and Size
.head 5 -  Left:   6.3"
.head 5 -  Top:    3.56"
.head 5 -  Width:  2.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Dark Red
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Data Field: NLSB
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 15
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   6.3"
.head 6 -  Top:    3.857"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  Background Text: Начисленных %
.head 4 -  Resource Id: 53931
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   9.0"
.head 5 -  Top:    3.357"
.head 5 -  Width:  2.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.179"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Dark Red
.head 4 -  Background Color: Default
.head 3 +  Data Field: tNLSNB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Check Box: cb_LORONB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cCheckBoxLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Внутрішній
.head 4 -  Window Location and Size
.head 5 -  Left:   9.0"
.head 5 -  Top:    3.56"
.head 5 -  Width:  2.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Dark Red
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Data Field: NLSNB
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 15
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   9.0"
.head 6 -  Top:    3.857"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  Background Text: Трасса платежа исходящего (57-BIC, 58-Счет)
.head 4 -  Resource Id: 53932
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   6.3"
.head 5 -  Top:    4.155"
.head 5 -  Width:  5.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Dark Red
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgBICKB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: BICKB
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 15
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   6.3"
.head 6 -  Top:    4.357"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! BIC банка-корресп партнера
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipBICKB'))
.head 3 +  Data Field: SSLB
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   9.0"
.head 6 -  Top:    4.357"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Счет VOSTRO партнера у его банка-корресп
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipSSLB'))
.head 3 +  Data Field: NBKB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   6.3"
.head 6 -  Top:    4.655"
.head 6 -  Width:  5.3"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Multiline Field: df57A
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  String Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Border? Yes
.head 5 -  Word Wrap? Yes
.head 5 -  Vertical Scroll? No
.head 5 -  Window Location and Size
.head 6 -  Left:   6.3"
.head 6 -  Top:    4.964"
.head 6 -  Width:  5.3"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.35"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab(FALSE)
.head 3 -  !
.head 3 +  Data Field: sDB_1819
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 15
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.7"
.head 6 -  Top:    6.464"
.head 6 -  Width:  1.65"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Счет-транзит
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipDB_1819'))
.head 3 +  Data Field: nKv
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 3
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   1.85"
.head 6 -  Top:    6.464"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Center
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Вал.счета-транзита
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipKv'))
.head 3 +  Data Field: ost_DB_1819
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   4.4"
.head 6 -  Top:    6.464"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Decimal
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_TooltipSetText
.head 6 -  ! Остаток на счете-транзите
.head 6 -  Return XSalTooltipSetText(lParam, CurrentLangTable.GetAtomTitle('KRE_DEPO.cFTipOst_DB_1819'))
.head 2 +  Functions
.head 3 +  Function: NASELENIE
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nVidd
.head 5 -  String: sVidd
.head 5 -  Number: nTipd
.head 5 -  Number: nBasey
.head 5 -  ! Number: nKv
.head 5 -  String: sKv
.head 5 -  String: MFOKred
.head 5 -  String: MFOPerc
.head 5 -  Number: nDig
.head 5 -  String: sFormat
.head 5 -  String: sTmp
.head 4 +  Actions
.head 5 -  Call SalWaitCursor(TRUE)
.head 5 -  Call SqlPrepareAndExecute(hSql(),
"SELECT d.cc_id, d.vidd, d.vidd_name, d.tipd, d.date_u, d.date_end,
        d.s, d.int_amount, d.s_pr, d.basey, 
        d.a_nls, d.a_kv, t.lcv, d.b_nls, d.refp,
        d.acckred, d.accperc, d.mfokred, d.mfoperc, 
        d.rnk, d.nmk, d.okpo, d.mfo, d.bic, d.kod_b, d.num_nd,
        d.swi_bic, d.swi_acc, d.swo_bic, d.swo_acc, d.alt_partyb, t.dig
   INTO :CC_ID, :nVidd, :sVidd, :nTipd, :colDatDU, :colDatEndDog,
        :colSumma, :colSummaP, :colProcStavka, :nBasey, 
        :NLSA, :nKv, :sKv, :NLSNA, :SSA,
        :NLSB, :NLSNB, :MFOKred, :MFOPerc,
        :RNKB, :NMKB, :OKPOB, :MFOB, :BICB, :KOD_BB, :dfND,
        :BICKA, :SSLA, :BICKB, :SSLB, :df57A, :nDig
   FROM mbk_deal d, tabval t
  WHERE d.nd   = :nNd
    AND d.a_kv = t.kv " )
.head 5 -  Call SqlFetchNext(hSql(), nFetchRes) 
.head 5 -  Set cmb_VIDD = sVidd
.head 5 -  Set cmb_KV = sKv
.head 5 +  If nTipd = 1
.head 6 -  Set NLSNB = ''
.head 6 -  Call SalHideWindowAndLabel(tNLSNB)
.head 6 -  Call SalHideWindow(cb_LORONB)
.head 6 -  Call SalHideWindow(NLSNB)
.head 5 -  Set sFormat = '# ##0' || XSalGetDecimalSeparator() || SalStrRepeatX('0', nDig)
.head 5 -  Call SalFmtSetPicture(colSumma, sFormat)
.head 5 -  Call SalFmtSetPicture(colSummaP, sFormat)
.head 5 -  Call SalFmtSetPicture(ost_DB_1819, sFormat)
.head 5 -  Call SqlPrepareAndExecute(hSql(), "select name into :sTmp from basey where basey = :nBasey")
.head 5 -  Call SqlFetchNext(hSql(), nFetchRes) 
.head 5 -  Set cmb_Basey = sTmp
.head 5 +  If SSA
.head 6 -  Call SqlPrepareAndExecute(hSql(), "select nms into :sTmp from accounts where nls = :SSA and kv = :nKv")
.head 6 -  Call SqlFetchNext(hSql(), nFetchRes) 
.head 6 -  Set NBKA = sTmp
.head 5 +  If MFOKred = MFOA
.head 6 -  Set cb_LOROB = TRUE
.head 5 +  If MFOPerc = MFOA
.head 6 -  Set cb_LORONB = TRUE
.head 5 -  Call SqlPrepareAndExecute(hSql(), 
"SELECT a.nls, a.ostc/power(10,:nDig) INTO :sDB_1819, :ost_DB_1819
   FROM accounts a
  WHERE a.nls = :NLS_1819 and a.kv = :nKv")
.head 5 -  Call SqlFetchNext(hSql(), nFetchRes)
.head 5 -  Call SalWaitCursor(FALSE)
.head 2 +  Window Parameters
.head 3 -  Number: nNd
.head 3 -  String: NLS_1819
.head 2 +  Window Variables
.head 3 -  Window Handle: hWndObject
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  ! Присваиваем значения многоязыковым объектам
.head 4 -  Call SalSendMsgToChildren(hWndForm, UM_QueryLabelText, 0, 0)
.head 4 -  Call SalSetWindowText(hWndForm, AppVersion || CurrentLangTable.GetAtomTitle('frmDeal.cTWndTitle') || ' ' || Str(nNd))
.head 4 -  Call PrepareWindowEx(hWndForm)
.head 4 -  !
.head 4 -  Call SalSetWindowLabelText(bgVIDD, CurrentLangTable.GetAtomTitle('KRE_DEPO.bgVIDD'))
.head 4 -  Call SalSetWindowLabelText(bgKV, CurrentLangTable.GetAtomTitle('KRE_DEPO.bgKV'))
.head 4 -  Call SalSetWindowLabelText(bgSumma, CurrentLangTable.GetAtomTitle('KRE_DEPO.bgSumma'))
.head 4 -  Call SalSetWindowLabelText(bgCC_ID, CurrentLangTable.GetAtomTitle('KRE_DEPO.bgCC_ID'))
.head 4 -  Call SalSetWindowLabelText(bgDatWidKre, CurrentLangTable.GetAtomTitle('KRE_DEPO.bgDatWidKre'))
.head 4 -  Call SalSetWindowLabelText(bgDatEndDog, CurrentLangTable.GetAtomTitle('KRE_DEPO.bgDatEndDog'))
.head 4 -  Call SalSetWindowLabelText(bgProcStavka, CurrentLangTable.GetAtomTitle('KRE_DEPO.bgProcStavka'))
.head 4 -  Call SalSetWindowLabelText(bgBasey, CurrentLangTable.GetAtomTitle('KRE_DEPO.bgBasey'))
.head 4 -  Call SalSetWindowLabelText(bgSummaP, CurrentLangTable.GetAtomTitle('KRE_DEPO.bgSummaP'))
.head 4 -  Call SalSetWindowLabelText(bgBICKA, CurrentLangTable.GetAtomTitle('KRE_DEPO.bgBICKA'))
.head 4 -  Call SalSetWindowLabelText(bgBICKB, CurrentLangTable.GetAtomTitle('KRE_DEPO.bgBICKB'))
.head 4 -  Call SalSetWindowLabelText(bgNLSA, CurrentLangTable.GetAtomTitle('cTNLS'))
.head 4 -  Call SalSetWindowLabelText(bgNLSNA, CurrentLangTable.GetAtomTitle('cTNLSN'))
.head 4 -  Call SalSetWindowLabelText(tNLSB, CurrentLangTable.GetAtomTitle('cTNLS'))
.head 4 -  Call SalSetWindowLabelText(tNLSNB, CurrentLangTable.GetAtomTitle('cTNLSN'))
.head 4 -  !
.head 4 -  Set NMKA   = GetBankName()
.head 4 -  Set OKPOA  = GetBankOkpoS() 
.head 4 -  Set MFOA   = GetBankMfo()
.head 4 -  Set RNKA   = GetOurRnk()
.head 4 -  Set BICA   = GetGlobalOption('BICCODE')
.head 4 -  Set KOD_BA = GetGlobalOptionEx('1_PB')
.head 4 -  Call NASELENIE()
.head 4 -  Set hWndObject = SalGetFirstChild(hWndForm, TYPE_DataField | TYPE_MultilineText | TYPE_ComboBox | TYPE_CheckBox)
.head 4 +  While hWndObject != hWndNULL
.head 5 -  Call SalDisableWindow(hWndObject)
.head 5 -  Set hWndObject = SalGetNextChild(hWndObject, TYPE_DataField | TYPE_MultilineText | TYPE_ComboBox | TYPE_CheckBox)
.head 1 +  Table Window: RO1
.head 2 -  Class: cGenericTable
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Відомості про зміни в угоді
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Class Default
.head 2 -  Visible? Class Default
.head 2 -  Display Settings
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? Class Default
.head 3 -  Initial State: Class Default
.head 3 -  Maximizable? Class Default
.head 3 -  Minimizable? Class Default
.head 3 -  System Menu? Class Default
.head 3 -  Resizable? Class Default
.head 3 -  Window Location and Size
.head 4 -  Left:   0.55"
.head 4 -  Top:    0.458"
.head 4 -  Width:  13.767"
.head 4 -  Width Editable? Class Default
.head 4 -  Height: 6.333"
.head 4 -  Height Editable? Class Default
.head 3 -  Font Name: Class Default
.head 3 -  Font Size: Class Default
.head 3 -  Font Enhancement: Class Default
.head 3 -  Text Color: Class Default
.head 3 -  Background Color: Class Default
.head 3 -  View: Class Default
.head 3 -  Allow Row Sizing? Class Default
.head 3 -  Lines Per Row: Class Default
.head 2 -  Memory Settings
.head 3 -  Maximum Rows in Memory: Class Default
.head 3 -  Discardable? Class Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Class Default
.head 4 -  Location? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Size: 0.417"
.head 4 -  Size Editable? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 3 +  Contents
.head 4 +  Pushbutton: pbIns
.head 5 -  Class Child Ref Key: 33
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbDel
.head 5 -  Class Child Ref Key: 34
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   0.5"
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbRefresh
.head 5 -  Class Child Ref Key: 35
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   0.283"
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbUpdate
.head 5 -  Class Child Ref Key: 36
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 -  Line
.head 5 -  Resource Id: 3293
.head 5 -  Class Child Ref Key: 37
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Coordinates
.head 6 -  Begin X:  2.35"
.head 6 -  Begin Y:  0.024"
.head 6 -  End X:  2.35"
.head 6 -  End Y:  0.488"
.head 5 -  Visible? Class Default
.head 5 -  Line Style: Class Default
.head 5 -  Line Thickness: Class Default
.head 5 -  Line Color: Class Default
.head 4 +  Pushbutton: pbSearch
.head 5 -  Class Child Ref Key: 38
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   0.733"
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbFilter
.head 5 -  Class Child Ref Key: 44
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbDetails
.head 5 -  Class Child Ref Key: 39
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbPrint
.head 5 -  Class Child Ref Key: 40
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   1.183"
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 -  Line
.head 5 -  Resource Id: 3294
.head 5 -  Class Child Ref Key: 41
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Coordinates
.head 6 -  Begin X:  1.683"
.head 6 -  Begin Y:  0.024"
.head 6 -  End X:  1.683"
.head 6 -  End Y:  0.488"
.head 5 -  Visible? Class Default
.head 5 -  Line Style: Class Default
.head 5 -  Line Thickness: Class Default
.head 5 -  Line Color: Class Default
.head 4 +  Pushbutton: pbExit
.head 5 -  Class Child Ref Key: 42
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   1.817"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 -  Line
.head 5 -  Resource Id: 3295
.head 5 -  Class Child Ref Key: 43
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Coordinates
.head 6 -  Begin X:  Class Default
.head 6 -  Begin Y:  Class Default
.head 6 -  End X:  Class Default
.head 6 -  End Y:  Class Default
.head 5 -  Visible? No
.head 5 -  Line Style: Class Default
.head 5 -  Line Thickness: Class Default
.head 5 -  Line Color: Class Default
.head 4 +  Data Field: dND
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Number
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left:   2.433"
.head 7 -  Top:    0.083"
.head 7 -  Width:  1.133"
.head 7 -  Width Editable? Yes
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Yes
.head 6 -  Visible? Yes
.head 6 -  Border? Yes
.head 6 -  Justify: Left
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Font Name: Default
.head 6 -  Font Size: Default
.head 6 -  Font Enhancement: Default
.head 6 -  Text Color: Default
.head 6 -  Background Color: Default
.head 6 -  Input Mask: Unformatted
.head 5 +  Message Actions
.head 6 +  On SAM_TooltipSetText
.head 7 -  ! Return XSalTooltipSetText( lParam, 'внутрішній Реф.угоди' )
.head 7 -  Return XSalTooltipSetText( lParam, CurrentLangTable.GetAtomTitle('RO1.cFTipND') )
.head 4 +  Data Field: dNmk
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left:   3.633"
.head 7 -  Top:    0.083"
.head 7 -  Width:  3.717"
.head 7 -  Width Editable? Yes
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Yes
.head 6 -  Visible? Yes
.head 6 -  Border? Yes
.head 6 -  Justify: Left
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Font Name: Default
.head 6 -  Font Size: Default
.head 6 -  Font Enhancement: Default
.head 6 -  Text Color: Default
.head 6 -  Background Color: Default
.head 6 -  Input Mask: Unformatted
.head 5 +  Message Actions
.head 6 +  On SAM_TooltipSetText
.head 7 -  ! Return XSalTooltipSetText( lParam, 'Назва партнеру' )
.head 7 -  Return XSalTooltipSetText( lParam, CurrentLangTable.GetAtomTitle('RO1.cFTipNmk') )
.head 4 +  Data Field: dCC_ID
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left:   7.417"
.head 7 -  Top:    0.083"
.head 7 -  Width:  1.4"
.head 7 -  Width Editable? Yes
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Yes
.head 6 -  Visible? Yes
.head 6 -  Border? Yes
.head 6 -  Justify: Left
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Font Name: Default
.head 6 -  Font Size: Default
.head 6 -  Font Enhancement: Default
.head 6 -  Text Color: Default
.head 6 -  Background Color: Default
.head 6 -  Input Mask: Unformatted
.head 5 +  Message Actions
.head 6 +  On SAM_TooltipSetText
.head 7 -  ! Return XSalTooltipSetText( lParam, 'Номер угоди' )
.head 7 -  Return XSalTooltipSetText( lParam, CurrentLangTable.GetAtomTitle('RO1.cFTipCC_ID') )
.head 4 +  Data Field: DAT1
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Date/Time
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left:   8.883"
.head 7 -  Top:    0.083"
.head 7 -  Width:  1.4"
.head 7 -  Width Editable? Yes
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Yes
.head 6 -  Visible? Yes
.head 6 -  Border? Yes
.head 6 -  Justify: Center
.head 6 -  Format: Date
.head 6 -  Country: Default
.head 6 -  Font Name: Default
.head 6 -  Font Size: Default
.head 6 -  Font Enhancement: Default
.head 6 -  Text Color: Default
.head 6 -  Background Color: Default
.head 6 -  Input Mask: Unformatted
.head 5 +  Message Actions
.head 6 +  On SAM_TooltipSetText
.head 7 -  ! Return XSalTooltipSetText( lParam, 'Дата угоди' )
.head 7 -  Return XSalTooltipSetText( lParam, CurrentLangTable.GetAtomTitle('RO1.cFTipDAT1') )
.head 2 +  Contents
.head 3 +  Column: FDAT
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Дата 
змін
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Date/Time
.head 4 -  Justify: Center
.head 4 -  Width:  1.183"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Date
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: NPP
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: № 
п/п
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Right
.head 4 -  Width:  0.467"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: KV
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Вал
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Right
.head 4 -  Width:  0.533"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: NLS
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Осн.рахунок
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: String
.head 4 -  Justify: Left
.head 4 -  Width:  1.45"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: TXT
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Опис змін
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: 250
.head 4 -  Data Type: String
.head 4 -  Justify: Left
.head 4 -  Width:  9.3"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 2 -  Functions
.head 2 +  Window Parameters
.head 3 -  Number: ND
.head 3 -  String: sNmk
.head 3 -  String: CC_ID
.head 3 -  Date/Time: bDAT
.head 2 -  Window Variables
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  Call PrepareWindow( hWndForm )
.head 4 -  Call SetWindowFullSize(hWndForm)
.head 4 -  ! Присваиваем значения многоязыковым объектам
.head 4 -  Call SalSendMsgToChildren( hWndForm, UM_QueryLabelText, 0, 0 )
.head 4 -  Call SalSetWindowText( hWndForm, CurrentLangTable.GetAtomTitle('RO1.cTWndTitle') )
.head 4 -  Call SalTblSetLockedColumns(hWndForm,6)
.head 4 -  Set dND = ND
.head 4 -  Set dNmk = sNmk
.head 4 -  Set dCC_ID=CC_ID
.head 4 -  Set DAT1=bDAT
.head 4 -  ! Set RO1.nTabInstance = 1
.head 4 -  Set RO1.strPrintFileName = 'MBK_PROL'
.head 4 -  Set RO1.strSqlPopulate = 
"SELECT p.fdat, p.npp, Substr(p.txt,1,250),a.kv, a.nls
 INTO :RO1.FDAT, :RO1.NPP, :RO1.TXT, :RO1.KV, :RO1.NLS
 FROM cc_prol p, accounts a
 WHERE p.nd=:RO1.ND and p.acc=a.acc
 ORDER BY p.fdat, p.npp "  
.head 4 -  Call SalSendClassMessage(UM_Create, 0, 0)
.head 3 +  On UM_Populate
.head 4 -  Call SalSendClassMessage(UM_Populate, 0, 0)
.head 4 -  Call VisTblAutoSizeColumn( hWndForm, hWndNULL )
.head 1 +  Table Window: BANKI
.head 2 -  Class: cGenericTable
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: БАНКИ-контрагенты
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Class Default
.head 2 -  Visible? Class Default
.head 2 -  Display Settings
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? Class Default
.head 3 -  Initial State: Class Default
.head 3 -  Maximizable? Class Default
.head 3 -  Minimizable? Class Default
.head 3 -  System Menu? Class Default
.head 3 -  Resizable? Class Default
.head 3 -  Window Location and Size
.head 4 -  Left:   0.0"
.head 4 -  Top:    0.073"
.head 4 -  Width:  13.533"
.head 4 -  Width Editable? Class Default
.head 4 -  Height: 5.845"
.head 4 -  Height Editable? Class Default
.head 3 -  Font Name: Class Default
.head 3 -  Font Size: Class Default
.head 3 -  Font Enhancement: Class Default
.head 3 -  Text Color: Class Default
.head 3 -  Background Color: Class Default
.head 3 -  View: Class Default
.head 3 -  Allow Row Sizing? Class Default
.head 3 -  Lines Per Row: Class Default
.head 2 -  Memory Settings
.head 3 -  Maximum Rows in Memory: 20000
.head 3 -  Discardable? Class Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Class Default
.head 4 -  Location? Top
.head 4 -  Visible? Class Default
.head 4 -  Size: 0.452"
.head 4 -  Size Editable? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 3 +  Contents
.head 4 +  Pushbutton: pbIns
.head 5 -  Class Child Ref Key: 33
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   0.283"
.head 6 -  Top:    0.155"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbDel
.head 5 -  Class Child Ref Key: 34
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   0.883"
.head 6 -  Top:    0.155"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbRefresh
.head 5 -  Class Child Ref Key: 35
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   0.117"
.head 6 -  Top:    0.083"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbUpdate
.head 5 -  Class Child Ref Key: 36
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   3.343"
.head 6 -  Top:    0.083"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 -  Line
.head 5 -  Resource Id: 16771
.head 5 -  Class Child Ref Key: 37
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Coordinates
.head 6 -  Begin X:  Class Default
.head 6 -  Begin Y:  Class Default
.head 6 -  End X:  Class Default
.head 6 -  End Y:  Class Default
.head 5 -  Visible? No
.head 5 -  Line Style: Class Default
.head 5 -  Line Thickness: Class Default
.head 5 -  Line Color: Class Default
.head 4 +  Pushbutton: pbSearch
.head 5 -  Class Child Ref Key: 38
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   1.0"
.head 6 -  Top:    0.083"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbDetails
.head 5 -  Class Child Ref Key: 39
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   2.9"
.head 6 -  Top:    0.083"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Паспорт клиента-контрагента
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('cBTipPasport')
.head 6 +  On SAM_Click
.head 7 +  If not SalIsNull(RNK)
.head 8 -  Call EditCustBanks(RNK, CVIEW_ReadOnly | CVIEW_Accounts | AVIEW_ReadOnly, hWndMDI)
.head 4 +  Pushbutton: pbPrint
.head 5 -  Class Child Ref Key: 40
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   0.557"
.head 6 -  Top:    0.083"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 -  Line
.head 5 -  Resource Id: 16772
.head 5 -  Class Child Ref Key: 41
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Coordinates
.head 6 -  Begin X:  Class Default
.head 6 -  Begin Y:  Class Default
.head 6 -  End X:  4.083"
.head 6 -  End Y:  0.488"
.head 5 -  Visible? No
.head 5 -  Line Style: Class Default
.head 5 -  Line Thickness: Class Default
.head 5 -  Line Color: Class Default
.head 4 +  Pushbutton: pbExit
.head 5 -  Class Child Ref Key: 42
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   4.357"
.head 6 -  Top:    0.083"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 -  Line
.head 5 -  Resource Id: 16773
.head 5 -  Class Child Ref Key: 43
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Coordinates
.head 6 -  Begin X:  Class Default
.head 6 -  Begin Y:  Class Default
.head 6 -  End X:  Class Default
.head 6 -  End Y:  Class Default
.head 5 -  Visible? No
.head 5 -  Line Style: Class Default
.head 5 -  Line Thickness: Class Default
.head 5 -  Line Color: Class Default
.head 4 +  Pushbutton: pbPrcAcc
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbSwitch
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   2.457"
.head 6 -  Top:    0.083"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Открытые счета клиента
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('cBTipPrcAcc')
.head 6 +  On SAM_Click
.head 7 +  If not SalIsNull(RNK)
.head 8 -  Call ShowCustAccountsEx(RNK)
.head 4 +  Pushbutton: pbFilter
.head 5 -  Class Child Ref Key: 44
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   1.443"
.head 6 -  Top:    0.083"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Yes
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 2 +  Contents
.head 3 +  Column: ND 
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: №
ГЕН.
соглашения
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: String
.head 4 -  Justify: Left
.head 4 -  Width:  1.117"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: DAT_ND
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Дата
ГЕН.
соглашения
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Date/Time
.head 4 -  Justify: Center
.head 4 -  Width:  1.117"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Date
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: RNK
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Рег №

.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Right
.head 4 -  Width:  0.667"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: OKPO
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: ОКПО
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: String
.head 4 -  Justify: Right
.head 4 -  Width:  0.883"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If not SalIsNull(OKPO)
.head 7 +  If SalStrLength(OKPO) = 8 and OKPO != V_Okpo(OKPO)
.head 8 -  ! ОШ. ОКПО!
.head 8 -  ! Set NB = CurrentLangTable.GetAtomTitle('cTOKPO')
.head 8 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('cTOKPO'), CurrentLangTable.GetAtomTitle('cTErr'), MB_IconExclamation | MB_Ok)
.head 8 -  Set OKPO = ''
.head 8 -  ! Return VALIDATE_Cancel
.head 6 -  Return VALIDATE_Ok
.head 3 +  Column: NMK
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Наименование
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: String
.head 4 -  Justify: Left
.head 4 -  Width:  3.033"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: MFO
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: МФО
 
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Left
.head 4 -  Width:  0.833"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If not SalIsNull(MFO)
.head 7 +  If SqlPrepareAndExecute(hSqlAux(), T("SELECT nb INTO :NB FROM banks WHERE mfo=:MFO"))
.head 8 +  If not SqlFetchNext(hSqlAux(), nI)
.head 9 -  ! ОШ. МФО!
.head 9 -  ! Set NB = CurrentLangTable.GetAtomTitle('cTMFO')
.head 9 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('cTMFO'), CurrentLangTable.GetAtomTitle('cTErr'), MB_IconExclamation | MB_Ok)
.head 9 -  Set MFO = NUMBER_Null
.head 9 -  ! Return VALIDATE_Cancel
.head 6 -  Return VALIDATE_Ok
.head 3 +  Column: NB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Наименование
банка по S_UCH
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: String
.head 4 -  Justify: Left
.head 4 -  Width:  1.883"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: BIC
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: BIC-код
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: String
.head 4 -  Justify: Left
.head 4 -  Width:  1.25"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If not SalIsNull(BIC)
.head 7 +  If SqlPrepareAndExecute(hSqlAux(), "SELECT name FROM sw_banks WHERE bic=:BIC")
.head 8 +  If not SqlFetchNext(hSqlAux(), nI)
.head 9 -  ! ОШ. BIC!
.head 9 -  ! Set NB = CurrentLangTable.GetAtomTitle('cTBIC')
.head 9 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('cTBIC'), CurrentLangTable.GetAtomTitle('cTErr'), MB_IconExclamation | MB_Ok)
.head 9 -  Set BIC = ''
.head 9 -  ! Return VALIDATE_Cancel
.head 6 -  Return VALIDATE_Ok
.head 3 +  Column: KOD_B
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: 1_ПБ
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Right
.head 4 -  Width:  0.55"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: LIM
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Лимит
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Right
.head 4 -  Width:  1.417"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Decimal
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: NMKK
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Наименование
краткое
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: String
.head 4 -  Justify: Left
.head 4 -  Width:  0.883"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: BKI
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Ознака
передачі
ПВБКІ
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Class Default
.head 4 -  Width:  1.2"
.head 4 -  Width Editable? Class Default
.head 4 -  Format: Class Default
.head 4 -  Country: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  Cell Options
.head 5 -  Cell Type? Check Box
.head 5 -  Multiline Cell? Class Default
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Class Default
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Auto Drop Down? Class Default
.head 6 -  Allow Text Editing? Class Default
.head 5 -  Cell CheckBox
.head 6 -  Check Value: 1
.head 6 -  Uncheck Value: 0
.head 6 -  Ignore Case? Class Default
.head 4 -  List Values
.head 4 -  Message Actions
.head 2 -  Functions
.head 2 +  Window Parameters
.head 3 -  Number: nParRez		! Резидентность: 1-резидент, 2-НЕрезидент
.head 3 -  Number: nParEdit	! Редактируемость: 0-просмотр, 1-редактирование
.head 2 +  Window Variables
.head 3 -  Window Handle: hWndObject
.head 3 -  String: sOKPO
.head 3 -  String: sMFO
.head 3 -  Number: nI
.head 3 -  Number: nLim
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  Call SetWindowFont(hWndForm)
.head 4 -  ! Присваиваем значения многоязыковым объектам
.head 4 -  Call SalSendMsgToChildren(hWndForm, UM_QueryLabelText, 0, 0)
.head 4 -  ! Контрагенты HE/резиденты
.head 4 -  Call SalSetWindowText(hWndForm, IifS(nParRez=2,
     CurrentLangTable.GetAtomTitle('BANKI.cTTitle1'),
     CurrentLangTable.GetAtomTitle('BANKI.cTTitle2')))
.head 4 -  Call PrepareWindowEx(hWndForm)
.head 4 -  Set sOKPO = GetBankOkpoS()
.head 4 -  Set sMFO  = GetBankMfo()
.head 4 +  If nParEdit = 0
.head 5 -  Set hWndForm.BANKI.nFlags = GT_ReadOnly
.head 5 -  Set hWndObject = SalGetFirstChild(hWndForm, TYPE_TableColumn)
.head 5 +  While hWndObject != hWndNULL
.head 6 -  Call SalDisableWindow(hWndObject)
.head 6 -  Set hWndObject = SalGetNextChild(hWndObject, TYPE_TableColumn)
.head 4 -  Set hWndForm.BANKI.fFilterAtStart = TRUE
.head 4 -  Set hWndForm.BANKI.strFilterTblName = 'CUSTOMER'
.head 4 -  Set hWndForm.BANKI.strPrintFileName = 'BANKI_'||Str(nParRez)
.head 4 +  If nParRez = 1
.head 5 -  Set hWndForm.BANKI.strSqlPopulate =
"SELECT CUSTOMER.rnk, CUSTOMER.nmk, CUSTOMER.nmkk, u.mfo, u.bic, u.num_nd, 
        CUSTOMER.okpo, u.kod_b, CUSTOMER.lim/100, u.dat_nd, b.nb, u.bki
   INTO :BANKI.RNK, :BANKI.NMK, :BANKI.NMKK, :BANKI.MFO, :BANKI.BIC, :BANKI.ND, 
        :BANKI.OKPO,:BANKI.KOD_B, :BANKI.LIM, :BANKI.DAT_ND, :BANKI.NB, :BANKI.BKI
   FROM customer CUSTOMER, custbank u, banks b 
  WHERE CUSTOMER.DATE_OFF is null and CUSTOMER.rnk=u.rnk AND CUSTOMER.codcagent=1 
    AND CUSTOMER.okpo <> " || sOKPO || "
    and u.mfo <> '" || sMFO || "'
    and u.mfo = b.mfo
  ORDER BY u.mfo,CUSTOMER.rnk"
.head 4 +  Else
.head 5 -  Set hWndForm.BANKI.strSqlPopulate =
"SELECT CUSTOMER.rnk, CUSTOMER.nmk, CUSTOMER.nmkk, u.bic, u.num_nd,
        CUSTOMER.okpo, CUSTOMER.lim/100, u.dat_nd, u.bki
   INTO :BANKI.RNK, :BANKI.NMK, :BANKI.NMKK, :BANKI.BIC, :BANKI.ND, 
        :BANKI.OKPO, :BANKI.LIM, :BANKI.DAT_ND, :BANKI.BKI
   FROM customer CUSTOMER, custbank u
  WHERE CUSTOMER.DATE_OFF is null and CUSTOMER.rnk=u.rnk AND CUSTOMER.codcagent=2
    and u.bic is not null
  ORDER BY CUSTOMER.rnk"
.head 5 -  Call SalHideWindow(KOD_B)
.head 5 -  Call SalHideWindow(MFO)
.head 5 -  Call SalHideWindow(NB)
.head 4 +  If Val(GetValueStr("select count(*) from all_tables where table_name='CIG_CUSTOMERS'")) = 0
.head 5 -  Call SalHideWindow(BKI)
.head 4 -  Call SalMapEnterToTab(TRUE)
.head 4 -  Call SalSendClassMessage(SAM_Create, 0, 0)
.head 3 +  On UM_Populate
.head 4 -  Call SalSendClassMessage(UM_Populate, 0, 0)
.head 4 -  Call VisTblAutoSizeColumn(hWndForm, hWndNULL)
.head 3 +  ! On SAM_FetchRowDone
.head 4 +  If nParRez = 1
.head 5 +  If not SalIsNull(MFO)
.head 6 -  Set NB = GetValueStr("SELECT nb FROM banks WHERE mfo=" || Str(MFO))
.head 3 +  On UM_Update
.head 4 -  Set nI = TBL_MinRow
.head 4 +  While SalTblFindNextRow(hWndForm, nI, ROW_Edited, 0)
.head 5 -  Call SalTblSetContext(hWndForm, nI)
.head 5 -  Set nLim = BANKI.LIM*100
.head 5 -  ! custbank
.head 5 +  If SqlPrepareAndExecute(hSql(),
"UPDATE custbank
    SET mfo    = :BANKI.MFO,
        bic    = :BANKI.BIC,
        kod_b  = :BANKI.KOD_B,
        num_nd = :BANKI.ND,
        dat_nd = :BANKI.DAT_ND,
        bki    = :BANKI.BKI
  WHERE rnk = :BANKI.RNK")
.head 6 -  ! customer
.head 6 +  If SqlPrepareAndExecute(hSql(),
"UPDATE customer
    SET okpo = :BANKI.OKPO,
        nmkk = :BANKI.NMKK,
        lim  = :nLim
  WHERE rnk = :BANKI.RNK")
.head 7 -  Call SqlCommit(hSql())
.head 6 +  Else
.head 7 -  Call SqlRollback(hSql())
.head 5 +  Else
.head 6 -  Call SqlRollback(hSql())
.head 4 -  Call SalSendMsg(pbRefresh, SAM_Click, 0, 0)
.head 1 +  Table Window: NETTO
.head 2 -  Class: cGenericTable
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Позиция по МБ Кредиту-Депозиту
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Class Default
.head 2 -  Visible? Class Default
.head 2 -  Display Settings
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? Class Default
.head 3 -  Initial State: Class Default
.head 3 -  Maximizable? Class Default
.head 3 -  Minimizable? Class Default
.head 3 -  System Menu? Class Default
.head 3 -  Resizable? Class Default
.head 3 -  Window Location and Size
.head 4 -  Left:   0.313"
.head 4 -  Top:    1.594"
.head 4 -  Width:  17.0"
.head 4 -  Width Editable? Class Default
.head 4 -  Height: 6.452"
.head 4 -  Height Editable? Class Default
.head 3 -  Font Name: Class Default
.head 3 -  Font Size: Class Default
.head 3 -  Font Enhancement: Class Default
.head 3 -  Text Color: Class Default
.head 3 -  Background Color: Class Default
.head 3 -  View: Class Default
.head 3 -  Allow Row Sizing? Class Default
.head 3 -  Lines Per Row: Class Default
.head 2 -  Memory Settings
.head 3 -  Maximum Rows in Memory: 20000
.head 3 -  Discardable? Class Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Class Default
.head 4 -  Location? Top
.head 4 -  Visible? Class Default
.head 4 -  Size: 0.81"
.head 4 -  Size Editable? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 3 +  Contents
.head 4 +  Pushbutton: pb_Rez1
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbGetValue
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   0.083"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\Custbank.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Партнеры-Резиденты
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('cBTipRez')
.head 6 +  On SAM_Click
.head 7 -  Call Sel008p(hWndMDI, 1, nParEdit)
.head 4 +  Pushbutton: pb_NRez1
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbGetValue
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   0.533"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\Custcorp.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Партнеры-НеРезиденты
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('cBTipNRez')
.head 6 +  On SAM_Click
.head 7 -  Call Sel008p(hWndMDI, 2, nParEdit)
.head 4 +  Pushbutton: pb_Arch
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbGetValue
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   0.967"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\Sort.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Архив всех сделок
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('cBTipArch')
.head 6 +  On SAM_Click
.head 7 +  If not IsWindow(hARC)
.head 8 -  Set hARC = SalCreateWindow(ARC, hWndMDI, 1000+100*nParV+10*(nParT+1)+nParM, nParEdit, sDB_1819, sWhere)
.head 7 +  Else
.head 8 -  Call SalBringWindowToTop(ARC)
.head 4 -  Line
.head 5 -  Resource Id: 16774
.head 5 -  Class Child Ref Key: 37
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Coordinates
.head 6 -  Begin X:  1.5"
.head 6 -  Begin Y:  -0.19"
.head 6 -  End X:  1.5"
.head 6 -  End Y:  0.393"
.head 5 -  Visible? Class Default
.head 5 -  Line Style: Class Default
.head 5 -  Line Thickness: Class Default
.head 5 -  Line Color: Class Default
.head 4 +  Pushbutton: pbIns
.head 5 -  Class Child Ref Key: 33
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   0.283"
.head 6 -  Top:    0.155"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbSearch
.head 5 -  Class Child Ref Key: 38
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   1.583"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbFilter
.head 5 -  Class Child Ref Key: 44
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   2.033"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbRefresh
.head 5 -  Class Child Ref Key: 35
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   2.467"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbPrint
.head 5 -  Class Child Ref Key: 40
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   2.917"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbPrintDeal
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbPrint
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   3.367"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\DOCS.BMP
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Печать договора
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('NETTO.cBTipPrintDeal')
.head 6 +  On SAM_Click
.head 7 +  If SalTblAnyRows(hWndForm, ROW_Selected, 0)
.head 8 -  Call PrintDeal(ND)
.head 4 -  Line
.head 5 -  Resource Id: 16775
.head 5 -  Class Child Ref Key: 41
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Coordinates
.head 6 -  Begin X:  3.867"
.head 6 -  Begin Y:  -0.19"
.head 6 -  End X:  3.867"
.head 6 -  End Y:  0.393"
.head 5 -  Visible? Class Default
.head 5 -  Line Style: Class Default
.head 5 -  Line Thickness: Class Default
.head 5 -  Line Color: Class Default
.head 4 +  Pushbutton: pbPasport
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbGetValue
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   3.967"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Паспорт клиента-контрагента
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('cBTipPasport')
.head 6 +  On SAM_Click
.head 7 +  If SalTblAnyRows(hWndForm, ROW_Selected, 0)
.head 8 -  Call EditCustBanks(RNKK, CVIEW_ReadOnly | CVIEW_Accounts | AVIEW_ReadOnly, hWndMDI)
.head 4 +  Pushbutton: pbPrcAcc
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbGetValue
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   4.4"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\Switch.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Открытые счета контрагента
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('cBTipPrcAcc')
.head 6 +  On SAM_Click
.head 7 +  If SalTblAnyRows(hWndForm, ROW_Selected, 0)
.head 8 -  Call ShowAccList(RNKK, AVIEW_CUST, AVIEW_ExistOnly | AVIEW_Financial | AVIEW_ReadOnly, '')
.head 4 +  Pushbutton: pbDetails
.head 5 -  Class Child Ref Key: 39
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   4.833"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Yes
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Счета по ОДНОМУ договору
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('NETTO.cBTipDetails')
.head 6 +  On SAM_Click
.head 7 +  If SalTblAnyRows(hWndForm, ROW_Selected, 0)
.head 8 -  Call ShowAccList(RNKK, AVIEW_CUST, 
     IifN(nParEdit=0, AVIEW_ExistOnly | AVIEW_Financial | AVIEW_ReadOnly, 
                      AVIEW_ExistOnly | AVIEW_Financial), 
     "a.acc in (select acc from nd_acc where nd=" || Str(NETTO.ND) || ")")
.head 4 -  Line
.head 5 -  Resource Id: 16776
.head 5 -  Class Child Ref Key: 43
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Coordinates
.head 6 -  Begin X:  5.367"
.head 6 -  Begin Y:  -0.19"
.head 6 -  End X:  5.367"
.head 6 -  End Y:  0.393"
.head 5 -  Visible? Class Default
.head 5 -  Line Style: Class Default
.head 5 -  Line Thickness: Class Default
.head 5 -  Line Color: Class Default
.head 4 -  !
.head 4 +  Pushbutton: pbPay
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbSwitch
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   5.433"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\A_fins.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Сформировать платежи по ОДНОМУ договору
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('NETTO.cBTipPay')
.head 6 +  On SAM_Click
.head 7 +  If SalTblAnyRows(hWndForm, ROW_Selected, 0)
.head 8 -  Call SalModalDialog(Dlg_Plat, hWndForm, NETTO.ND, sDB_1819) 
.head 4 +  Pushbutton: pbDel
.head 5 -  Class Child Ref Key: 34
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   5.867"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Yes
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Изъятие сделки-ПУСТЫШКИ из портфеля
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('NETTO.cBTipDel')
.head 6 +  On SAM_Click
.head 7 +  If SalTblAnyRows(hWndForm, ROW_Selected, 0)
.head 8 +  If SqlPrepareAndExecute(hSql(),"SELECT ND FROM mbd_k_r WHERE nd=:ND and ref in (select ref from oper where sos>0)")
and SqlFetchNext(hSql(), nFetchRes)
.head 9 -  ! Сформированы проводки ! Изъятие невозможно !
.head 9 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('NETTO.cTMessProv'),
     CurrentLangTable.GetAtomTitle('cTAt'), MB_IconStop)
.head 8 +  Else
.head 9 -  ! Вы уверены, что хотите ИЗЪЯТЬ сделку ND ?
.head 9 +  If SalMessageBox(CurrentLangTable.GetAtomTitle('NETTO.cTMessDel1') || ' ' || Str(ND) || ' ?',
   CurrentLangTable.GetAtomTitle('cTAt'), MB_IconQuestion | MB_YesNo | MB_DefButton1) = IDYES
.head 10 +  If SqlPLSQLCommand(hSql(),"BARS.MBK.del_deal (ND )" )
.head 11 -  ! Изъята сдека МБ из ПОРТФЕЛЯ NETTO.ND
.head 11 +  If SqlCommitEx(hSql(), AppCode || CurrentLangTable.GetAtomTitle('NETTO.cTMessDel2')||" "||Str(NETTO.ND))
.head 12 -  Set nRow = TBL_MinRow
.head 12 -  Call SalTblFindNextRow( hWndForm, nRow, ROW_Selected, 0 ) 
.head 12 -  Call SalTblSetFocusRow( hWndForm, nRow )
.head 12 -  Call XSalTblSetRowBackColor( hWndForm, nRow, COLOR_Salmon )
.head 10 +  Else
.head 11 -  Call SqlRollbackEx(hSql(), AppCode || CurrentLangTable.GetAtomTitle('NETTO.cTErrProc') || ' MBK.del_deal')
.head 11 -  ! Ошибка при выполнении процедуры !
.head 11 -  Call MessageNoWait(CurrentLangTable.GetAtomTitle('NETTO.cTErrProc'), 'MBK.del_deal', 30, 1)
.head 4 +  Pushbutton: pbDelRO
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbBrowse
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   6.3"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\BACK.BMP
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Откат СЕГОДНЯШНЕЙ сделки RollOver
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('NETTO.cBTipDelRO')
.head 6 +  On SAM_Click
.head 7 +  If SalTblAnyRows(hWndForm, ROW_Selected, 0)    
.head 8 -  ! Вы уверены, что хотите вернуть сделку RollOver ND ?
.head 8 +  If SalMessageBox(CurrentLangTable.GetAtomTitle('NETTO.cTMessDelRO') || ' ' || Str(ND) || ' ?',
   CurrentLangTable.GetAtomTitle('cTAt'), MB_IconQuestion | MB_YesNo | MB_DefButton1) = IDYES
.head 9 -  Set bDelRoDeal = TRUE
.head 9 -  ! Проверка на межбанковские платежи
.head 9 +  If SqlPrepareAndExecute(hSql(), "SELECT rec FROM arc_rrp WHERE ref in (select ref from mbd_k_r where nd=:ND) ") 
and SqlFetchNext(hSql(),nFetchRes) 
.head 10 -  Set bDelRoDeal = FALSE
.head 10 -  ! По договору ND сформированы межбанковские платежи. Невозможно откатить сделку RollOver!
.head 10 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('NETTO.cTMessDelRO1') || " " || Str(ND) || " " || 
     CurrentLangTable.GetAtomTitle('NETTO.cTMessDelRO4') || PutCrLf()|| 
     CurrentLangTable.GetAtomTitle('NETTO.cTMessDelRONo'), 
     CurrentLangTable.GetAtomTitle('cTAt'), MB_IconExclamation | MB_Ok)
.head 9 -  ! Проверка на сформированные докумкенты по договору
.head 9 +  Else If SqlPrepareAndExecute(hSql(), "SELECT ND FROM mbd_k_r WHERE nd=:ND")
and SqlFetchNext(hSql(), nFetchRes)
.head 10 -  ! По договору ND сформированы проводки! Вернуть проводки и продолжить откат сделки RollOver?
.head 10 +  If SalMessageBox(CurrentLangTable.GetAtomTitle('NETTO.cTMessDelRO1') || " " || Str(ND) || " " || 
   CurrentLangTable.GetAtomTitle('NETTO.cTMessDelRO2') || PutCrLf() || 
   CurrentLangTable.GetAtomTitle('NETTO.cTMessDelRO3'),
   CurrentLangTable.GetAtomTitle('cTAt'), MB_YesNo | MB_IconExclamation) = IDNO
.head 11 -  Set bDelRoDeal = FALSE
.head 9 -  ! Выполнение процедуры возврата сделки RollOver
.head 9 +  If bDelRoDeal
.head 10 +  If SqlPLSQLCommand(hSql(),"BARS.MBK.del_Ro_deal (ND )" )
.head 11 -  ! Изъята сдека МБ из ПОРТФЕЛЯ NETTO.ND
.head 11 -  Call SqlCommitEx(hSql(), AppCode || CurrentLangTable.GetAtomTitle('NETTO.cTMessDel2') || " " || Str(NETTO.ND))
.head 11 -  ! Успешно изъяли сделку RollOver ND
.head 11 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('NETTO.cTMessDelROOk') || " " || Str(ND),
     CurrentLangTable.GetAtomTitle('cTInfo'), MB_IconInformation | MB_Ok)
.head 11 -  Call SalSendMsg(hWndForm, UM_Populate, 0, 0)
.head 10 +  Else
.head 11 -  Call SqlRollbackEx(hSql(), AppCode || CurrentLangTable.GetAtomTitle('NETTO.cTErrProc') || ' MBK.del_Ro_deal')
.head 11 -  Call MessageNoWait(CurrentLangTable.GetAtomTitle('NETTO.cTErrProc'), 'MBK.del_Ro_deal', 30, 1)
.head 4 +  Pushbutton: pbRoll
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbGetValue
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   6.733"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\Relation.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Пролонгация. Изменить параметры сделки
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('NETTO.cBTipRoll')
.head 6 +  On SAM_Click
.head 7 +  If not IsWindow(hRO)
.head 8 -  Set hRO = SalCreateWindow(RO, hWndMDI, ND, sDB_1819, sWhere)
.head 7 +  Else
.head 8 -  Call SalBringWindowToTop(hRO)
.head 4 +  Pushbutton: pb_ProL
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbRelation
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   7.167"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\Arr1tor.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Light Green
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Відомості про зміни в угоді
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('cBTipProL')
.head 6 +  On SAM_Click
.head 7 +  If not IsWindow(hWinP)
.head 8 -  Set hWinP = SalCreateWindow(RO1, hWndMDI, ND, NMK, CC_ID, DAT)
.head 7 +  Else
.head 8 -  Call SalBringWindowToTop(hWinP)
.head 4 +  Pushbutton: pb_Buch
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbBrowse
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   7.6"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.43"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.317"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Font Name: MS Sans Serif
.head 5 -  Font Size: 8
.head 5 -  Font Enhancement: Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\Look.bmp
.head 5 -  Picture Transparent Color: Gray
.head 5 -  Image Style: Single
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Просмотр Бух.модели сделки
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('cBTipBuch')
.head 6 +  On SAM_Click
.head 7 -  Call Sel008f(hWndMDI,13, ND, '0' ,'0')
.head 4 +  Pushbutton: pbUpdate
.head 5 -  Class Child Ref Key: 36
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   8.033"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Yes
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\Save.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Коррекция № тикета
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('NETTO.cBTipUpdate')
.head 6 +  On SAM_Click
.head 7 -  Set nI = TBL_MinRow
.head 7 +  While SalTblFindNextRow(hWndForm, nI, ROW_Edited, 0)
.head 8 -  Call SalTblSetContext(hWndForm, nI)
.head 8 +  If SqlPrepareAndExecute(hSqlAux2(), "UPDATE cc_deal SET CC_ID=:CC_ID WHERE nd=:ND")
.head 9 -  ! Изменен № тик. CC_ID - ND
.head 9 -  Call SqlCommitEx(hSqlAux2(), AppCode || CurrentLangTable.GetAtomTitle('NETTO.cTMessTik') || ' ' || CC_ID || ' - ' || Str(ND))
.head 8 +  Else
.head 9 -  Call SqlRollback(hSqlAux2())
.head 7 -  Call SalSendMsg(hWndForm, UM_Populate, 0, 0)
.head 4 +  Pushbutton: pbProc
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbSwitch
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   8.467"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\A_proc.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Начислить %% по ПОРТФЕЛЮ
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('NETTO.cBTipProc')
.head 6 +  On SAM_Click
.head 7 -  Call Sel010(hWndMDI, 0, 0, " and s.acc in (select acc from mbd_k " || 
     IifS(sW!=STRING_Null, "WHERE (" || sW || ")", "" ) || 
     IifS(bNBUBANK=TRUE, IifS(sW!=STRING_Null, " and ", " where ") || "kv not in (select kv from tabval where prv=1)", "") || " )", " ") 
.head 4 +  Pushbutton: pb_All_Pay
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbSwitch
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   9.117"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\Execute.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Сформировать ВСЕ текущие Возвраты
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('NETTO.cBTipAll_Pay')
.head 6 +  On SAM_Click
.head 7 -  Call NASELENIE()
.head 7 -  Set nI = TBL_MinRow
.head 7 +  While SalTblFindNextRow(hWndForm, nI, 0, 0)
.head 8 -  Call SalTblSetContext(hWndForm, nI)
.head 8 -  ! == Можно формировать возвраты? Остаток факт. д.= сумме сделки
.head 8 +  If T2_OutS_Tek(2, S1n, OSTCn, OSTBn, OSTFn, DAT2)
.head 9 -  Set sNlsB = ACCB
.head 9 -  Set sMfoB = MFOB
.head 9 -  ! == Определяем операцию для оплаты
.head 9 -  Set sTT = IifS(MFOB=GetBankMfo(), 'WD1', IifS(VPSB=1, 'WD2', 'WD3'))
.head 9 -  ! == Параметры операции
.head 9 +  If SqlPrepareAndExecute(hSql(), "SELECT fli, nlsb INTO :nFli, :sNlsB_TT FROM tts WHERE tt=:sTT")
and SqlFetchNext(hSql(),nFetchRes)
.head 10 -  ! == Для Внутренних
.head 10 +  If nFli = 0
.head 11 -  Set sMfoB = GetBankMfo()
.head 10 -  ! == Для SWIFT счет Б берем из настройки операции
.head 10 +  If nFli = 2
.head 11 -  Set sNlsB = sNlsB_TT
.head 11 -  Set sMfoB = GetBankMfo()
.head 10 -  ! == Оплата
.head 10 +  If sNlsB != STRING_Null and sMfoB != STRING_Null
.head 11 -  ! Повернення залучень NMK Договір CC_ID від DAT
.head 11 +  If SqlPrepareAndExecute(hSql(), 
"SELECT okpo INTO :sOkpo FROM customer c, accounts a 
 WHERE a.kv=:KV and a.nls=:NLS and c.rnk=a.rnk")
and SqlFetchNext(hSql(),nFetchRes)
.head 12 -  Call cDoc.SetDoc 
(0, sTT, 1, 1, IifS(sMBK_ND='REF', '', CC_ID), 
dBankDate, dBankDate, dBankDate, dBankDate,
NLS, GetBankName(), GetBankMfo(), '', KV, OSTCn*SalNumberPower(10,Dig), GetBankOkpoS(),  
     sNlsB, NMK, sMfoB, '', KV, OSTCn*SalNumberPower(10,Dig), sOkpo,
     CurrentLangTable.GetAtomTitle('NETTO.cTNazn1') || ' ' || NMK   || ' ' ||
     CurrentLangTable.GetAtomTitle('NETTO.cTNazn2') || ' ' || CC_ID || ' ' ||
     CurrentLangTable.GetAtomTitle('cTOt')          || ' ' || SalFmtFormatDateTime(DAT,'dd/MM/yyyy') ,
     '', GetIdOper(), '', NUMBER_Null, 0)
.head 12 +  If cDoc.oDoc()
.head 13 -  ! Авто-платеж на возврат МБ
.head 13 -  Call SqlCommitEx(hSql(), AppCode || CurrentLangTable.GetAtomTitle('NETTO.cTMessAvto') || ': ' ||
     CurrentLangTable.GetAtomTitle('NETTO.cTNazn1') || ' ' || NMK   || ' ' ||
     CurrentLangTable.GetAtomTitle('NETTO.cTNazn2') || ' ' || CC_ID || ' ' ||
     CurrentLangTable.GetAtomTitle('cTOt')          || ' ' || SalFmtFormatDateTime(DAT,'dd/MM/yyyy') )
.head 13 -  Call StrColor (COLOR_DarkGreen)
.head 12 +  Else
.head 13 -  ! Не успешный авто-платеж на возврат МБ
.head 13 -  Call SqlRollbackEx(hSql(), AppCode || CurrentLangTable.GetAtomTitle('NETTO.cTErrAvto'))
.head 4 +  Pushbutton: pb_All_Proc
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbSwitch
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   9.567"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\A_INTS.BMP
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Сформировать ВСЕ текущие Возвраты нач.%%
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('NETTO.cBTipAll_Proc')
.head 6 +  On SAM_Click
.head 7 -  Call NASELENIE()
.head 7 -  Set nI = TBL_MinRow
.head 7 +  While SalTblFindNextRow(hWndForm, nI, 0, 0)
.head 8 -  Call SalTblSetContext(hWndForm, nI)
.head 8 -  ! == Можно формировать возвраты %%?
.head 8 +  If T2_OutSN_Tek(2, OSTNn, OstbN, OstfN, MdateN)
.head 9 -  Set sNlsB = ACCNB
.head 9 -  Set sMfoB = MFONB
.head 9 -  ! == Определяем операцию для оплаты
.head 9 -  Set sTT = IifS(MFONB=GetBankMfo(), 'WD1', IifS(VPSNB=1, 'WD2', 'WD3'))
.head 9 -  ! == Параметры операции
.head 9 +  If SqlPrepareAndExecute(hSql(), "SELECT fli, nlsb INTO :nFli, :sNlsB_TT FROM tts WHERE tt=:sTT")
and SqlFetchNext(hSql(),nFetchRes)
.head 10 -  ! == Для Внутренних
.head 10 +  If nFli = 0
.head 11 -  Set sMfoB = GetBankMfo()
.head 10 -  ! == Для SWIFT счет Б берем из настройки операции
.head 10 +  If nFli = 2
.head 11 -  Set sNlsB = sNlsB_TT
.head 11 -  Set sMfoB = GetBankMfo()
.head 10 -  ! == Оплата
.head 10 +  If sNlsB != STRING_Null and sMfoB != STRING_Null
.head 11 -  ! Погашення процентів по залученням NMK Договір CC_ID від DAT
.head 11 +  If SqlPrepareAndExecute(hSql(), 
"SELECT okpo INTO :sOkpo FROM customer c, accounts a 
 WHERE a.kv=:KV and a.nls=:NLSN and c.rnk=a.rnk")
and SqlFetchNext(hSql(),nFetchRes)
.head 12 -  Call cDoc.SetDoc 
(0, sTT, 1, 1, IifS(sMBK_ND='REF', '', CC_ID), dBankDate, dBankDate, dBankDate, dBankDate,
 NLSN,  GetBankName(), GetBankMfo(), '', KV, OSTNn*SalNumberPower(10,Dig), GetBankOkpoS(), 
 sNlsB, NMK, sMfoB,'', KV, OSTNn*SalNumberPower(10,Dig), sOkpo,
     CurrentLangTable.GetAtomTitle('Dlg_Plat.cTNazn61') || ' ' || NMK   || ' ' ||
     CurrentLangTable.GetAtomTitle('NETTO.cTNazn2')     || ' ' || CC_ID || ' ' ||
     CurrentLangTable.GetAtomTitle('cTOt')              || ' ' || SalFmtFormatDateTime(DAT,'dd/MM/yyyy') ,
     '', GetIdOper(), '', NUMBER_Null, 0)
.head 12 +  If cDoc.oDoc()
.head 13 -  ! Авто-платеж на возврат МБ
.head 13 -  Call SqlCommitEx(hSql(), AppCode || CurrentLangTable.GetAtomTitle('NETTO.cTMessAvto') || ': ' ||
     CurrentLangTable.GetAtomTitle('Dlg_Plat.cTNazn61') || ' ' || NMK   || ' ' ||
     CurrentLangTable.GetAtomTitle('NETTO.cTNazn2')     || ' ' || CC_ID || ' ' ||
     CurrentLangTable.GetAtomTitle('cTOt')              || ' ' || SalFmtFormatDateTime(DAT,'dd/MM/yyyy') )
.head 13 -  Call StrColor (COLOR_DarkGreen)
.head 12 +  Else
.head 13 -  ! Не успешный авто-платеж на возврат МБ
.head 13 -  Call SqlRollbackEx(hSql(), AppCode || CurrentLangTable.GetAtomTitle('NETTO.cTErrAvto'))
.head 4 -  Line
.head 5 -  Resource Id: 58184
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Coordinates
.head 6 -  Begin X:  8.983"
.head 6 -  Begin Y:  -0.19"
.head 6 -  End X:  8.983"
.head 6 -  End Y:  0.393"
.head 5 -  Visible? Yes
.head 5 -  Line Style: Etched
.head 5 -  Line Thickness: 1
.head 5 -  Line Color: 3D Shadow Color
.head 4 -  Line
.head 5 -  Resource Id: 11060
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Coordinates
.head 6 -  Begin X:  10.1"
.head 6 -  Begin Y:  -0.19"
.head 6 -  End X:  10.1"
.head 6 -  End Y:  0.393"
.head 5 -  Visible? Yes
.head 5 -  Line Style: Etched
.head 5 -  Line Thickness: 1
.head 5 -  Line Color: 3D Shadow Color
.head 4 -  ! Залоги
.head 4 +  Pushbutton: pbZalog
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cTBarButton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   10.2"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.433"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.321"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\A_accs.bmp
.head 5 -  Picture Transparent Color: Gray
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Новые Договора ОБЕСПЕЧЕНИЯ на выбранный договор РАЗМЕЩЕНИЯ
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('NETTO.cBTipZalog')
.head 6 +  On SAM_Click
.head 7 +  If NETTO.ACC > 0  
.head 8 -  Call Sel017(hWndMDI, IifN(nParEdit=0, 90, 30), 2, NETTO.ND, Str(NETTO.nGrp), Str(NETTO.RNKK), NETTO.ACC)
.head 4 +  Pushbutton: pbZalog_All
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cTBarButton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   10.65"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.433"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.321"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\Pach.bmp
.head 5 -  Picture Transparent Color: Gray
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Существующие Договора ОБЕСПЕЧЕНИЯ на выбранный договор РАЗМЕЩЕНИЯ
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('NETTO.cBTipZalog_All')
.head 6 +  On SAM_Click
.head 7 -  Call Sel017(hWndMDI, IifN(nParEdit=0, 90, 30), 11, NETTO.ND, Str(NETTO.nGrp), Str(NETTO.RNKK), NETTO.ACC)
.head 4 +  Pushbutton: pbZ
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cTBarButton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   11.1"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.433"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.321"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \bars98\RESOURCE\BMP\Tudasuda.bmp
.head 5 -  Picture Transparent Color: White
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Light Gray
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Связь Договоров ОБЕСПЕЧЕНИЯ и выбранного договора РАЗМЕЩЕНИЯ
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('NETTO.cBTipZ')
.head 6 +  On SAM_Click
.head 7 -  Call Bars017r1(IifN(nParEdit=0,101,NUMBER_Null), NUMBER_Null, NUMBER_Null, 
" and KU_109.ACCK in (select acc from nd_acc where nd=" || Str(NETTO.ND) || " )")
.head 4 +  Pushbutton: pbLinkZal
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbOk
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   11.533"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\ATTACH.BMP
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Привязать операцию залога
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('NETTO.cBTipLinkZal')
.head 6 +  On SAM_Click
.head 7 +  If ND
.head 8 +  If SalModalDialog(dlgLinkZal, hWndForm, ND)
.head 9 -  Call SalSendMsg(pbRefresh, SAM_Click, 0, 0)
.head 4 +  Pushbutton: pbP
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cTBarButton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: P
.head 5 -  Window Location and Size
.head 6 -  Left:   11.983"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Отвязать залог ДЦП
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('NETTO.cBTipP')
.head 6 +  On SAM_Click
.head 7 +  If ND
.head 8 +  If SqlPLSQLCommand(hSql(), "mbk.unlink_dcp(ND)")
.head 9 -  Call SqlCommitEx(hSql(), "MBDK. Отвязан залог ДЦП для дог.№" || Str(ND))
.head 9 -  ! Отвязан залог ДЦП
.head 9 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('NETTO.cTMsgUnLinkDCP'), 
     CurrentLangTable.GetAtomTitle('cTAt'), 0)
.head 8 +  Else
.head 9 -  Call SqlRollbackEx(hSql(), "MBDK. Ошибка при отвязке залога ДЦП для дог.№" || Str(ND))
.head 4 +  Pushbutton: pbUnLinkRef
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbDelete
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   12.433"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\DELETE.BMP
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Отвязать документ
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('NETTO.cBTipUnLinkRef')
.head 6 +  On SAM_Click
.head 7 +  If ND
.head 8 +  ! If FunNSIGetFilteredAltPK("mbd_k_ref", "ref", "nd", "nd=" || Str(ND), sPk, sSem)
.head 9 -  Set nRef = Val(sPk)
.head 9 +  If nRef
.head 10 -  ! Отвязать документ sPk от договора Str(ND)
.head 10 +  If SalMessageBox(CurrentLangTable.GetAtomTitle('NETTO.cTMsgQstUnLinkRef1') || " " || sPk || " " || CurrentLangTable.GetAtomTitle('NETTO.cTMsgQstUnLinkRef2') || " " || Str(ND) || "?",
   CurrentLangTable.GetAtomTitle('cTAt'), MB_IconQuestion | MB_YesNo) = IDYES
.head 11 +  If not SqlPrepareAndExecute(hSql(), "delete from mbd_k_r where nd = :ND and ref = :nRef")
.head 12 -  Call SqlRollbackEx(hSql(), "MBDK. Ошибка при отвязке документа " || sPk || "От дог.№" || Str(ND))
.head 11 +  Else 
.head 12 -  Call SqlCommitEx(hSql(), "MBDK. Отвязан документ " || sPk || " от дог.№" || Str(ND))
.head 12 -  ! Отвязан документ
.head 12 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('NETTO.cTMsgUnLinkRef'), 
     CurrentLangTable.GetAtomTitle('cTInfo'), MB_IconAsterisk | MB_Ok)
.head 8 -  Call SalCreateWindow(tblDelRef, hWndMDI, ND)
.head 4 -  Line
.head 5 -  Resource Id: 7
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Coordinates
.head 6 -  Begin X:  12.95"
.head 6 -  Begin Y:  -0.143"
.head 6 -  End X:  12.95"
.head 6 -  End Y:  0.44"
.head 5 -  Visible? Yes
.head 5 -  Line Style: Etched
.head 5 -  Line Thickness: 1
.head 5 -  Line Color: 3D Shadow Color
.head 4 +  ! ctb_pbDelete: pbUnlinkAcc
.winattr class Pushbutton:
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbDelete
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   12.92"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.43"
.head 6 -  Width Editable? No
.head 6 -  Height: 0.317"
.head 6 -  Height Editable? No
.head 5 -  Visible? Yes
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: None
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\Delrec.bmp
.head 5 -  Picture Transparent Color: Gray
.head 5 -  Image Style: Single
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.end
.head 5 +  Message Actions 
.head 6 +  On SAM_Create
.head 7 -  ! Отвязать счет залога 
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('NETTO.cBTipUnLinkAcc')
.head 6 +  On SAM_Click
.head 7 +  If ND
.head 8 +  If FunNSIGetFilteredAltPK("accounts", "acc", "nls", "acc in (select acc from nd_acc where nd=" || Str(ND) || ") and tip = 'ZAL' ", sPk, sSem)
.head 9 -  Set nAcc = Val(sPk)
.head 9 +  If nAcc
.head 10 -  ! Отвязать счет sSem от договора ND
.head 10 +  If SalMessageBox(CurrentLangTable.GetAtomTitle('NETTO.cTMsgQstUnLinkAcc') || " " || sSem || " " || CurrentLangTable.GetAtomTitle('NETTO.cTMsgQstUnLinkRef2') || " " || Str(ND) || "?",
   CurrentLangTable.GetAtomTitle('cTAt'), MB_IconQuestion | MB_YesNo) = IDYES
.head 11 +  If not SqlPrepareAndExecute(hSql(), "delete from nd_acc where nd = :ND and acc = :nAcc")
.head 12 -  Call SqlRollbackEx(hSql(), "MBDK. Ошибка при отвязке счета " || sSem || " от дог.№" || Str(ND))
.head 11 +  Else 
.head 12 -  Call SqlCommitEx(hSql(), "MBDK. Отвязан счет " || sSem || " от дог.№" || Str(ND))
.head 12 -  ! Отвязан счет
.head 12 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('NETTO.cTMsgUnLinkAcc'), 
     CurrentLangTable.GetAtomTitle('cTInfo'), MB_IconAsterisk | MB_Ok)
.head 4 -  ! Line
.winattr
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Coordinates
.head 6 -  Begin X:  13.45"
.head 6 -  Begin Y:  0.0"
.head 6 -  End X:  13.45"
.head 6 -  End Y:  0.44"
.head 5 -  Visible? Yes
.head 5 -  Line Style: Etched
.head 5 -  Line Thickness: 1
.head 5 -  Line Color: 3D Shadow Color
.end
.head 4 +  Pushbutton: pbExit
.head 5 -  Class Child Ref Key: 42
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   13.05"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 -  ! SWIFT
.head 4 +  Pushbutton: pbCreateSWT
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbBrowse
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   5.383"
.head 6 -  Top:    0.405"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\TOMAIL.BMP
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Сформировать SWIFT сообщение
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('NETTO.cBTipCreateSWT')
.head 6 +  On SAM_Click
.head 7 +  If SalTblAnyRows(hWndForm, ROW_Selected, 0)
.head 8 +  If SqlPLSQLCommand(hSql(), "SWIFT.Gen3xxMsg(320,ND)")
.head 9 -  ! Сформировано SWIFT сообщение
.head 9 -  Call SqlCommitEx(hSql(), AppCode || CurrentLangTable.GetAtomTitle('NETTO.cTMsgCreateSWT'))
.head 9 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('NETTO.cTMsgCreateSWT'),
     CurrentLangTable.GetAtomTitle('cTAt'), MB_Ok)
.head 9 -  Call SalSendMsg(pbRefresh, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  Call SqlRollback(hSql())
.head 4 +  Pushbutton: pbILinkSWT
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbBrowse
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   6.283"
.head 6 -  Top:    0.405"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\Arr2tou.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Привязать входящее SWIFT сообщение
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('NETTO.cBTipILinkSWT')
.head 6 +  On SAM_Click
.head 7 +  If SalTblAnyRows(hWndForm, ROW_Selected, 0)
.head 8 -  Set nSWRef = SWIFTMsgSel(hWndForm, "V_SW320_HEADER", "receiver='"||NETTO.BIC||"' AND io_ind='O'")
.head 8 +  If nSWRef != 0
.head 9 +  If SqlPLSQLCommand(hSql(), "SWIFT.Link3XXMsg(320,nSWRef,ND,'O')")
.head 10 -  ! Привязано SWIFT сообщение
.head 10 -  Call SqlCommitEx(hSql(), AppCode || CurrentLangTable.GetAtomTitle('NETTO.cTMsgLinkSWT'))
.head 10 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('NETTO.cTMsgLinkSWT'),
     CurrentLangTable.GetAtomTitle('cTAt'), MB_Ok)
.head 10 -  Call SalSendMsg(pbRefresh, SAM_Click, 0, 0)
.head 9 +  Else
.head 10 -  Call SqlRollback(hSql())
.head 4 +  Pushbutton: pbIUnLinkSWT
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbBrowse
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   6.683"
.head 6 -  Top:    0.405"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\ARR2TOD.BMP
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Отвязать входящее SWIFT сообщение
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('NETTO.cBTipIUnLinkSWT')
.head 6 +  On SAM_Click
.head 7 +  If SalTblAnyRows(hWndForm, ROW_Selected, 0)
.head 8 +  If SqlPLSQLCommand(hSql(), "SWIFT.UnLink3XXMsg(320,NUMBER_Null,ND,'O')" )
.head 9 -  ! Отвязано SWIFT сообщение
.head 9 -  Call SqlCommitEx(hSql(), AppCode || CurrentLangTable.GetAtomTitle('NETTO.cTMsgUnLinkSWT'))
.head 9 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('NETTO.cTMsgUnLinkSWT'),
     CurrentLangTable.GetAtomTitle('cTAt'), MB_Ok)
.head 9 -  Call SalSendMsg(pbRefresh, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  Call SqlRollback(hSql())
.head 4 +  Pushbutton: pbIViewSWT
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbBrowse
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   7.183"
.head 6 -  Top:    0.405"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\OPEN.BMP
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Просмотреть входящее SWIFT сообщение
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('NETTO.cBTipIViewSWT')
.head 6 +  On SAM_Click
.head 7 +  If SalTblAnyRows(hWndForm, ROW_Selected, 0)
.head 8 +  If SWI_REF != NUMBER_Null
.head 9 -  Call SWIFTMsgView(hWndForm, SWI_REF)
.head 4 +  Pushbutton: pbOLinkSWT
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbBrowse
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   7.583"
.head 6 -  Top:    0.405"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\ARR1TOU.BMP
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Привязать исходящее SWIFT сообщение
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('NETTO.cBTipOLinkSWT')
.head 6 +  On SAM_Click
.head 7 +  If SalTblAnyRows(hWndForm, ROW_Selected, 0)
.head 8 -  Set nSWRef = SWIFTMsgSel(hWndForm, "V_SW320_HEADER", "receiver='"||NETTO.BIC||"' AND io_ind='I'")
.head 8 +  If nSWRef != 0
.head 9 +  If SqlPLSQLCommand( hSql(), "SWIFT.Link3XXMsg(320,nSWRef,ND,'I')")
.head 10 -  ! Привязано SWIFT сообщение
.head 10 -  Call SqlCommitEx(hSql(), AppCode || CurrentLangTable.GetAtomTitle('NETTO.cTMsgLinkSWT'))
.head 10 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('NETTO.cTMsgLinkSWT'),
     CurrentLangTable.GetAtomTitle('cTAt'), MB_Ok )
.head 10 -  Call SalSendMsg(pbRefresh, SAM_Click, 0, 0)
.head 9 +  Else
.head 10 -  Call SqlRollback(hSql())
.head 4 +  Pushbutton: pbOUnLinkSWT
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbBrowse
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   7.983"
.head 6 -  Top:    0.405"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\ARR1TOD.BMP
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Отвязать исходящее SWIFT сообщение
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('NETTO.cBTipOUnLinkSWT')
.head 6 +  On SAM_Click
.head 7 +  If SalTblAnyRows(hWndForm, ROW_Selected, 0)
.head 8 +  If SqlPLSQLCommand(hSql(), "SWIFT.UnLink3XXMsg(320,NUMBER_Null,ND,'I')" )
.head 9 -  ! Отвязано SWIFT сообщение
.head 9 -  Call SqlCommitEx(hSql(), AppCode || CurrentLangTable.GetAtomTitle('NETTO.cTMsgUnLinkSWT'))
.head 9 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('NETTO.cTMsgUnLinkSWT'),
     CurrentLangTable.GetAtomTitle('cTAt'), MB_Ok )
.head 9 -  Call SalSendMsg(pbRefresh, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  Call SqlRollback(hSql())
.head 4 +  Pushbutton: pbOViewSWT
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbBrowse
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   8.483"
.head 6 -  Top:    0.405"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\OPEN.BMP
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Просмотреть исходящее SWIFT сообщение
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('NETTO.cBTipOViewSWT')
.head 6 +  On SAM_Click
.head 7 +  If SalTblAnyRows(hWndForm, ROW_Selected, 0)
.head 8 +  If SWO_REF != NUMBER_Null
.head 9 -  Call SWIFTMsgView(hWndForm, SWO_REF)
.head 4 -  !
.head 4 +  Data Field: sDB_1819
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: 15
.head 6 -  Data Type: String
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left:   0.083"
.head 7 -  Top:    0.452"
.head 7 -  Width:  1.883"
.head 7 -  Width Editable? Yes
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Yes
.head 6 -  Visible? Yes
.head 6 -  Border? Yes
.head 6 -  Justify: Left
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Font Name: Default
.head 6 -  Font Size: Default
.head 6 -  Font Enhancement: Default
.head 6 -  Text Color: Default
.head 6 -  Background Color: Default
.head 6 -  Input Mask: Unformatted
.head 5 -  Message Actions
.head 4 +  Data Field: nKv
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: 3
.head 6 -  Data Type: Number
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left:   1.983"
.head 7 -  Top:    0.452"
.head 7 -  Width:  0.833"
.head 7 -  Width Editable? Yes
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Yes
.head 6 -  Visible? Yes
.head 6 -  Border? Yes
.head 6 -  Justify: Left
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Font Name: Default
.head 6 -  Font Size: Default
.head 6 -  Font Enhancement: Default
.head 6 -  Text Color: Default
.head 6 -  Background Color: Default
.head 6 -  Input Mask: Unformatted
.head 5 -  Message Actions
.head 4 +  Data Field: ost_DB_1819
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Number
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left:   2.883"
.head 7 -  Top:    0.452"
.head 7 -  Width:  2.3"
.head 7 -  Width Editable? Yes
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Yes
.head 6 -  Visible? Yes
.head 6 -  Border? Yes
.head 6 -  Justify: Left
.head 6 -  Format: Decimal
.head 6 -  Country: Default
.head 6 -  Font Name: Default
.head 6 -  Font Size: Default
.head 6 -  Font Enhancement: Default
.head 6 -  Text Color: Default
.head 6 -  Background Color: Default
.head 6 -  Input Mask: Unformatted
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbCreateTELEX
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbBrowse
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   5.883"
.head 6 -  Top:    0.405"
.head 6 -  Width:  0.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \bars98\resource\bmp\CHKMAIL.BMP
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set strTip = 'Print/View/Update TELEX'
.head 6 +  On SAM_Click
.head 7 +  If SalTblAnyRows(hWndForm, ROW_Selected, 0)
.head 8 -  Call F_dlg_TELEX(ND, 2)
.head 4 -  !
.head 4 +  Pushbutton: pbShowComm
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbDetail
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   9.583"
.head 6 -  Top:    0.405"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \bars98\RESOURCE\BMP\BROWSE.BMP
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set strTip = 'Коментарі по угоді'
.head 6 +  On SAM_Click
.head 7 +  If ND
.head 8 -  Call FunNSIEditFFiltered('cdb_deal_comment', 1, 'nd=' || Str(ND))
.head 4 +  Pushbutton: pbGpk
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbDetail
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   10.183"
.head 6 -  Top:    0.405"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \bars98\RESOURCE\BMP\CHEKIN.BMP
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set strTip = 'Графік погашення'
.head 6 +  On SAM_Click
.head 7 +  If ND
.head 8 -  Call FunNSIEditF("MBK_GPK0[NSIFUNCTION][PROC=>MBK2.GPK(99,"||Str(ND)||")][EXEC=>BEFORE]", 0)
.head 4 +  Pushbutton: pbMbk7
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbDetail
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   10.683"
.head 6 -  Top:    0.405"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \bars98\RESOURCE\BMP\ARR1TOR.BMP
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set strTip = 'Винесення на простроченi'
.head 6 +  On SAM_Click
.head 7 -  Call FunNSIEditF("MBK7", 2)
.head 4 +  Pushbutton: pbRepo
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbChilds
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   11.183"
.head 6 -  Top:    0.405"
.head 6 -  Width:  0.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \bars98\RESOURCE\BMP\LINKED.BMP
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set strTip = 'Параметри РЕПО'
.head 6 +  On SAM_Click
.head 7 +  If ND
.head 8 +  If SalStrScan(sMBK_REPONBS, Str(VIDD)) != -1
.head 9 -  Call SqlPrepareAndExecute(hSql(), "select acc into :nAcc from mbk_cp where nd=:ND")
.head 9 +  If SqlFetchNext(hSql(), nFetchRes)
.head 10 -  Call FunNSIEditFFiltered("V_MBK_CP[NSIFUNCTION]", 2, "v_mbk_cp.nd=" || Str(ND))
.head 9 +  Else
.head 10 +  If SalModalDialog(dlgMbkRepo, hWndForm, ND)
.head 11 -  Call SalMessageBox('Параметри РЕПО введено', 'Інформація!', MB_Ok | MB_IconAsterisk)
.head 4 +  Pushbutton: pb_DopW
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbChilds
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   11.583"
.head 6 -  Top:    0.405"
.head 6 -  Width:  0.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\Childs.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set strTip = 'Додаткові Реквізити Угоди'
.head 6 +  On SAM_Click
.head 7 +  If ND
.head 8 -  Call FunNSIEditF("CC_DOPW[NSIFUNCTION][PROC=>PUL.put( 'ND', '" || Str(ND) || "' )][EXEC=>BEFORE]", 2 )
.head 2 +  Contents
.head 3 +  Column: DAT
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Дата
начала
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Date/Time
.head 4 -  Justify: Center
.head 4 -  Width:  0.8"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Date
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: DAT_V
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Дата
валютир.
.head 4 -  Visible? Class Default
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Data Type: Date/Time
.head 4 -  Justify: Center
.head 4 -  Width:  0.8"
.head 4 -  Width Editable? Class Default
.head 4 -  Format: Date
.head 4 -  Country: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  Cell Options
.head 5 -  Cell Type? Class Default
.head 5 -  Multiline Cell? Class Default
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Class Default
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Auto Drop Down? Class Default
.head 6 -  Allow Text Editing? Class Default
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Class Default
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: DAT2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Дата
окончания
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Date/Time
.head 4 -  Justify: Center
.head 4 -  Width:  0.8"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Date
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: RNKK
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: РНК
.head 4 -  Visible? Class Default
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Right
.head 4 -  Width:  1.0"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: OKPO
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: ЄДРПОУ
.head 4 -  Visible? Class Default
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: String
.head 4 -  Justify: Right
.head 4 -  Width:  1.4"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: NMK
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Наименование
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: String
.head 4 -  Justify: Left
.head 4 -  Width:  1.914"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: KV
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Вал
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: 3
.head 4 -  Data Type: Number
.head 4 -  Justify: Right
.head 4 -  Width:  0.471"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: NLS
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: ЛС
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: String
.head 4 -  Justify: Left
.head 4 -  Width:  1.033"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: ND
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Реф
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Right
.head 4 -  Width:  0.5"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: PL	! Кол-во возможных платежей (открытых кнопок в платежном календаре)
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Пл
.head 4 -  Visible? No
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Right
.head 4 -  Width:  0.4"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value: 1
.head 6 -  Uncheck Value: 0
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 -  ! Строковая колонка
.head 3 +  Column: OSTC
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Текущий
остаток
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: String
.head 4 -  Justify: Right
.head 4 -  Width:  0.917"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 -  ! Числовая колонка с правильным кол-вом зн.(Dig)
.head 3 +  Column: OSTCn
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Visible? No
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Left
.head 4 -  Width:  Default
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 -  !
.head 3 +  Column: KPROLOG
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Кол
прол

.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Right
.head 4 -  Width:  0.483"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: P1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: % 
ст
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Center
.head 4 -  Width:  0.35"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: NLSN
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: ЛС
нач.%
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: String
.head 4 -  Justify: Left
.head 4 -  Width:  1.033"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: OSTN
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Сумма 
нач.%
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: String
.head 4 -  Justify: Right
.head 4 -  Width:  0.85"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: OSTNn
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Visible? No
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Left
.head 4 -  Width:  Default
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: S1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Размещ/
Привлечение
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: String
.head 4 -  Justify: Right
.head 4 -  Width:  1.043"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: S1n
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Visible? No
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Left
.head 4 -  Width:  Default
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: OSTB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Плановый
остаток
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: String
.head 4 -  Justify: Right
.head 4 -  Width:  0.85"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: OSTBn
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Visible? No
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Left
.head 4 -  Width:  Default
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: OSTF
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Форвардный
остаток
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: String
.head 4 -  Justify: Right
.head 4 -  Width:  0.85"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: OSTFn
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Visible? No
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Left
.head 4 -  Width:  Default
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: CC_ID
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: № дог
(тикета)
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: String
.head 4 -  Justify: Right
.head 4 -  Width:  0.686"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: D1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Срок

.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Right
.head 4 -  Width:  0.483"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: SROK
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Ост
срок

.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Right
.head 4 -  Width:  0.467"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: ACC
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: №
договора
.head 4 -  Visible? No
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Right
.head 4 -  Width:  0.85"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: TIPD
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Тип
1-разм,2-привл.
.head 4 -  Visible? No
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Right
.head 4 -  Width:  0.85"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: US
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Исп
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Right
.head 4 -  Width:  0.429"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: Dig
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: DIG
.head 4 -  Visible? No
.head 4 -  Editable? Yes
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Left
.head 4 -  Width:  Default
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: nGrp
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: DIG
.head 4 -  Visible? No
.head 4 -  Editable? Yes
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Left
.head 4 -  Width:  Default
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  ! Column: prRO
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: ND предыдущ
.head 4 -  Visible? No
.head 4 -  Editable? Yes
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Left
.head 4 -  Width:  Default
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.end
.head 4 -  List Values 
.head 4 -  Message Actions 
.head 3 +  Column: BIC
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: BIC
.head 4 -  Visible? No
.head 4 -  Editable? Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Data Type: Class Default
.head 4 -  Justify: Class Default
.head 4 -  Width:  Class Default
.head 4 -  Width Editable? Class Default
.head 4 -  Format: Class Default
.head 4 -  Country: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  Cell Options
.head 5 -  Cell Type? Class Default
.head 5 -  Multiline Cell? Class Default
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Class Default
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Auto Drop Down? Class Default
.head 6 -  Allow Text Editing? Class Default
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Class Default
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: SWI_REF
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Visible? No
.head 4 -  Editable? Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Class Default
.head 4 -  Width:  Class Default
.head 4 -  Width Editable? Class Default
.head 4 -  Format: Class Default
.head 4 -  Country: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  Cell Options
.head 5 -  Cell Type? Class Default
.head 5 -  Multiline Cell? Class Default
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Class Default
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Auto Drop Down? Class Default
.head 6 -  Allow Text Editing? Class Default
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Class Default
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: SWO_REF
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Visible? No
.head 4 -  Editable? Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Class Default
.head 4 -  Width:  Class Default
.head 4 -  Width Editable? Class Default
.head 4 -  Format: Class Default
.head 4 -  Country: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  Cell Options
.head 5 -  Cell Type? Class Default
.head 5 -  Multiline Cell? Class Default
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Class Default
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Auto Drop Down? Class Default
.head 6 -  Allow Text Editing? Class Default
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Class Default
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: colZalog	! Залог
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Залог
.head 4 -  Visible? Class Default
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Class Default
.head 4 -  Width:  0.8"
.head 4 -  Width Editable? Class Default
.head 4 -  Format: Class Default
.head 4 -  Country: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  Cell Options
.head 5 -  Cell Type? Check Box
.head 5 -  Multiline Cell? Class Default
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Class Default
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Auto Drop Down? Class Default
.head 6 -  Allow Text Editing? Class Default
.head 5 -  Cell CheckBox
.head 6 -  Check Value: 1
.head 6 -  Uncheck Value: 0
.head 6 -  Ignore Case? Class Default
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: colZAL		! оп. ZAL
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: ZAL
.head 4 -  Visible? Class Default
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Class Default
.head 4 -  Width:  0.8"
.head 4 -  Width Editable? Class Default
.head 4 -  Format: Class Default
.head 4 -  Country: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  Cell Options
.head 5 -  Cell Type? Check Box
.head 5 -  Multiline Cell? Class Default
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Class Default
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Auto Drop Down? Class Default
.head 6 -  Allow Text Editing? Class Default
.head 5 -  Cell CheckBox
.head 6 -  Check Value: 1
.head 6 -  Uncheck Value: 0
.head 6 -  Ignore Case? Class Default
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: OstbN
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: OstbN
.head 4 -  Visible? No
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Left
.head 4 -  Width:  Default
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: OstfN
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: OstfN
.head 4 -  Visible? No
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Left
.head 4 -  Width:  Default
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: MdateN
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: MdatN
.head 4 -  Visible? No
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Date/Time
.head 4 -  Justify: Left
.head 4 -  Width:  Default
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: MFOB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Visible? No
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: String
.head 4 -  Justify: Left
.head 4 -  Width:  Default
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: ACCB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Visible? No
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: String
.head 4 -  Justify: Left
.head 4 -  Width:  Default
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: VPSB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Visible? No
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Left
.head 4 -  Width:  Default
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: MFONB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Visible? No
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: String
.head 4 -  Justify: Left
.head 4 -  Width:  Default
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: ACCNB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Visible? No
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: String
.head 4 -  Justify: Left
.head 4 -  Width:  Default
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: VPSNB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Visible? No
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Left
.head 4 -  Width:  Default
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: NLS_1819
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Visible? No
.head 4 -  Editable? Yes
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: String
.head 4 -  Justify: Left
.head 4 -  Width:  Default
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: VIDD
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Visible? No
.head 4 -  Editable? Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Class Default
.head 4 -  Width:  Class Default
.head 4 -  Width Editable? Class Default
.head 4 -  Format: Class Default
.head 4 -  Country: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  Cell Options
.head 5 -  Cell Type? Class Default
.head 5 -  Multiline Cell? Class Default
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Class Default
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Auto Drop Down? Class Default
.head 6 -  Allow Text Editing? Class Default
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Class Default
.head 4 -  List Values
.head 4 -  Message Actions
.head 2 +  Functions
.head 3 +  Function: StrColor
.head 4 -  Description:
.head 4 -  Returns
.head 4 +  Parameters
.head 5 -  Number: nCol
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 +  If DAT2 <= dBankDate
.head 6 -  Call SalTblSetCellTextColor(DAT2, COLOR_DarkGreen, FALSE)
.head 5 -  Call SalTblSetCellTextColor(US,nCol,FALSE)
.head 5 -  Call SalTblSetCellTextColor(RNKK,nCol,FALSE)
.head 5 -  Call SalTblSetCellTextColor(OKPO,nCol,FALSE)
.head 5 -  Call SalTblSetCellTextColor(SROK,nCol,FALSE)
.head 5 -  Call SalTblSetCellTextColor(OSTF,nCol,FALSE)
.head 5 -  Call SalTblSetCellTextColor(OSTB,nCol,FALSE)
.head 5 -  Call SalTblSetCellTextColor(OSTC,nCol,FALSE)
.head 5 -  Call SalTblSetCellTextColor(OSTN,nCol,FALSE)
.head 5 -  Call SalTblSetCellTextColor(CC_ID,nCol,FALSE)
.head 5 -  Call SalTblSetCellTextColor(NLS,nCol,FALSE)
.head 5 -  Call SalTblSetCellTextColor(NLSN,nCol,FALSE)
.head 5 -  Call SalTblSetCellTextColor(KV,nCol,FALSE)
.head 5 -  Call SalTblSetCellTextColor(NMK,nCol,FALSE)
.head 5 -  Call SalTblSetCellTextColor(ND,nCol,FALSE)
.head 5 -  !
.head 5 -  Call SalTblSetCellTextColor(S1,nCol,FALSE)
.head 5 -  Call SalTblSetCellTextColor(D1,nCol,FALSE)
.head 5 -  Call SalTblSetCellTextColor(P1,nCol,FALSE)
.head 3 +  Function: F_PL
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Number:
.head 4 +  Parameters
.head 5 -  Number: ND
.head 5 -  Number: KV
.head 5 -  Number: nS
.head 5 -  !
.head 5 -  Number: nTipd
.head 5 -  Number: a_ostc
.head 5 -  Number: a_ostb
.head 5 -  Number: a_ostf
.head 5 -  Date/Time: a_mdate
.head 5 -  Number: b_ostb
.head 5 -  Number: b_ostf
.head 5 -  Date/Time: b_mdate
.head 5 -  Date/Time: pDAT
.head 5 -  Date/Time: eDAT
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nRet
.head 4 +  Actions
.head 5 -  Set nRet = 0
.head 5 +  If nTipd = 1
.head 6 -  ! выдать кредит
.head 6 +  If T1_OutS(nTipd, nS, a_ostc, a_ostb, a_ostf, a_mdate, DAT_V)
.head 7 -  Set nRet = nRet + 1
.head 6 -  ! принять погашение кредита
.head 6 +  If T1_InS(nTipd, a_ostb, a_ostf, a_mdate, KV, VPSB)
.head 7 -  Set nRet = nRet + 1
.head 6 -  ! принять погашение процентов
.head 6 +  If T1_InSN(nTipd, b_ostb, b_ostf, b_mdate, KV, VPSNB)
.head 7 -  Set nRet = nRet + 1
.head 6 -  ! Начислить % - доходы
.head 6 +  If a_ostc < 0 AND (pDAT = DATETIME_Null OR pDAT < eDAT-1)
.head 7 -  Set nRet = nRet + 1
.head 5 +  Else
.head 6 -  ! принять на депозит
.head 6 +  If T2_InS(nTipd, nS, a_ostc, a_ostb, a_ostf, a_mdate, KV, VPSB)
.head 7 -  Set nRet = nRet + 1
.head 6 -  ! вернуть депозит
.head 6 +  If T2_OutS(nTipd, a_ostb, a_ostf, a_mdate)
.head 7 -  Set nRet = nRet + 1
.head 6 -  ! перечислить % по депозиту
.head 6 +  If T2_OutSN(nTipd, b_ostb, b_ostf, b_mdate)
.head 7 -  Set nRet = nRet + 1
.head 6 -  ! Начислить % - расходы
.head 6 +  If a_ostc > 0 AND (pDAT = DATETIME_Null OR pDAT < eDAT -1)
.head 7 -  Set nRet = nRet + 1
.head 5 -  Return nRet
.head 3 +  Function: NASELENIE
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Call SalWaitCursor(TRUE)
.head 5 -  Set OSTN1 = 0
.head 5 -  Set OSTN2 = 0
.head 5 -  Set OSTC1 = 0
.head 5 -  Set OSTB1 = 0
.head 5 -  Set OSTF1 = 0
.head 5 -  Set OSTC2 = 0
.head 5 -  Set OSTB2 = 0
.head 5 -  Set OSTF2 = 0
.head 5 -  Set nI1 = 0
.head 5 -  Set nI2 = 0
.head 5 -  Set nS1 = 0
.head 5 -  Set nS2 = 0
.head 5 -  Set nD1 = 0
.head 5 -  Set nD2 = 0
.head 5 -  Set nP1 = 0
.head 5 -  Set nP2 = 0
.head 5 -  !
.head 5 -  Call SalSendClassMessage(UM_Populate, 0, 0)
.head 5 -  Call SalTblDefineSplitWindow(hWndForm, 3, TRUE)
.head 5 -  ! Итог размещений
.head 5 -  Set nInsRow = SalTblInsertRow(hWndForm, TBL_MinRow)
.head 5 -  Call SalTblSetRowFlags(hWndForm, nInsRow, ROW_New, FALSE)
.head 5 -  Call SalTblSetContext(hWndForm, nInsRow)
.head 5 -  ! Итог размещений (экв)
.head 5 -  Set NMK   = CurrentLangTable.GetAtomTitle('NETTO.cTItog1')
.head 5 -  Set S1n   = nS1
.head 5 -  Set S1    = Dig4(nS1,   2, 4)
.head 5 -  Set OSTCn = OSTC1
.head 5 -  Set OSTC  = Dig4(OSTC1, 2, 4)
.head 5 -  Set OSTBn = OSTB1
.head 5 -  Set OSTB  = Dig4(OSTB1, 2, 4)
.head 5 -  Set OSTFn = OSTF1
.head 5 -  Set OSTF  = Dig4(OSTF1, 2, 4)
.head 5 -  Set ND    = nI1
.head 5 +  If nD1 != 0 
.head 6 -  Set P1 = SalNumberTruncate(nP1/nD1, 8, 4)
.head 5 +  If nS1 != 0 
.head 6 -  Set D1 =SalNumberTruncate(nD1/nS1,3,0)
.head 5 -  Call StrColor (COLOR_DarkRed)
.head 5 -  ! Итог привлечений
.head 5 -  Set nInsRow = SalTblInsertRow(hWndForm, TBL_MinRow)
.head 5 -  Call SalTblSetRowFlags(hWndForm, nInsRow, ROW_New, FALSE)
.head 5 -  Call SalTblSetContext(hWndForm, nInsRow)
.head 5 -  ! Итог привлечений (экв)
.head 5 -  Set NMK   = CurrentLangTable.GetAtomTitle('NETTO.cTItog2')
.head 5 -  Set S1n   = nS2
.head 5 -  Set S1    = Dig4(S1n,   2, 4)
.head 5 -  Set OSTCn = OSTC2
.head 5 -  Set OSTC  = Dig4(OSTCn, 2, 4)
.head 5 -  Set OSTBn = OSTB2
.head 5 -  Set OSTB  = Dig4(OSTBn, 2, 4)
.head 5 -  Set OSTFn = OSTF2
.head 5 -  Set OSTF  = Dig4(OSTFn, 2, 4)
.head 5 -  Set ND    = nI2
.head 5 +  If nD2 != 0 
.head 6 -  Set P1 = SalNumberTruncate(nP2/nD2, 8, 4)
.head 5 +  If nS2 != 0 
.head 6 -  Set D1 =SalNumberTruncate(nD2/nS2,3,0)
.head 5 -  Call StrColor(COLOR_DarkBlue)
.head 5 -  ! NETTO (экв)
.head 5 -  Set nInsRow = SalTblInsertRow(hWndForm, TBL_MinRow)
.head 5 -  Call SalTblSetRowFlags(hWndForm, nInsRow, ROW_New, FALSE)
.head 5 -  Call SalTblSetContext(hWndForm, nInsRow)
.head 5 -  ! NETTO (экв)
.head 5 -  Set NMK = CurrentLangTable.GetAtomTitle('NETTO.cTItog3')
.head 5 -  Set ND  = nI2 - nI1
.head 5 +  If nS1 > nS2
.head 6 -  Set S1n = nS1-nS2
.head 6 -  Set S1  = Dig4(S1n, 2, 4)
.head 6 +  If nD1 and nD2
.head 7 -  Set P1 = SalNumberTruncate(nP1/nD1-nP2/nD2,8,4)
.head 6 -  Call SalTblSetCellTextColor(S1,COLOR_DarkRed,FALSE)
.head 6 -  Call SalTblSetCellTextColor(D1,COLOR_DarkRed,FALSE)
.head 6 -  Call SalTblSetCellTextColor(P1,COLOR_DarkRed,FALSE)
.head 5 +  Else
.head 6 -  Set S1n = nS2-nS1
.head 6 -  Set S1  = Dig4(S1n, 2, 4)
.head 6 -  Call SalTblSetCellTextColor(S1,COLOR_DarkBlue,FALSE)
.head 6 -  Call SalTblSetCellTextColor(D1,COLOR_DarkBlue,FALSE)
.head 6 -  Call SalTblSetCellTextColor(P1,COLOR_DarkBlue,FALSE)
.head 6 +  If nD1 and nD2
.head 7 -  Set P1= SalNumberTruncate(nP2/nD2-nP1/nD1,8,4)
.head 5 -  Set OSTCn = OSTC2+OSTC1
.head 5 -  Set OSTC  = Dig4(OSTCn, 2, 4)
.head 5 -  Set OSTBn = OSTB2+OSTB1
.head 5 -  Set OSTB  = Dig4(OSTBn, 2, 4)
.head 5 -  Set OSTFn = OSTF2+OSTF1
.head 5 -  Set OSTF  = Dig4(OSTFn, 2, 4)
.head 5 -  Call StrColor(IifN(OSTCn<0, COLOR_DarkRed, COLOR_DarkBlue))
.head 5 -  !
.head 5 -  Call VisTblAutoSizeColumn(hWndForm, hWndNULL)
.head 5 -  Call SalTblSetContext(hWndForm, 0)
.head 5 -  Call SalTblSetRowFlags(hWndForm, 0, ROW_Selected, TRUE)
.head 5 -  Call SalSendMsg(hWndForm, SAM_RowSetContext, 0, 0)
.head 5 -  Call SalWaitCursor(FALSE)
.head 2 +  Window Parameters
.head 3 -  Number: nMode
.head 3 -  Number: nParEdit	! 1-с редактированием, 0-Только просмотр 
.head 3 -  String: DB_1819		! Транзит Дебет по ожиданию поступлений на привлечение
.head 3 -  String: sWhere		! Доп.условие
.head 2 +  Window Variables
.head 3 -  : cDoc
.head 4 -  Class: cDoc
.head 3 -  Number: n980
.head 3 -  Date/Time: dBankDate
.head 3 -  Number: nParV
.head 3 -  Number: nParT
.head 3 -  Number: nParM
.head 3 -  String: sW
.head 3 -  String: sOkpo
.head 3 -  ! Для итогов
.head 3 -  Number: OSTN1
.head 3 -  Number: OSTN2
.head 3 -  Number: OSTC1
.head 3 -  Number: OSTB1
.head 3 -  Number: OSTF1
.head 3 -  Number: OSTC2
.head 3 -  Number: OSTB2
.head 3 -  Number: OSTF2
.head 3 -  Number: nS1
.head 3 -  Number: nS2
.head 3 -  Number: nI1
.head 3 -  Number: nI
.head 3 -  Number: nI2
.head 3 -  Number: nD1
.head 3 -  Number: nD2
.head 3 -  Number: nP1
.head 3 -  Number: nP2
.head 3 -  ! признак "Кредитные ресурсы": параметр DB_1819 пустой
.head 3 -  Boolean: bParKR
.head 3 -  !
.head 3 -  Number: nKurs
.head 3 -  Date/Time: pDAT
.head 3 -  Number: nAccZ
.head 3 -  Number: prRO
.head 3 -  !
.head 3 -  Number: nRow
.head 3 -  Number: nInsRow
.head 3 -  Number: nColor
.head 3 -  Window Handle: hColumnHandle
.head 3 -  Boolean: bDelRoDeal
.head 3 -  Number: nSWRef
.head 3 -  !
.head 3 -  String: sTT
.head 3 -  Number: nFli
.head 3 -  String: sNlsB_TT
.head 3 -  String: sNlsB
.head 3 -  String: sMfoB
.head 3 -  String: sPawnId
.head 3 -  !
.head 3 -  String: sPk
.head 3 -  String: sSem
.head 3 -  ! Number: nRef
.head 3 -  Number: nAcc
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  Call SalSendMsgToChildren(hWndForm, UM_QueryLabelText, 0, 0)
.head 4 -  Call SetWindowFullSize(hWndForm)
.head 4 -  Call SalTblSetLockedColumns(hWndForm, 8)
.head 4 -  ! Разбираем параметры
.head 4 +  If nParEdit = 0 
.head 5 -  Call SalDisableWindow(pbUpdate)
.head 5 -  Call SalDisableWindow(pbPay)
.head 5 -  Call SalDisableWindow(pbDel)
.head 5 -  Call SalDisableWindow(pbDelRO)
.head 5 -  Call SalDisableWindow(pbRoll)
.head 5 -  Call SalDisableWindow(pbProc)
.head 5 -  Call SalDisableWindow(pb_All_Pay)
.head 5 -  Call SalDisableWindow(pbLinkZal)
.head 5 -  Call SalDisableWindow(pbP)
.head 5 -  Call SalDisableWindow(pbUnLinkRef)
.head 5 -  ! Call SalDisableWindow(pbUnlinkAcc)
.head 4 -  Set nParV = Val(Subs(Str(nMode), 2, 1))
.head 4 -  Set nParT = Val(Subs(Str(nMode), 3, 1))
.head 4 -  Set nParM = Val(Subs(Str(nMode), 4, 1))
.head 4 -  ! nMode: 0-все, 1-кредитная линия ??? показывать КЛ во всем портфеле или только для выбранной сделки???
.head 4 -  Set nMode = Val(Subs(Str(nMode), 1, 1))
.head 4 -  Set sDB_1819 = SalStrTrimX(DB_1819)
.head 4 -  Set bParKR = IifN(sDB_1819='', TRUE, FALSE)
.head 4 -  ! Глобальные параметры
.head 4 -  Set n980      = GetBaseVal()
.head 4 -  Set dBankDate = GetBankDate()
.head 4 -  ! кнопки в соответствии с установленными модулями
.head 4 +  If not bTELEX OR nParEdit = 0
.head 5 -  Call SalDisableWindow(pbCreateTELEX)
.head 4 +  If not bSWIFT OR nParEdit = 0
.head 5 -  Call SalDisableWindow(pbCreateSWT)
.head 5 -  Call SalDisableWindow(pbILinkSWT)
.head 5 -  Call SalDisableWindow(pbIUnLinkSWT)
.head 5 -  Call SalDisableWindow(pbIViewSWT)
.head 5 -  Call SalDisableWindow(pbOLinkSWT)
.head 5 -  Call SalDisableWindow(pbOUnLinkSWT)
.head 5 -  Call SalDisableWindow(pbOViewSWT)
.head 4 +  If bNBUBANK
.head 5 -  Call SalDisableWindow(pbZalog)
.head 5 -  Call SalDisableWindow(pbZalog_All)
.head 5 -  Call SalDisableWindow(pbZ)
.head 4 +  Else
.head 5 -  Call SalHideWindow(DAT_V)
.head 4 +  If not bParKR
.head 5 -  Call SalHideWindow(pbShowComm)
.head 4 +  If not bGPK
.head 5 -  Call SalHideWindow(pbGpk)
.head 4 +  If not bMBK7
.head 5 -  Call SalHideWindow(pbMbk7)
.head 4 +  If sMBK_REPONBS = STRING_Null
.head 5 -  Call SalHideWindow(pbRepo)
.head 4 -  !
.head 4 -  Call SalSetWindowText(hWndForm, AppVersion || CurrentLangTable.GetAtomTitle('NETTO.cTWndTitle') || 
     IifS(nMode=0, "", " (Кредитная линия)"))
.head 4 -  Call PrepareWindow(hWndForm)
.head 4 -  Call SalTblSetColumnTitle(OSTCn, CurrentLangTable.GetAtomTitle('NETTO.OSTC'))
.head 4 -  Call SalTblSetColumnTitle(S1n,   CurrentLangTable.GetAtomTitle('NETTO.S1'))
.head 4 -  Call SalTblSetColumnTitle(OSTBn, CurrentLangTable.GetAtomTitle('NETTO.OSTB'))
.head 4 -  Call SalTblSetColumnTitle(OSTFn, CurrentLangTable.GetAtomTitle('NETTO.OSTF'))
.head 4 -  !
.head 4 -  Set hWndForm.NETTO.fFilterAtStart = TRUE
.head 4 -  Set hWndForm.NETTO.nTabInstance = 1
.head 4 -  Set hWndForm.NETTO.strFilterTblName = 'mbd_k'
.head 4 -  Set hWndForm.NETTO.strPrintFileName = 'mbd_k'
.head 4 -  ! валюта
.head 4 -  Set sW = IifS(nParV=1, " mbd_k.kv =:hWndForm.NETTO.n980 ", 
         IifS(nParV=2, " mbd_k.kv<>:hWndForm.NETTO.n980 ", ""))
.head 4 -  ! акт-пас
.head 4 +  If sW
.head 5 -  Set sW = sW || IifS(nParT=0, "", " AND mbd_k.tipd=:hWndForm.NETTO.nParT ") 
.head 4 +  Else
.head 5 -  Set sW = IifS(nParT=0, "", " mbd_k.tipd=:hWndForm.NETTO.nParT ") 
.head 4 -  ! класс
.head 4 +  If sW
.head 5 -  Set sW = sW || IifS(nParM=1, " AND mbd_k.nls like '1%' ", 
               IifS(nParM=2, " AND mbd_k.nls not like '1%' ", ""))
.head 4 +  Else
.head 5 -  Set sW = IifS(nParM=1, " mbd_k.nls like '1%' ", 
         IifS(nParM=2, " mbd_k.nls not like '1%' ", "")) 
.head 4 -  ! доп.условие
.head 4 +  If sW
.head 5 -  Set sW = sW || IifS(SalStrLength(sWhere)>5, " AND ( " || sWhere || ") ", "")
.head 4 +  Else
.head 5 -  Set sW = IifS(SalStrLength(sWhere)>5, sWhere, "") 
.head 4 +  !
.head 5 -  ! Set NETTO.strSqlPopulate = 
"SELECT mbd_k.USERID, mbd_k.ostc/power(10,t.dig), 
        mbd_k.ostb/power(10,t.dig), mbd_k.ostf/power(10,t.dig),
        mbd_k.kv, mbd_k.nls, mbd_k.sdate, mbd_k.wdate, 
        mbd_k.rnk, substr(mbd_k.nmk,1,38), mbd_k.cc_id, mbd_k.nd, mbd_k.acc, 
        mbd_k.limit,mbd_k.srok, mbd_k.dk, mbd_k.KPROLOG, t.dig, 
        mbd_k.bic, mbd_k.swi_ref, mbd_k.swo_ref,
        n.nls, acrN.fprocN(mbd_k.ACC,mbd_k.dk,bankdate_g), n.GRP, n.mdate,
        n.ostc/power(10,t.dig), n.ostb/power(10,t.dig), n.ostf/power(10,t.dig), i.ACR_DAT,
        mbd_k.MFOKRED, mbd_k.ACCKRED, PUL.MVPS_FIL(mbd_k.MFOKRED,mbd_k.kv),
        mbd_k.MFOPERC, mbd_k.ACCPERC, PUL.MVPS_FIL(mbd_k.MFOPERC,mbd_k.kv)
   INTO :NETTO.US,    :NETTO.OSTCn,   :NETTO.OSTBn,  :NETTO.OSTFn,
        :NETTO.KV,    :NETTO.NLS,     :NETTO.DAT,    :NETTO.DAT2,
        :NETTO.RNKK,  :NETTO.NMK,     :NETTO.CC_ID,  :NETTO.ND,      :NETTO.ACC,
        :NETTO.S1n,   :NETTO.D1,      :NETTO.TIPD,   :NETTO.KPROLOG, :NETTO.Dig, 
        :NETTO.BIC,   :NETTO.SWI_REF, :NETTO.SWO_REF,
        :NETTO.NLSN,  :NETTO.P1,      :NETTO.nGrp,   :NETTO.MdateN, 
        :NETTO.OSTNn, :NETTO.OstbN,   :NETTO.OstfN,  :NETTO.pDAT,
        :NETTO.MFOB,  :NETTO.ACCB,    :NETTO.VPSB,
        :NETTO.MFONB, :NETTO.ACCNB,   :NETTO.VPSNB
   FROM mbd_k, tabval t, accounts n, int_accn i 
  WHERE mbd_k.kv = t.kv 
    AND mbd_k.ACC = i.acc AND mbd_k.DK = i.id
    AND i.acra = n.acc " || IifS(sW!=STRING_Null, " AND (" || sW || ")", "") || "
  ORDER BY mbd_k.nd desc "
.head 4 -  Set NETTO.strSqlPopulate =
"SELECT mbd_k.userid, mbd_k.ostc/power(10,t.dig), mbd_k.ostb/power(10,t.dig), mbd_k.ostf/power(10,t.dig),
        mbd_k.kv, mbd_k.nls, mbd_k.zdate, mbd_k.sdate, mbd_k.wdate,
        mbd_k.rnk, mbd_k.okpo, substr(mbd_k.nmk,1,38), mbd_k.cc_id, mbd_k.nd, mbd_k.acc,
        mbd_k.limit, mbd_k.srok, mbd_k.vidd, mbd_k.tipd, mbd_k.kprolog, t.dig,
        mbd_k.bic, mbd_k.swi_ref, mbd_k.swo_ref,
        mbd_k.nls_n, acrN.fprocN(mbd_k.acc,mbd_k.dk,bankdate_g), mbd_k.grp_n, mbd_k.mdate_n,
        mbd_k.ostc_n/power(10,t.dig), mbd_k.ostb_n/power(10,t.dig), mbd_k.ostf_n/power(10,t.dig), mbd_k.acr_dat,
        mbd_k.mfokred, mbd_k.acckred, PUL.MVPS_FIL(mbd_k.mfokred,mbd_k.kv),
        mbd_k.mfoperc, mbd_k.accperc, PUL.MVPS_FIL(mbd_k.mfoperc,mbd_k.kv), mbd_k.nls_1819
   INTO :hWndForm.NETTO.US,    :hWndForm.NETTO.OSTCn,   :hWndForm.NETTO.OSTBn,  :hWndForm.NETTO.OSTFn,
        :hWndForm.NETTO.KV,    :hWndForm.NETTO.NLS,     :hWndForm.NETTO.DAT,    :hWndForm.NETTO.DAT_V,  :hWndForm.NETTO.DAT2,
        :hWndForm.NETTO.RNKK,  :hWndForm.NETTO.OKPO,    :hWndForm.NETTO.NMK,    :hWndForm.NETTO.CC_ID,  :hWndForm.NETTO.ND,      :hWndForm.NETTO.ACC,
        :hWndForm.NETTO.S1n,   :hWndForm.NETTO.D1,      :hWndForm.NETTO.VIDD,   :hWndForm.NETTO.TIPD,   :hWndForm.NETTO.KPROLOG, :hWndForm.NETTO.Dig,
        :hWndForm.NETTO.BIC,   :hWndForm.NETTO.SWI_REF, :hWndForm.NETTO.SWO_REF,
        :hWndForm.NETTO.NLSN,  :hWndForm.NETTO.P1,      :hWndForm.NETTO.nGrp,   :hWndForm.NETTO.MdateN,
        :hWndForm.NETTO.OSTNn, :hWndForm.NETTO.OstbN,   :hWndForm.NETTO.OstfN,  :hWndForm.NETTO.pDAT,
        :hWndForm.NETTO.MFOB,  :hWndForm.NETTO.ACCB,    :hWndForm.NETTO.VPSB,
        :hWndForm.NETTO.MFONB, :hWndForm.NETTO.ACCNB,   :hWndForm.NETTO.VPSNB, :hWndForm.NETTO.NLS_1819
   FROM mbd_k, tabval t
  WHERE mbd_k.kv = t.kv" ||
        IifS(bParKR=TRUE, " and mbd_k.nls_1819 is not null", " and mbd_k.nls_1819 is null") ||
        IifS(sW!=STRING_Null, " AND (" || sW || ")", "") || "
  ORDER BY mbd_k.nd desc "
.head 4 -  Call SalSendClassMessage(UM_Create, 0, 0)
.head 3 +  On UM_Populate
.head 4 +  If fFilterAtStart
.head 5 +  If NOT SetQueryFilter(cF)
.head 6 -  Call SalDestroyWindow(hWndForm)
.head 5 +  Else
.head 6 -  Set fFilterAtStart = NOT fFilterAtStart
.head 4 +  If NOT fFilterAtStart
.head 5 -  Call NASELENIE()
.head 3 +  On SAM_FetchRowDone
.head 4 -  Set SROK = DAT2 - dBankDate
.head 4 -  Set PL = F_PL(ND, KV, S1n, TIPD, OSTCn, OSTBn, OSTFn, DAT2, OstbN, OstfN, MdateN, pDAT, DAT2)
.head 4 +  If PL > 0
.head 5 -  Set PL = 1
.head 5 -  Call XSalTblSetRowBackColor(hWndForm, lParam, COLOR_LightGray)
.head 4 +  If KV = n980
.head 5 -  Set nKurs = 1
.head 4 +  Else
.head 5 -  If SqlPrepareAndExecute(hSqlAux2(),
"SELECT rate_o/bsum INTO :nKurs
   FROM cur_rates a
  WHERE kv=:KV
    AND (a.kv,vdate)=(select kv,max(vdate) from cur_rates b
                       where kv=a.kv and vdate<=:dBankDate group by kv)")
AND SqlFetchNext(hSqlAux2(), nFetchRes)
.head 4 -  ! Залоги
.head 4 +  If TIPD = 1
.head 5 -  ! Учитываем плановые операции по счетам Залогов
.head 5 +  If SqlPrepareAndExecute(hSqlAux2(),
"select c.acc into :nAccZ
   from cc_accp c, pawn_acc p 
  where c.accs=:ACC and c.acc=p.acc and c.nd=:ND")
.head 6 +  If SqlFetchNext(hSqlAux2(), nFetchRes)
.head 7 -  Set colZalog = TRUE
.head 5 +  If bNBUBANK
.head 6 +  If SqlPrepareAndExecute(hSqlAux2(), "select substr(mbk.get_deal_param(:ND, 'PAWN'),1,254) into :sPawnId from dual")
and SqlFetchNext(hSqlAux2(), nFetchRes) and sPawnId
.head 7 -  Set colZalog = TRUE
.head 4 -  Call SqlPrepareAndExecute(hSqlAux2(),
"select decode(count(*),0,0,1) into :colZAL
   from mbd_k_r m, oper o
  where m.ref = o.ref and o.tt = 'ZAL' and m.nd = :ND")
.head 4 -  Call SqlFetchNext(hSqlAux2(), nFetchRes)
.head 4 -  ! Для итогов
.head 4 +  If TIPD = 1	! Размещение (Кредиты)
.head 5 -  Set nColor = COLOR_DarkRed
.head 5 -  Set nI1 = nI1 + 1
.head 5 -  !
.head 5 -  Set OSTC1 = OSTC1 + OSTCn*nKurs
.head 5 -  Set OSTB1 = OSTB1 + OSTBn*nKurs
.head 5 -  Set OSTF1 = OSTC1 + OSTFn*nKurs
.head 5 -  !
.head 5 -  Set nS1 = nS1 + S1n*nKurs
.head 5 -  Set nP1 = nP1 + S1n*nKurs*P1*D1
.head 5 -  Set nD1 = nD1 + S1n*nKurs*D1
.head 4 +  Else ! Привлечение (Депозиты)
.head 5 -  Set nColor = COLOR_DarkBlue
.head 5 -  Set nI2 = nI2 + 1
.head 5 -  !
.head 5 -  Set OSTC2 = OSTC2 + OSTCn*nKurs
.head 5 -  Set OSTB2 = OSTB2 + OSTBn*nKurs
.head 5 -  Set OSTF2 = OSTC2 + OSTFn*nKurs
.head 5 -  !
.head 5 -  Set nS2 = nS2 + S1n*nKurs
.head 5 -  Set nP2 = nP2 + S1n*nKurs*P1*D1
.head 5 -  Set nD2 = nD2 + S1n*nKurs*D1
.head 4 -  !
.head 4 -  Set OSTC = Dig4(OSTCn * SalNumberPower(10, Dig)/100, Dig, 4)
.head 4 -  Set OSTB = Dig4(OSTBn * SalNumberPower(10, Dig)/100, Dig, 4)
.head 4 -  Set OSTF = Dig4(OSTFn * SalNumberPower(10, Dig)/100, Dig, 4)
.head 4 -  Set OSTN = Dig4(OSTNn * SalNumberPower(10, Dig)/100, Dig, 4)
.head 4 -  Set S1   = Dig4(S1n   * SalNumberPower(10, Dig)/100, Dig, 4)
.head 4 -  !
.head 4 -  Call StrColor(nColor)
.head 3 +  On SAM_RowSetContext
.head 4 +  If bParKR
.head 5 -  Set sDB_1819 = NLS_1819
.head 4 -  Set nKv = KV 
.head 4 -  If SqlPrepareAndExecute(hSql(),
"SELECT ostc/power(10,:Dig) INTO :ost_DB_1819 
   FROM accounts WHERE nls=:sDB_1819 and kv=:nKv")
AND SqlFetchNext(hSql(), nFetchRes)
.head 4 -  ! Сделка RollOver ?
.head 4 +  If SqlPrepareAndExecute(hSqlAux2(),
"SELECT m.ref INTO :prRO 
   FROM mbd_k_r m, oper p
  WHERE m.nd  = :ND 
    AND m.ref = (SELECT min(ref) FROM mbd_k_r WHERE nd=:ND) 
    AND m.ref = p.ref 
    AND upper(p.nazn) LIKE '%ROLLOVER%'")
.head 5 -  Call SqlFetchNext(hSqlAux2(), nFetchRes)
.head 4 +  If prRO AND DAT = dBankDate AND nParEdit != 0
.head 5 -  Call SalEnableWindow(pbDelRO)
.head 4 +  Else
.head 5 -  Call SalDisableWindow(pbDelRO)
.head 4 +  If SalStrScan(sMBK_REPONBS, Str(VIDD)) != -1
.head 5 -  Call SalEnableWindow(pbRepo)
.head 5 -  Call SalDisableWindow(pbZalog)
.head 5 -  Call SalDisableWindow(pbZalog_All)
.head 5 -  Call SalDisableWindow(pbZ)
.head 4 +  Else
.head 5 -  Call SalDisableWindow(pbRepo)
.head 5 -  Call SalEnableWindow(pbZalog)
.head 5 -  Call SalEnableWindow(pbZalog_All)
.head 5 -  Call SalEnableWindow(pbZ)
.head 3 +  On SAM_DoubleClick
.head 4 -  Call Sel008(hWndMDI, 13, ND, IifS(bParKR=TRUE, NLS_1819, DB_1819), '')
.head 3 +  On SAM_ColumnSelectClick
.head 4 -  Set hColumnHandle = SalNumberToWindowHandle(wParam)
.head 4 +  If SalNumberToWindowHandle(wParam) = SalTblGetColumnWindow(hWndForm, SalTblQueryColumnID(OSTC), COL_GetID)
.head 5 -  Set hColumnHandle = SalTblGetColumnWindow(hWndForm, SalTblQueryColumnID(OSTCn), COL_GetID)
.head 4 +  If SalNumberToWindowHandle(wParam) = SalTblGetColumnWindow(hWndForm, SalTblQueryColumnID(OSTB), COL_GetID)
.head 5 -  Set hColumnHandle = SalTblGetColumnWindow(hWndForm, SalTblQueryColumnID(OSTBn), COL_GetID)
.head 4 +  If SalNumberToWindowHandle(wParam) = SalTblGetColumnWindow(hWndForm, SalTblQueryColumnID(OSTF), COL_GetID)
.head 5 -  Set hColumnHandle = SalTblGetColumnWindow(hWndForm, SalTblQueryColumnID(OSTFn), COL_GetID)
.head 4 +  If SalNumberToWindowHandle(wParam) = SalTblGetColumnWindow(hWndForm, SalTblQueryColumnID(OSTN), COL_GetID)
.head 5 -  Set hColumnHandle = SalTblGetColumnWindow(hWndForm, SalTblQueryColumnID(OSTNn), COL_GetID)
.head 4 +  If SalNumberToWindowHandle(wParam) = SalTblGetColumnWindow(hWndForm, SalTblQueryColumnID(S1), COL_GetID)
.head 5 -  Set hColumnHandle = SalTblGetColumnWindow(hWndForm, SalTblQueryColumnID(S1n), COL_GetID)
.head 4 -  Call SalSendClassMessage(SAM_ColumnSelectClick,SalWindowHandleToNumber(hColumnHandle),0)
.head 4 -  Call SalTblSetColumnFlags(SalNumberToWindowHandle(wParam), COL_Selected, FALSE)
.head 3 +  On UM_Print
.head 4 -  Call SalShowWindow(OSTCn)
.head 4 -  Call SalShowWindow(S1n)
.head 4 -  Call SalShowWindow(OSTBn)
.head 4 -  Call SalShowWindow(OSTFn)
.head 4 -  Call SalHideWindow(OSTC)
.head 4 -  Call SalHideWindow(S1)
.head 4 -  Call SalHideWindow(OSTB)
.head 4 -  Call SalHideWindow(OSTF)
.head 4 -  Call TablePrint(hWndForm, SalFmtFormatDateTime( GetBankDate(), 'dd/MM/yyyy' ) || ': ' ||
     CurrentLangTable.GetAtomTitle('NETTO.cTWndTitle') || IifS(nMode=0, "", " (Кредитная линия)"),
     GetPrnDir() || '\\mbd_k', '')
.head 4 -  Call SalHideWindow(OSTCn)
.head 4 -  Call SalHideWindow(S1n)
.head 4 -  Call SalHideWindow(OSTBn)
.head 4 -  Call SalHideWindow(OSTFn)
.head 4 -  Call SalShowWindow(OSTC)
.head 4 -  Call SalShowWindow(S1)
.head 4 -  Call SalShowWindow(OSTB)
.head 4 -  Call SalShowWindow(OSTF)
.head 1 +  Dialog Box: Dlg_Plat
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Платежи по сделке
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left:   Default
.head 4 -  Top:    Default
.head 4 -  Width:  8.533"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 5.071"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  Data Field: dfVidd
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   1.333"
.head 6 -  Top:    0.012"
.head 6 -  Width:  6.1"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: dfKv
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 3
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   1.333"
.head 6 -  Top:    0.31"
.head 6 -  Width:  0.567"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: dfKlient
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   3.733"
.head 6 -  Top:    0.31"
.head 6 -  Width:  3.683"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  !
.head 3 -  ! * размещение (кредит) на МБ -KV2(грн), KV3(вал)
.head 3 +  Pushbutton: pb1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cPushButtonLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Отправить на размещение ОСНОВНУЮ сумму
.head 4 -  Window Location and Size
.head 5 -  Left:   1.3"
.head 5 -  Top:    1.476"
.head 5 -  Width:  6.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.357"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: None
.head 4 -  Image Style: Single
.head 4 -  Text Color: Red
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  ! Nazn = 160 (oper.nazn) + 200 (operw.value)
.head 6 -  Call SqlSetLongBindDatatype(2, 22) 
.head 6 +  If NOT SqlPrepareAndExecute(hSql(), "SELECT substr(MBK.F_GetNazn('RO',:ND),1,360) INTO :sNazn FROM dual" ) 
OR NOT SqlFetchNext(hSql(), nFetchRes) 
OR sNazn = ''
.head 7 +  If bNBUBANK
.head 8 -  ! Кошти наданi sMBdk Nazn1 Ставка sRat % рiчних. Термiн погашення eDAT.
.head 8 -  Set sNazn = CurrentLangTable.GetAtomTitle('Dlg_Plat.cTNazn11')|| " " || sMBdk || " " || Nazn1 || 
    CurrentLangTable.GetAtomTitle('Dlg_Plat.cTNazn12') || " " || sRat || " "||
    CurrentLangTable.GetAtomTitle('Dlg_Plat.cTNazn13') ||
    CurrentLangTable.GetAtomTitle('Dlg_Plat.cTNazn14') || " " || SalFmtFormatDateTime(eDAT,'dd/MM/yyyy') || "."
.head 7 +  Else
.head 8 -  ! Пролонгація | Розміщення Nazn1
.head 8 -  Set sNazn = IifS(a_ostc<0,
    CurrentLangTable.GetAtomTitle('Dlg_Plat.cTNazn16') || ' ', '') || 
    CurrentLangTable.GetAtomTitle('Dlg_Plat.cTNazn17') || ' ' || Nazn1
.head 6 -  ! назначение передаем как есть, в окне ввода платежа назначение обрежет до 160,
  остальное пойдет в доп. рекв. П
.head 6 -  ! Set sNazn = Subs(sNazn, 1, 160)
.head 6 +  ! If bNBUBANK
.head 7 -  ! Застава
.head 7 +  If sPawnId != ''
.head 8 -  Set sPawnName = ''
.head 8 -  Call SqlPrepareAndExecute(hSql(), "select name into :sPawnName from cc_pawn where pawn=:sPawnId")
.head 8 +  If SqlFetchNext(hSql(), nFetchRes)
.head 9 -  Set sNazn = Subs(sNazn || sPawnName, 1, 160)
.head 6 +  If dfKv != 643
.head 7 -  Set cDR.s58 = IifS(SSB='', '', '/' || SSB || PutCrLf()) || MFO
.head 6 +  Else
.head 7 -  Set cDR.s58 = s58D
.head 6 -  Set cDR.s72 = '/BNF/LEND RE AGR NO.' || CC_ID || PutCrLf() || 
              '//DD.' || SalFmtFormatDateTime(uDAT,'dd.MM.yyyy')
.head 6 -  Set hWinW = SalCreateWindow(CB_VVOD1, hWndForm, 
    IifS(MFO=GetBankMfo(), 'KV1', IifS(nVPS=1, IifS(bParKR=TRUE, 'KV7', 'KV2'), 'KV3')) ,
    dfKv, sNd, n_S + a_ostc/SalNumberPower(10,nDig), a_nls, SSB, 
    MFO, dfKlient, sNazn, IifD(uDAT<dBankDate, dBankDate, uDAT), sOKPO, 
    IifS(Id_DCP>0, D_REC, STRING_Null), Id_DCP, 0, 
    b_nls, sRat, CC_ID, cDR)
.head 3 -  ! * Ожидать погашение кредита  с КС WD1 
.head 3 +  Pushbutton: pb2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cPushButtonLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Принять погашение ОСНОВНОЙ суммы
.head 4 -  Window Location and Size
.head 5 -  Left:   1.3"
.head 5 -  Top:    1.869"
.head 5 -  Width:  6.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.357"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: None
.head 4 -  Image Style: Single
.head 4 -  Text Color: Blue
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SqlSetLongBindDatatype(2, 22) 
.head 6 +  If NOT SqlPrepareAndExecute(hSql(), 
"SELECT substr(MBK.F_GetNazn('RP',:ND),1,360) INTO :sNazn FROM dual" ) 
OR NOT SqlFetchNext(hSql(), nFetchRes) 
OR sNazn = ''
.head 7 +  If bNBUBANK
.head 8 -  ! Погашення кредиту. sKlient Розпорядження № CC_ID вiд uDAT.
.head 8 -  Set sNazn = 
    CurrentLangTable.GetAtomTitle('Dlg_Plat.cTNazn21') || dfKlient || " " ||
    CurrentLangTable.GetAtomTitle('Dlg_Plat.cTNazn22') || " " || CC_ID || " " ||
    CurrentLangTable.GetAtomTitle('cTNaznOt') || " " || SalFmtFormatDateTime(uDAT, 'dd/MM/yyyy') || '.'
.head 7 +  Else
.head 8 -  ! Погашення розміщень Nazn1
.head 8 -  Set sNazn = CurrentLangTable.GetAtomTitle('Dlg_Plat.cTNazn23') || ' ' || Nazn1
.head 6 -  Set sNazn   = Subs(sNazn, 1, 160)
.head 6 -  Set DAT_VAL = eDAT
.head 6 -  Set Sum_Deb = -a_ostb/SalNumberPower(10,nDig)
.head 6 -  !
.head 6 -  Call SalModalDialog(Dlg_Plat1, hWndForm, 
     ND, dfKlient, dfKv, DB_1819, DAT_VAL, Sum_Deb, a_nls, sNazn,
     bNBUBANK, STRING_Null, 0) 
.head 6 -  ! ручная проводка
.head 6 +  If not cb_SWIFT
.head 7 -  ! SSA - счет для входа валюты
.head 7 -  ! Если без транзитного счета (и без деб.задолж.), AccK=осн.счет
.head 7 -  ! Если не указан счет для входа валюты (SSA) для филиалов,
  берем основной счет для отправки (SSB) (если он внутренний)
.head 7 -  Set hWinW = SalCreateWindow(CB_VVOD1, hWndForm, 
    'WD1', dfKv, sNd, Sum_Deb, 
    IifS(SSA = '' AND Subs(Str(nVidd),1,1) = '3' AND GetBaseVal() = 980 AND MFO = GetBankMfo(), SSB, SSA), 
    IifS(DB_1819='', a_nls, DB_1819), 
    MFO, dfKlient, sNazn, DAT_VAL, sOKPO,
    STRING_Null, NUMBER_Null, 1,
    STRING_Null, STRING_Null, STRING_Null, cDR) 
.head 6 +  Else
.head 7 -  Call F_Pb() 
.head 3 -  ! * Ожидать погашение процентов с КС WD1 
.head 3 +  Pushbutton: pb3
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cPushButtonLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Принять погашение ПРОЦЕНТОВ
.head 4 -  Window Location and Size
.head 5 -  Left:   1.3"
.head 5 -  Top:    2.631"
.head 5 -  Width:  6.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.357"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: None
.head 4 -  Image Style: Single
.head 4 -  Text Color: Dark Blue
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SqlSetLongBindDatatype(2, 22) 
.head 6 +  If NOT SqlPrepareAndExecute(hSql(), "SELECT substr(MBK.F_GetNazn('RPP',:ND),1,360) INTO :sNazn FROM dual" ) 
OR NOT SqlFetchNext(hSql(), nFetchRes) 
OR sNazn = ''
.head 7 +  If bNBUBANK
.head 8 -  ! Погашення нарах.дох. sKlient Розпорядження № CC_ID вiд uDAT.
.head 8 -  Set sNazn = 
    CurrentLangTable.GetAtomTitle('Dlg_Plat.cTNazn31') || " " || dfKlient || " " ||
    CurrentLangTable.GetAtomTitle('Dlg_Plat.cTNazn22') || " " || CC_ID || " " ||
    CurrentLangTable.GetAtomTitle('cTNaznOt') || " " || SalFmtFormatDateTime(uDAT, 'dd/MM/yyyy') || '.'
.head 7 +  Else
.head 8 -  ! Погашення процентів по розміщенню Nazn1
.head 8 -  Set sNazn = CurrentLangTable.GetAtomTitle('Dlg_Plat.cTNazn32') || ' ' || Nazn1
.head 6 -  Set sNazn   = Subs(sNazn, 1, 160)
.head 6 -  Set DAT_VAL = GetBankDate()
.head 6 -  Set Sum_Deb = -b_ostb/SalNumberPower(10,nDigN)
.head 6 -  Call SalModalDialog(Dlg_Plat1, hWndForm, 
     ND, dfKlient, dfKv, DB_1819, DAT_VAL, Sum_Deb, b_nls, sNazn, 
     bNBUBANK, CurrentLangTable.GetAtomTitle('Dlg_Plat.cTNazn33') || " " || Nazn1, nAcrb) 
.head 6 +  If not cb_SWIFTN
.head 7 -  ! Если не указан счет для входа валюты (SSA) для филиалов,
  берем счет нач. %% для отправки (SNB) (если он внутренний)
.head 7 -  Set hWinW = SalCreateWindow(CB_VVOD1, hWndForm, 
    'WD1', dfKv, sNd, Sum_Deb, 
    IifS(SSA = '' AND Subs(Str(nVidd),1,1) = '3' AND GetBaseVal() = 980 AND MFO = GetBankMfo(), SSB, SSA), 
    IifS(DB_1819='', b_nls, DB_1819), 
    MFON, dfKlient, sNazn, DAT_VAL, sOKPO,
    STRING_Null, NUMBER_Null, 1, 
    STRING_Null, STRING_Null, STRING_Null, cDR) 
.head 6 +  Else
.head 7 -  Call F_Pb() 
.head 3 -  ! * раскрыть депозит из транзита KV1 + (ТОЛЬКО для валюты: Ожидать поступления с КС WD1 )
.head 3 +  Pushbutton: pb4
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cPushButtonLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Принять на привлечение ОСНОВНУЮ сумму 
.head 4 -  Window Location and Size
.head 5 -  Left:   1.3"
.head 5 -  Top:    3.012"
.head 5 -  Width:  6.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.357"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: None
.head 4 -  Image Style: Single
.head 4 -  Text Color: Blue
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SqlSetLongBindDatatype(2, 22) 
.head 6 +  If NOT SqlPrepareAndExecute(hSql(), "SELECT substr(MBK.F_GetNazn('PP',:ND),1,360) INTO :sNazn FROM dual" ) 
OR NOT SqlFetchNext(hSql(), nFetchRes) 
OR sNazn = ''
.head 7 -  ! Залучення Nazn1
.head 7 -  Set sNazn = CurrentLangTable.GetAtomTitle('Dlg_Plat.cTNazn41') || ' '  || Nazn1
.head 6 -  Set DAT_VAL = uDAT 
.head 6 -  Set Sum_Deb = n_S-a_ostc/SalNumberPower(10,nDig)
.head 6 -  Call SalModalDialog(Dlg_Plat1, hWndForm, 
     ND, dfKlient, dfKv, DB_1819, DAT_VAL, Sum_Deb, a_nls, sNazn,
     bNBUBANK, STRING_Null, 0) 
.head 6 +  If not cb_SWIFT
.head 7 -  ! Если не указан счет для входа валюты (SSA) для филиалов,
  берем основной счет для отправки (SSB) (если он внутренний)
.head 7 -  Set hWinW = SalCreateWindow(CB_VVOD1, hWndForm, 
    'WD1', dfKv, sNd, Sum_Deb, 
    IifS(SSA = '' AND Subs(Str(nVidd),1,1) = '3' AND GetBaseVal() = 980 AND MFO = GetBankMfo(), SSB, SSA), 
    IifS(DB_1819='', a_nls, DB_1819), 
    MFO, dfKlient, sNazn, IifD(DAT_VAL<dBankDate, dBankDate, DAT_VAL), sOKPO,
    STRING_Null, NUMBER_Null, 1,
    STRING_Null, STRING_Null, STRING_Null, cDR) 
.head 6 +  Else
.head 7 -  Call F_Pb() 
.head 3 -  ! * начислить %% - доходы  %%1, %00
.head 3 +  Pushbutton: pbPD
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cPushButtonLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Начислить ПРОЦЕНТЫ /доходы
.head 4 -  Window Location and Size
.head 5 -  Left:   1.3"
.head 5 -  Top:    2.25"
.head 5 -  Width:  6.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.357"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: None
.head 4 -  Image Style: Single
.head 4 -  Text Color: Black
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call Sel010(hWndMDI, 0, 0, " and s.acc in (select acc from int_accn where acra=" || Str(ACCN) || ")", 
     " " || SalFmtFormatDateTime(GetProcDate(eDAT-1), 'dd/MM/yyyy') || Str(ND))
.head 6 -  Call SalEndDialog(hWndForm, TRUE)
.head 3 -  ! * начислить %% - расходы  %%1, %02
.head 3 +  Pushbutton: pbPR
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cPushButtonLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Начислить ПРОЦЕНТЫ /расходы
.head 4 -  Window Location and Size
.head 5 -  Left:   1.3"
.head 5 -  Top:    3.774"
.head 5 -  Width:  6.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.357"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: None
.head 4 -  Image Style: Single
.head 4 -  Text Color: Black
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call Sel010(hWndMDI, 0, 0, " and s.acc in (select acc from int_accn where acra=" || Str(ACCN) || ")",
     " " || SalFmtFormatDateTime(GetProcDate(eDAT-1), 'dd/MM/yyyy') || Str(ND))
.head 6 -  Call SalEndDialog(hWndForm, TRUE)
.head 3 -  ! * вернуть депозит  WD2, WD3
.head 3 +  Pushbutton: pb5
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cPushButtonLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Отправить возврат ОСНОВНОЙ суммы
.head 4 -  Window Location and Size
.head 5 -  Left:   1.3"
.head 5 -  Top:    3.393"
.head 5 -  Width:  6.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.357"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: None
.head 4 -  Image Style: Single
.head 4 -  Text Color: Red
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SqlSetLongBindDatatype(2, 22) 
.head 6 +  If NOT SqlPrepareAndExecute(hSql(), "SELECT substr(MBK.F_GetNazn('PO',:ND),1,360) INTO :sNazn FROM dual" ) 
OR NOT SqlFetchNext(hSql(), nFetchRes) 
OR sNazn = ''
.head 7 -  ! Повернення залучень Nazn1
.head 7 -  Set sNazn = CurrentLangTable.GetAtomTitle('Dlg_Plat.cTNazn51') ||' '  || Nazn1
.head 6 -  ! Call Debug ('a_ostc/100='||Str(a_ostc/100) ||' , n_S ='|| Str(n_S)) 
.head 6 +  If dfKv != 643
.head 7 -  Set cDR.s58 = IifS(SSB='', '', '/' || SSB || PutCrLf()) || MFO
.head 6 +  Else
.head 7 -  Set cDR.s58 = s58D
.head 6 -  Set cDR.s72 = '/BNF/RETURN FUNDS RE AGR NO.' || CC_ID || PutCrLf() || 
              '//DD.' || SalFmtFormatDateTime(uDAT,'dd.MM.yyyy')
.head 6 +  If ( a_ostc / SalNumberPower(10,nDig) - n_S) > 0
.head 7 -  Set hWinW = 
SalCreateWindow(CB_VVOD1, hWndForm, 
    IifS(MFO=GetBankMfo(), 'WD1', IifS(nVPS=1, IifS(bParKR=TRUE, 'WD7', 'WD2'), 'WD3')),
    dfKv, sNd, (a_ostc/SalNumberPower(10,nDig)- n_S), a_nls, SSB, 
    MFO, dfKlient, sNazn, eDAT, sOKPO,
    STRING_Null, NUMBER_Null, 0,
    STRING_Null, STRING_Null, STRING_Null, cDR) 
.head 6 +  Else If a_ostc > 0
.head 7 -  Set hWinW = 
SalCreateWindow(CB_VVOD1, hWndForm, 
    IifS(MFO=GetBankMfo(), 'WD1', IifS(nVPS=1, IifS(bParKR=TRUE, 'WD7', 'WD2'), 'WD3')),
    dfKv, sNd, a_ostc/SalNumberPower(10,nDig) , a_nls, SSB, 
    MFO, dfKlient, sNazn, eDAT, sOKPO,
    STRING_Null, NUMBER_Null, 0,
    STRING_Null, STRING_Null, STRING_Null, cDR) 
.head 3 -  ! * перечислить % по депозиту WD2, WD3
.head 3 +  Pushbutton: pb6
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cPushButtonLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Отправить начисленные ПРОЦЕНТЫ
.head 4 -  Window Location and Size
.head 5 -  Left:   1.3"
.head 5 -  Top:    4.155"
.head 5 -  Width:  6.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.357"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: None
.head 4 -  Image Style: Single
.head 4 -  Text Color: Dark Red
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SqlSetLongBindDatatype(2, 22) 
.head 6 +  If NOT SqlPrepareAndExecute(hSql(), "SELECT substr(MBK.F_GetNazn('PPO',:ND),1,360) INTO :sNazn FROM dual" ) 
OR NOT SqlFetchNext(hSql(), nFetchRes) 
OR sNazn = ''
.head 7 -  ! Погашення процентів по залученням Nazn1
.head 7 -  Set sNazn = CurrentLangTable.GetAtomTitle('Dlg_Plat.cTNazn61') || ' ' || Nazn1
.head 6 +  If dfKv != 643
.head 7 -  Set cDR.s58 = IifS(SNB='', '', '/' || SNB || PutCrLf()) || MFON
.head 6 +  Else
.head 7 -  Set cDR.s58 = s58D
.head 6 -  Set cDR.s72 = '/BNF/INTEREST RE AGR NO.' || CC_ID || PutCrLf() || 
              '//DD.' || SalFmtFormatDateTime(uDAT,'dd.MM.yyyy')
.head 6 -  Set hWinW = SalCreateWindow(CB_VVOD1, hWndForm,
    IifS(MFON=GetBankMfo(), 'WD1', IifS(nVPSN=1, IifS(bParKR=TRUE, 'WD7', 'WD2'), 'WD3')),
    dfKv, sNd, b_ostb/SalNumberPower(10,nDigN), b_nls, SNB,
    MFON, dfKlient, sNazn, dBankDate, sOKPO,
    STRING_Null, NUMBER_Null, 0,
    STRING_Null, STRING_Null, STRING_Null, cDR)
.head 3 -  ! !!!!!!!!!
.head 3 +  Pushbutton: pb9
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: ctb_pbRefresh
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.8"
.head 5 -  Top:    0.0"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Set strTip = 'Перечитать состояние возможных операций'
.head 6 -  Set strTip = CurrentLangTable.GetAtomTitle('Dlg_Plat.cBTip9')
.head 5 +  On SAM_Click
.head 6 -  Call F_Pb()
.head 3 +  Pushbutton: pbBuch
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: ctb_pbRefresh
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.8"
.head 5 -  Top:    0.345"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: \BARS98\RESOURCE\BMP\Look.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Set strTip = 'Просмотр Бух.модели сделки '
.head 6 -  Set strTip = CurrentLangTable.GetAtomTitle('cBTipBuch')
.head 5 +  On SAM_Click
.head 6 -  Call Sel008f(hWndMDI,13, ND, '0' ,'0')
.head 3 +  Data Field: sDB_1819
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 15
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   1.917"
.head 6 -  Top:    0.548"
.head 6 -  Width:  1.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: MFO
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 15
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   1.917"
.head 6 -  Top:    0.31"
.head 6 -  Width:  1.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: ost_DB_1819
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   3.733"
.head 6 -  Top:    0.56"
.head 6 -  Width:  3.683"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Check Box: cb_SWIFT
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cCheckBoxLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Автоматическое поступление из платежной системы
.head 4 -  Window Location and Size
.head 5 -  Left:   1.917"
.head 5 -  Top:    0.905"
.head 5 -  Width:  5.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cb_SWIFTN
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cCheckBoxLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Автоматическое поступление из платежной системы
.head 4 -  Window Location and Size
.head 5 -  Left:   1.917"
.head 5 -  Top:    1.179"
.head 5 -  Width:  5.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 -  Background Text: Основная сумма
.head 4 -  Resource Id: 40959
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.333"
.head 5 -  Top:    0.929"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgSWIFT
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Проценты
.head 4 -  Resource Id: 40960
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.333"
.head 5 -  Top:    1.214"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgSWIFTN
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 2 +  Functions
.head 3 +  Function: F_Pb
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nPrv	! Признак валюты
.head 5 -  String: SWO_BIC
.head 5 -  String: SWO_ACC
.head 5 -  String: sAltPartyb
.head 5 -  String: sIntermB
.head 5 -  String: sBIC
.head 4 +  Actions
.head 5 -  Call SalDisableWindow(pb1)
.head 5 -  Call SalDisableWindow(pb2)
.head 5 -  Call SalDisableWindow(pb3)
.head 5 -  Call SalDisableWindow(pbPD)
.head 5 -  !
.head 5 -  Call SalDisableWindow(pb4)
.head 5 -  Call SalDisableWindow(pb5)
.head 5 -  Call SalDisableWindow(pb6)
.head 5 -  Call SalDisableWindow(pbPR)
.head 5 -  !
.head 5 -  Call SalHideWindow(cb_SWIFT)
.head 5 -  Call SalHideWindow(cb_SWIFTN)
.head 5 -  Call SalSetWindowLabelText(bgSWIFT, '')
.head 5 -  Call SalSetWindowLabelText(bgSWIFTN, '')
.head 5 -  !
.head 5 +  If not SqlPrepareAndExecute(hSql(),
"SELECT m.a_nls, m.a_ostc, m.a_ostb+m.a_ostf, m.a_ostf, m.a_mdate, m.a_kv,
        m.b_nls, m.b_ostc, m.b_ostb+m.b_ostf, m.b_ostf, m.b_mdate, 
        m.vidd_name, m.s,  m.MFOKRED, m.ACCKRED, m.ACCPERC, m.mfoperc, 
        m.date_u,m.date_v, m.date_end, m.ACR_DAT, m.a_acc, m.b_acc, m.tipd, 
        m.vidd,  substr(nvl(m.nmkk,m.nmk),1,38), m.COUNTRY,  m.okpo, m.kod_b, m.refp, 
        m.cc_id, m.num_nd, m.DAT_ND, m.vidd_name, 
        to_char(acrn.fproc(m.a_acc)), nvl(m.acrb,0), 
        '#d'||p.MDOA||p.MDOB||p.ID_UG||to_char(p.DAT_UG,'YYYYMMDD')||p.OZN_SP||'#', 
        p.id, t.prv, t.dig, tn.dig, PUL.MVPS_FIL(m.MFOKRED,m.a_kv) , PUL.MVPS_FIL(m.mfoperc,m.a_kv) ,
        substr(mbk.get_deal_param(m.nd, 'PAWN'),1,254),
        m.swo_bic, m.swo_acc, m.alt_partyb, m.interm_b, m.field_58d, m.bic,
        nvl2(nls_1819, 1, 0)
   INTO :a_nls,  :a_ostc,    :a_ostb, :a_ostf,     :a_mdate, :dfKv,
        :b_nls,  :b_ostc,    :b_ostb, :b_ostf,     :b_mdate,
        :dfVidd, :n_S,       :MFO,    :SSB,        :SNB,  :MFON,
        :uDAT,   :vDAT,      :eDAT,   :pDAT, :ACC, :ACCN, :nTipd, 
        :nVidd,  :dfKlient,  :Val_KOD_G, :sOKPO,   :Val_KOD_B, :SSA,
        :CC_ID,  :Nazn1,     :DAT_ND, :sMBdk,      :sRat, :nAcrb,
        :D_REC,  :Id_DCP, :nPrv, :nDig, :nDigN, :nVPS, :nVPSN, :sPawnId,
        :SWO_BIC, :SWO_ACC, :sAltPartyb, :sIntermB, :s58D, :sBIC, :bParKR
   FROM mbk_deal m, tabval t, tabval tn, DCP_P P
  WHERE m.nd = :ND AND P.ref(+) = -m.nd AND m.a_kv=t.kv AND m.b_kv=tn.kv")
.head 6 -  Return FALSE
.head 5 +  If not SqlFetchNext(hSql(), nFetchRes)
.head 6 -  Return FALSE
.head 5 -  !
.head 5 -  Set cDR.KOD_G = Val_KOD_G
.head 5 -  Set cDR.KOD_B = Val_KOD_B
.head 5 -  Set cDR.s56 = sIntermB
.head 5 +  If dfKv != 643
.head 6 -  Set cDR.s57 = IifS(SWO_ACC='', '', '/' || SWO_ACC || PutCrLf()) || SWO_BIC
.head 5 +  Else
.head 6 -  Set cDR.s57 = sAltPartyb
.head 5 -  Set cDR.s58 = STRING_Null
.head 5 -  Set cDR.s72 = STRING_Null
.head 5 -  ! == Формат поля ost_DB_1819
.head 5 +  If nDig
.head 6 -  Set sFormat = '#0'||XSalGetDecimalSeparator()||SalStrRepeatX( '0', nDig )
.head 5 +  Else
.head 6 -  Set sFormat = '#0'
.head 5 -  Call SalFmtSetPicture(ost_DB_1819, sFormat)
.head 5 -  ! == SWIFT
.head 5 +  If dfKv = GetBaseVal() and dfKv = 980 
.head 6 -  Set cb_SWIFT  = TRUE
.head 6 -  Set cb_SWIFTN = TRUE
.head 5 +  Else
.head 6 -  ! Внедрен ли SWIFT ? 
.head 6 -  Set cb_SWIFT  = bSWIFT_MB
.head 6 -  Set cb_SWIFTN = cb_SWIFT
.head 5 -  ! == cb_SWIFT - основная сумма, Автоматическое поступление из платежной системы
.head 5 +  If MFO = GetBankMfo()
.head 6 -  Set cb_SWIFT = FALSE
.head 5 +  Else If nVPS = 1
.head 6 -  Set cb_SWIFT = TRUE
.head 5 -  ! == cb_SWIFTN - проценты, Автоматическое поступление из платежной системы
.head 5 +  If MFON = GetBankMfo()
.head 6 -  Set cb_SWIFTN = FALSE
.head 5 +  Else If nVPSN = 1
.head 6 -  Set cb_SWIFTN = TRUE
.head 5 -  ! == Nazn
.head 5 -  ! Для НБУ
.head 5 +  If bNBUBANK
.head 6 -  ! dfKlient Розп.НБУ № CC_ID вiд uDAT.
.head 6 -  Set Nazn1 = dfKlient || " " ||
    CurrentLangTable.GetAtomTitle('Dlg_Plat.cTNazn71') || " " || CC_ID || " " ||
    CurrentLangTable.GetAtomTitle('cTNaznOt') || " " || SalFmtFormatDateTime(uDAT, 'dd/MM/yyyy') || ". "
.head 5 -  ! Для 3 класса по МЕжФилиальнім
.head 5 +  Else If Subs(a_nls,1,2)='39' and sMBD_LET != STRING_Null
.head 6 -  Set Nazn1 = ' кредитних ресурсів. ' || dfKlient || '. ' ||
    sMBD_LET || ' '  || CC_ID || ' від ' || SalFmtFormatDateTime(uDAT, 'dd/MM/yyyy')
.head 5 -  ! Для 1 класса
.head 5 +  Else If Subs(a_nls,1,1)='1' and sMBD_TIK != STRING_Null
.head 6 -  Set Nazn1 = ' кредитних ресурсів. ' || dfKlient || '. ' ||
    sMBD_TIK || ' '  || CC_ID || ' від ' || SalFmtFormatDateTime(uDAT, 'dd/MM/yyyy')
.head 5 -  ! Иначе
.head 5 +  Else
.head 6 -  Set sMBdk = Subs(sMBdk, 1, 3)
.head 6 -  ! sMBdk. Ген.угода Nazn1 від DAT_ND dfKlient Договір CC_ID від uDAT
.head 6 -  Set Nazn1 = sMBdk || '. '||
    IifS(SalStrTrimX(Nazn1)=STRING_Null, '',
         CurrentLangTable.GetAtomTitle('cTNaznGenUgoda') || ' ' || Nazn1 || ' ') || 
    IifS(DAT_ND=DATETIME_Null, '',
         CurrentLangTable.GetAtomTitle('cTNaznOt') || ' ' || SalFmtFormatDateTime(DAT_ND, 'dd/MM/yyyy') || ' ' ) || 
    dfKlient || ' ' ||
    CurrentLangTable.GetAtomTitle('cTNaznDogovor') || ' ' || CC_ID || ' ' ||
    CurrentLangTable.GetAtomTitle('cTNaznOt') || ' ' || SalFmtFormatDateTime(uDAT, 'dd/MM/yyyy')
.head 5 -  ! == pb: для ВАЛЮТЫ с ВПС как для ГРН
.head 5 +  If nTipd = 1
.head 6 -  ! выдать/довыдать кредит (Если оп. на размещение ввели (даже если она еще плановая), кнопку не показываем)
  a.ostc<nS and a.ostb<nS and a.mdate>GetBankDate()
.head 6 +  If T1_OutS(nTipd, n_S*SalNumberPower(10,nDig), a_ostc, a_ostb-a_ostf, a_ostf, a_mdate, vDAT)
.head 7 -  If nVidd = 1526
.head 7 +  Else
.head 8 -  Call SalEnableWindow(pb1)
.head 6 -  ! принять погашение кредита
  a.ostb+a.ostf<0 and a.mdate>=GetBankDate() AND (KV != GetBaseVal() AND NOT nVPS OR bMBD_NV)
.head 6 +  If T1_InS(nTipd, a_ostb-a_ostf, a_ostf, a_mdate, dfKv, nVPS)
.head 7 -  Call SalEnableWindow(pb2)
.head 7 -  Call SalShowWindow(cb_SWIFT)
.head 7 -  Call SalSetWindowLabelText(bgSWIFT, 'Основная сумма')
.head 7 -  ! Call SalSetWindowLabelText( bgSWIFT, CurrentLangTable.GetAtomTitle('Dlg_Plat.bgSWIFT') )
.head 6 -  ! принять погашение процентов
  b.ostb+b.ostf<0 and b.mdate>=GetBankDate()
.head 6 +  If T1_InSN(nTipd, b_ostb-b_ostf, b_ostf, b_mdate, dfKv, nVPS)
.head 7 -  Call SalEnableWindow(pb3)
.head 7 -  Call SalShowWindow(cb_SWIFTN)
.head 7 -  Call SalSetWindowLabelText(bgSWIFTN, 'Проценты')
.head 7 -  ! Call SalSetWindowLabelText( bgSWIFTN, CurrentLangTable.GetAtomTitle('Dlg_Plat.bgSWIFTN') )
.head 6 -  ! Начислить % - доходы
  для НБУ-металлов %% нач. по-другому
.head 6 +  If not (bNBUBANK and nPrv) and 
   (pDAT = DATETIME_Null OR pDAT < eDAT -1)
.head 7 -  Call SalEnableWindow(pbPD)
.head 5 +  Else
.head 6 -  ! принять/допринять на депозит для валюты или для грн по фл.MBD_NV
  a.ostc<nS and a.ostb<nS and a.ostf<nS and a.mdate>GetBankDate()
.head 6 +  If T2_InS(nTipd, n_S*SalNumberPower(10,nDig), a_ostc, a_ostb-a_ostf, a_ostf, a_mdate, dfKv, nVPS)
.head 7 -  Call SalEnableWindow(pb4)
.head 7 -  Call SalShowWindow(cb_SWIFT)
.head 7 -  Call SalSetWindowLabelText(bgSWIFT, 'Основная сумма')
.head 7 -  ! Call SalSetWindowLabelText( bgSWIFT, CurrentLangTable.GetAtomTitle('Dlg_Plat.bgSWIFT') )
.head 6 -  ! вернуть депозит
  a.ostb>0 and a.ostf=0 and a.mdate>GetBankDate()
.head 6 +  If T2_OutS(nTipd, a_ostb-a_ostf, a_ostf, a_mdate)
.head 7 -  Call SalEnableWindow(pb5)
.head 6 -  ! перечислить % по депозиту
  b.ostf=0 and (b.ostb>0 or b.mdate>=GetBankDate())
.head 6 +  If T2_OutSN(nTipd, b_ostb-b_ostf, b_ostf, b_mdate)
.head 7 -  Call SalEnableWindow(pb6)
.head 6 -  ! Начислить % - расходы
.head 6 +  If (pDAT = DATETIME_Null or pDAT < eDAT -1)
.head 7 -  Call SalEnableWindow(pbPR)
.head 5 -  Return TRUE
.head 3 +  Function: GetProcDate
.head 4 -  Description: Меньшее из :Дата конца договора-1  или Дата конца текущего месяца 
Дата конца следующего месяца (если в этом мес уже % начислены)
.head 4 +  Returns
.head 5 -  Date/Time:
.head 4 +  Parameters
.head 5 -  Date/Time: eDAT
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Date/Time: DAT31
.head 5 -  Date/Time: DAT_
.head 4 +  Actions
.head 5 +  If pDAT=DATETIME_Null or pDAT < dBankDate
.head 6 -  Set DAT_=dBankDate
.head 5 +  Else
.head 6 -  Set DAT_=pDAT+1
.head 5 +  If SqlPrepareAndExecute( hSql(),
"SELECT least( last_day(:DAT_),:eDAT)  INTO :DAT31 from dual ") and 
SqlFetchNext (hSql (), nFetchRes)
.head 6 -  Return DAT31
.head 2 +  Window Parameters
.head 3 -  Number: ND
.head 3 -  String: DB_1819
.head 2 +  Window Variables
.head 3 -  : cDoc
.head 4 -  Class: cDoc
.head 3 -  Date/Time: dBankDate
.head 3 -  String: sNd
.head 3 -  ! Основной счет
.head 3 -  String: a_nls
.head 3 -  Number: a_ostc
.head 3 -  Number: a_ostb
.head 3 -  Number: a_ostf
.head 3 -  Date/Time: a_mdate
.head 3 -  ! Счет нач.%%
.head 3 -  String: b_nls
.head 3 -  Number: b_ostc
.head 3 -  Number: b_ostb
.head 3 -  Number: b_ostf
.head 3 -  Date/Time: b_mdate
.head 3 -  !
.head 3 -  String: D_REC
.head 3 -  Number: Id_DCP
.head 3 -  Number: nVPS
.head 3 -  Number: nVPSN
.head 3 -  !
.head 3 -  Date/Time: DAT_VAL
.head 3 -  Number: Sum_Deb
.head 3 -  !
.head 3 -  Number: nRef
.head 3 -  Number: nTipd
.head 3 -  Number: nVidd
.head 3 -  Number: ACC
.head 3 -  Number: ACCN
.head 3 -  Number: n_S
.head 3 -  String: CC_ID
.head 3 -  String: Nazn1
.head 3 -  Date/Time: DAT_ND
.head 3 -  String: SSB
.head 3 -  String: SSA
.head 3 -  String: SNB
.head 3 -  String: MFON
.head 3 -  String: s58D
.head 3 -  String: sTmp
.head 3 -  ! String: Val_57
.head 3 -  ! String: Val_58
.head 3 -  String: Val_KOD_G
.head 3 -  String: Val_KOD_B
.head 3 -  String: sOKPO
.head 3 -  Long String: sNazn
.head 3 -  Date/Time: uDAT	! Дата угоди
.head 3 -  Date/Time: vDAT	! Дата валютирования
.head 3 -  Date/Time: eDAT	! Дата окончания
.head 3 -  Date/Time: pDAT	! ACR_DAT
.head 3 -  !
.head 3 -  String: sMBdk
.head 3 -  Number: nAcrb
.head 3 -  String: sRat
.head 3 -  Number: nDig
.head 3 -  Number: nDigN
.head 3 -  String: sFormat
.head 3 -  String: sPawnId		! Id застави
.head 3 -  String: sPawnName	! Name застави
.head 3 -  Boolean: bParKR		! признак кредитных ресурсов
.head 3 -  !
.head 3 -  : cDR
.head 4 -  Class: cDopR
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  Call SetWindowFont(hWndForm)
.head 4 -  ! Присваиваем значения многоязыковым объектам
.head 4 -  Call SalSendMsgToChildren(hWndForm, UM_QueryLabelText, 0, 0)
.head 4 -  Call SalSetWindowText(hWndForm, CurrentLangTable.GetAtomTitle('Dlg_Plat.cTWndTitle'))
.head 4 -  ! Инициализация переменных
.head 4 -  Set sDB_1819  = DB_1819
.head 4 -  Set dBankDate = GetBankDate()
.head 4 -  Set sNd = IifS(sMBK_ND='REF', '', Str(ND))
.head 4 -  ! Кнопки
.head 4 -  Call F_Pb() 
.head 3 +  On SAM_User
.head 4 -  Call F_Pb()
.head 1 +  Dialog Box: FREE
.head 2 -  Class: cGenericTableDlg
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title:
.head 2 -  Accesories Enabled? Class Default
.head 2 -  Visible? Class Default
.head 2 -  Display Settings
.head 3 -  Display Style? Class Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Class Default
.head 3 -  Window Location and Size
.head 4 -  Left:   Default
.head 4 -  Top:    Default
.head 4 -  Width:  Class Default
.head 4 -  Width Editable? Class Default
.head 4 -  Height: Class Default
.head 4 -  Height Editable? Class Default
.head 3 -  Absolute Screen Location? Class Default
.head 3 -  Font Name: Class Default
.head 3 -  Font Size: Class Default
.head 3 -  Font Enhancement: Class Default
.head 3 -  Text Color: Class Default
.head 3 -  Background Color: Class Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Class Default
.head 4 -  Location? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Size: Class Default
.head 4 -  Size Editable? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 3 +  Contents
.head 4 +  Pushbutton: pbIns
.head 5 -  Class Child Ref Key: 11
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTableDlg
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbDel
.head 5 -  Class Child Ref Key: 12
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTableDlg
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbRefresh
.head 5 -  Class Child Ref Key: 20
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTableDlg
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbUpdate
.head 5 -  Class Child Ref Key: 15
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTableDlg
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 -  Line
.head 5 -  Resource Id: 26803
.head 5 -  Class Child Ref Key: 19
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTableDlg
.head 5 -  Coordinates
.head 6 -  Begin X:  Class Default
.head 6 -  Begin Y:  Class Default
.head 6 -  End X:  Class Default
.head 6 -  End Y:  Class Default
.head 5 -  Visible? Class Default
.head 5 -  Line Style: Class Default
.head 5 -  Line Thickness: Class Default
.head 5 -  Line Color: Class Default
.head 4 +  Pushbutton: pbSearch
.head 5 -  Class Child Ref Key: 13
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTableDlg
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbFilter
.head 5 -  Class Child Ref Key: 23
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTableDlg
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbPrint
.head 5 -  Class Child Ref Key: 14
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTableDlg
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 -  Line
.head 5 -  Resource Id: 26804
.head 5 -  Class Child Ref Key: 21
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTableDlg
.head 5 -  Coordinates
.head 6 -  Begin X:  Class Default
.head 6 -  Begin Y:  Class Default
.head 6 -  End X:  Class Default
.head 6 -  End Y:  Class Default
.head 5 -  Visible? Class Default
.head 5 -  Line Style: Class Default
.head 5 -  Line Thickness: Class Default
.head 5 -  Line Color: Class Default
.head 4 +  Pushbutton: pbOk
.head 5 -  Class Child Ref Key: 16
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTableDlg
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbExit
.head 5 -  Class Child Ref Key: 17
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTableDlg
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 -  Line
.head 5 -  Resource Id: 26805
.head 5 -  Class Child Ref Key: 22
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTableDlg
.head 5 -  Coordinates
.head 6 -  Begin X:  Class Default
.head 6 -  Begin Y:  Class Default
.head 6 -  End X:  Class Default
.head 6 -  End Y:  Class Default
.head 5 -  Visible? Class Default
.head 5 -  Line Style: Class Default
.head 5 -  Line Thickness: Class Default
.head 5 -  Line Color: Class Default
.head 2 +  Contents
.head 3 +  Child Table: tbl
.head 4 -  Class Child Ref Key: 8
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cGenericTableDlg
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: Class Default
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: NLS1
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: cColumnLabeled
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Основной
счет
.head 6 -  Visible? Yes
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  1.683"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: DAT1
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: cColumnLabeled
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Дата 
завершения
осн.
.head 6 -  Visible? Yes
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Date/Time
.head 6 -  Justify: Center
.head 6 -  Width:  1.467"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Date
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: OST1
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: cColumnLabeled
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Остаток
основного 
счета
.head 6 -  Visible? Yes
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Right
.head 6 -  Width:  1.467"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: OST1n
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title:
.head 6 -  Visible? No
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Left
.head 6 -  Width:  Default
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: NLS2
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: cColumnLabeled
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Счет
начисленных %%
.head 6 -  Visible? Yes
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  1.883"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: DAT2
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: cColumnLabeled
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Дата 
завершения
нач.%%
.head 6 -  Visible? Yes
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Date/Time
.head 6 -  Justify: Center
.head 6 -  Width:  1.733"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Date
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: OST2
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: cColumnLabeled
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Остаток
счета
начисленных %%
.head 6 -  Visible? Yes
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Right
.head 6 -  Width:  1.467"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: OST2n
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title:
.head 6 -  Visible? No
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Left
.head 6 -  Width:  Default
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Dig
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title:
.head 6 -  Visible? No
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Left
.head 6 -  Width:  Default
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 +  Message Actions
.head 5 +  On SAM_FetchRowDone
.head 6 -  Set OST1 = Dig4(OST1n * SalNumberPower(10, Dig)/100, Dig, 4)
.head 6 -  Set OST2 = Dig4(OST2n * SalNumberPower(10, Dig)/100, Dig, 4)
.head 5 +  On SAM_ColumnSelectClick
.head 6 -  Set hCH = SalNumberToWindowHandle( wParam )
.head 6 +  If SalNumberToWindowHandle( wParam ) = SalTblGetColumnWindow( hWndForm, SalTblQueryColumnID( OST1 ), COL_GetID )
.head 7 -  Set hCH = SalTblGetColumnWindow( hWndForm, SalTblQueryColumnID( OST1n ), COL_GetID )
.head 6 +  If SalNumberToWindowHandle( wParam ) = SalTblGetColumnWindow( hWndForm, SalTblQueryColumnID( OST2 ), COL_GetID )
.head 7 -  Set hCH = SalTblGetColumnWindow( hWndForm, SalTblQueryColumnID( OST2n ), COL_GetID )
.head 6 -  Call SalSendClassMessage(SAM_ColumnSelectClick,SalWindowHandleToNumber( hCH ),0)
.head 6 -  !
.head 6 -  Call SalTblSetColumnFlags( SalNumberToWindowHandle(wParam), COL_Selected, FALSE )
.head 2 -  Functions
.head 2 +  Window Parameters
.head 3 -  Number: nPar
.head 3 -  Number: RNK
.head 3 -  Number: KV
.head 3 -  String: NBS
.head 3 -  Number: ACRB
.head 3 -  Receive String: NLS
.head 3 -  Receive String: NLSN
.head 3 -  Number: nLimitB
.head 3 -  Number: nSUM
.head 2 +  Window Variables
.head 3 -  Window Handle: hCH
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  Call SetWindowFont(hWndForm)
.head 4 -  ! Присваиваем значения многоязыковым объектам
.head 4 -  Call SalSendMsgToChildren(hWndForm, UM_QueryLabelText, 0, 0)
.head 4 -  !
.head 4 -  Set FREE.strPrintFileName = 'F_' || Str(RNK)
.head 4 -  Set FREE.nFlags = GT_ReadOnly
.head 4 -  ! совсем свободные 
.head 4 +  If nPar = 0
.head 5 -  Set FREE.strSqlPopulate =
"SELECT a.nls, a.mdate, n.nls, n.mdate, t.dig 
   INTO :FREE.tbl.NLS1, :FREE.tbl.DAT1, :FREE.tbl.NLS2, :FREE.tbl.DAT2, :FREE.tbl.Dig 
   FROM accounts a, int_accn i, accounts n, tabval t 
  WHERE a.nbs=:FREE.NBS AND a.kv=:FREE.KV AND a.rnk=:FREE.RNK 
    AND a.acc=i.acc AND i.acra=n.acc
    AND a.ostc=0 AND a.ostb=0 AND a.ostf=0
    AND n.ostc=0 AND n.ostb=0 AND n.ostf=0
    AND (a.mdate<bankdate_g OR a.mdate IS NULL) AND a.dazs is null
    AND (n.mdate<bankdate_g OR n.mdate IS NULL) AND n.dazs is null
    AND a.kv=t.kv " ||
    IifS(bNBUBANK=TRUE, "", " AND (a.dapp is null or a.dapp < bankdate-10) ") ||
    IifS(FREE.ACRB>0, " AND i.acrb=:FREE.ACRB ", "") || 
    IifS(bNBUBANK=TRUE, 
         IifS(nLimitB=1, " AND substr(a.nls,10,1)='5'", 
                         " AND substr(a.nls,10,1)<>'5'"), "") ||
 " ORDER BY substr(a.nls,12,2)"
.head 5 -  ! Call SalSetWindowText(hWndForm, 'Свободные счета контрагента '||Str(RNK)||' Вал.'||Str(KV) )
.head 5 -  Call SalSetWindowText(hWndForm, 
  CurrentLangTable.GetAtomTitle('FREE.cTTitle1') || ' ' || Str(RNK) || ' ' ||
  CurrentLangTable.GetAtomTitle('FREE.cTTitle2') || '' || Str(KV))
.head 4 -  ! свободные, но с остатком
.head 4 +  Else If nPar = 1
.head 5 -  Set FREE.strSqlPopulate =
"SELECT a.nls, a.mdate, n.nls, n.mdate, 
        a.OSTC/power(10,t.dig), n.OSTC/power(10,t.dig), t.dig 
   INTO :FREE.tbl.NLS1,  :FREE.tbl.DAT1,  :FREE.tbl.NLS2, :FREE.tbl.DAT2, 
        :FREE.tbl.OST1n, :FREE.tbl.OST2n, :FREE.tbl.Dig
   FROM accounts a, int_accn i, accounts n, tabval t 
  WHERE a.nbs=:FREE.NBS AND a.kv=:FREE.KV AND a.rnk=:FREE.RNK 
    AND a.acc not in (select ACC from MBD_K)
    AND a.acc=i.acc AND i.acra=n.acc
    AND a.dazs is null
    AND n.dazs is null
    AND a.kv=t.kv " ||
IifS(bNBUBANK=TRUE, 
     IifS(nLimitB=1, " AND substr(a.nls,10,1)='5'", 
                     " AND substr(a.nls,10,1)<>'5'"), "") ||
" ORDER BY substr(a.nls,12,2) "
.head 5 -  ! Call SalSetWindowText(hWndForm, 'Cчета контрагента '||Str(RNK)||' Вал.'||Str(KV) || ' Вне портфеля')
.head 5 -  Call SalSetWindowText(hWndForm, 
  CurrentLangTable.GetAtomTitle('FREE.cTTitle3') || ' ' || Str(RNK) || ' ' ||
  CurrentLangTable.GetAtomTitle('FREE.cTTitle2') || '' || Str(KV) || ' ' ||
  CurrentLangTable.GetAtomTitle('FREE.cTTitle4'))
.head 4 -  ! в портфеле с остатком=сумма сделки и mdate<bankdate_g
(т.е. клиент сначала перевел деньги на уже существующий счет, 
причем этот счет уже использовался раньше в портфеле, а теперь вводим сделку)
.head 4 +  Else If nPar = 2
.head 5 -  Set FREE.strSqlPopulate =
"SELECT a.nls, a.mdate, n.nls, n.mdate, 
        a.OSTC/power(10,t.dig), n.OSTC/power(10,t.dig), t.dig 
   INTO :FREE.tbl.NLS1,  :FREE.tbl.DAT1,  :FREE.tbl.NLS2, :FREE.tbl.DAT2, 
        :FREE.tbl.OST1n, :FREE.tbl.OST2n, :FREE.tbl.Dig
   FROM accounts a, int_accn i, accounts n, tabval t, mbd_k m 
  WHERE a.nbs=:FREE.NBS AND a.kv=:FREE.KV AND a.rnk=:FREE.RNK 
    AND a.acc=i.acc AND i.acra=n.acc
    AND a.ostc=(:FREE.nSUM)*power(10,t.dig)
    AND a.ostb=(:FREE.nSUM)*power(10,t.dig) AND a.ostf=0
    AND n.ostc=0          AND n.ostb=0          AND n.ostf=0
    AND (a.mdate<bankdate_g OR a.mdate IS NULL) AND a.dazs is null
    AND (n.mdate<bankdate_g OR n.mdate IS NULL) AND n.dazs is null
    AND a.acc=m.acc
    AND a.kv=t.kv " ||
IifS(bNBUBANK=TRUE, 
     IifS(nLimitB=1, " AND substr(a.nls,10,1)='5'", 
                     " AND substr(a.nls,10,1)<>'5'"), "") ||
" ORDER BY substr(a.nls,12,2) "
.head 5 -  ! Call SalSetWindowText(hWndForm, 'Cчета контрагента '||Str(RNK)||' Вал.'||Str(KV) || ' В портфеле')
.head 5 -  Call SalSetWindowText(hWndForm, 
  CurrentLangTable.GetAtomTitle('FREE.cTTitle3') || ' ' || Str(RNK) || ' ' ||
  CurrentLangTable.GetAtomTitle('FREE.cTTitle2') || '' || Str(KV) || ' ' ||
  CurrentLangTable.GetAtomTitle('FREE.cTTitle5'))
.head 4 -  Call PrepareWindowEx(hWndForm)
.head 4 -  Call SalSendClassMessage(UM_Create, 0, 0)
.head 3 +  On SAM_DoubleClick
.head 4 -  Set NLS  = FREE.tbl.NLS1
.head 4 -  Set NLSN = FREE.tbl.NLS2
.head 4 -  Call SalEndDialog(hWndForm, TRUE)
.head 1 +  Table Window: ARC
.head 2 -  Class: cGenericTable
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: АРХИВ МБ кредитов и депозитов
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Class Default
.head 2 -  Visible? Class Default
.head 2 -  Display Settings
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? Class Default
.head 3 -  Initial State: Class Default
.head 3 -  Maximizable? Class Default
.head 3 -  Minimizable? Class Default
.head 3 -  System Menu? Class Default
.head 3 -  Resizable? Class Default
.head 3 -  Window Location and Size
.head 4 -  Left:   1.925"
.head 4 -  Top:    1.604"
.head 4 -  Width:  14.35"
.head 4 -  Width Editable? Class Default
.head 4 -  Height: Class Default
.head 4 -  Height Editable? Class Default
.head 3 -  Font Name: Class Default
.head 3 -  Font Size: Class Default
.head 3 -  Font Enhancement: Class Default
.head 3 -  Text Color: Class Default
.head 3 -  Background Color: Class Default
.head 3 -  View: Class Default
.head 3 -  Allow Row Sizing? Class Default
.head 3 -  Lines Per Row: Class Default
.head 2 -  Memory Settings
.head 3 -  Maximum Rows in Memory: 30000
.head 3 -  Discardable? Class Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Class Default
.head 4 -  Location? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Size: Class Default
.head 4 -  Size Editable? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 3 +  Contents
.head 4 +  Pushbutton: pbIns
.head 5 -  Class Child Ref Key: 33
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbDel
.head 5 -  Class Child Ref Key: 34
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbRefresh
.head 5 -  Class Child Ref Key: 35
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   0.1"
.head 6 -  Top:    0.048"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbUpdate
.head 5 -  Class Child Ref Key: 36
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 -  Line
.head 5 -  Resource Id: 50465
.head 5 -  Class Child Ref Key: 37
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Coordinates
.head 6 -  Begin X:  3.85"
.head 6 -  Begin Y:  -0.06"
.head 6 -  End X:  3.85"
.head 6 -  End Y:  0.405"
.head 5 -  Visible? Class Default
.head 5 -  Line Style: Class Default
.head 5 -  Line Thickness: Class Default
.head 5 -  Line Color: Class Default
.head 4 -  Line
.head 5 -  Resource Id: 63746
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Coordinates
.head 6 -  Begin X:  5.383"
.head 6 -  Begin Y:  -0.06"
.head 6 -  End X:  5.383"
.head 6 -  End Y:  0.405"
.head 5 -  Visible? Yes
.head 5 -  Line Style: Etched
.head 5 -  Line Thickness: 1
.head 5 -  Line Color: 3D Shadow Color
.head 4 +  Pushbutton: pbSearch
.head 5 -  Class Child Ref Key: 38
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   0.533"
.head 6 -  Top:    0.048"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbFilter
.head 5 -  Class Child Ref Key: 44
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   0.967"
.head 6 -  Top:    0.048"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbDetails
.head 5 -  Class Child Ref Key: 39
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   1.4"
.head 6 -  Top:    0.048"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbPrint
.head 5 -  Class Child Ref Key: 40
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   1.833"
.head 6 -  Top:    0.048"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 -  Line
.head 5 -  Resource Id: 50466
.head 5 -  Class Child Ref Key: 41
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Coordinates
.head 6 -  Begin X:  2.35"
.head 6 -  Begin Y:  -0.06"
.head 6 -  End X:  2.35"
.head 6 -  End Y:  0.405"
.head 5 -  Visible? Class Default
.head 5 -  Line Style: Class Default
.head 5 -  Line Thickness: Class Default
.head 5 -  Line Color: Class Default
.head 4 -  !
.head 4 +  Pushbutton: pb_Buch
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbBrowse
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   2.45"
.head 6 -  Top:    0.048"
.head 6 -  Width:  0.43"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.317"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Font Name: MS Sans Serif
.head 5 -  Font Size: 8
.head 5 -  Font Enhancement: Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\Look.bmp
.head 5 -  Picture Transparent Color: Gray
.head 5 -  Image Style: Single
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Set strTip = 'Просмотр Бух.модели сделки '
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('cBTipBuch')
.head 6 +  On SAM_Click
.head 7 -  Call Sel008f(hWndMDI,13, ND, '0' ,'0')
.head 4 +  Pushbutton: pbTiket
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbPrint
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   2.9"
.head 6 -  Top:    0.048"
.head 6 -  Width:  0.43"
.head 6 -  Width Editable? No
.head 6 -  Height: 0.317"
.head 6 -  Height Editable? No
.head 5 -  Visible? Yes
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: None
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\Edit.bmp
.head 5 -  Picture Transparent Color: Gray
.head 5 -  Image Style: Single
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Set strTip = 'Печать тикета сделки из архива'
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('ARC.cBTipTiket')
.head 6 +  On SAM_Click
.head 7 -  ! прочитать из архива это ND и его показать
.head 7 -  Set strReport = GetPrnDir()||'\\tc'||SalFmtFormatDateTime(SalDateCurrent() ,'hhhmmss') ||
    '.D' || SalStrRightX('0' || SalNumberToStrX(SalDateDay(SalDateCurrent()), 0), 2)
.head 7 +  If SalFileOpen(hFile, strReport, 1) 
.head 8 +  If SqlPrepareAndExecute(hSql(), 
"SELECT adds, version INTO :nAdds, :dVersion 
 FROM CC_DOCS WHERE nd=:ND and ID='TXT' ORDER BY adds")
.head 9 +  While SqlFetchNext(hSql(), nFetchRes)
.head 10 -  Set sTiket = cdoc_GetDocText(hSqlAux(), 'TXT', ND, nAdds, dVersion)
.head 10 +  If sTiket
.head 11 -  Call SalFileWrite(hFile, sTiket, SalStrLength(sTiket))
.head 8 +  ! If SqlPrepareAndExecute(hSql(), 
"SELECT TEXT INTO :sTiket from CC_DOCS
    where nd=:ND and ID='TXT' order by adds " ) 
.head 9 +  While SqlFetchNext( hSql(), nFetchRes )
.head 10 -  Call SalFileWrite( hFile, sTiket, SalStrLength(sTiket) )
.head 8 -  Call SalFileClose(hFile)
.head 8 -  Call DosDirectPrint(strReport)
.head 4 +  Pushbutton: pb_ProL
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: ctb_pbRelation
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   3.35"
.head 6 -  Top:    0.048"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\Arr1tor.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Light Green
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Set strTip = 'Відомості про зміни в угоді'
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('cBTipProL')
.head 6 +  On SAM_Click
.head 7 +  If not IsWindow(hWinP)
.head 8 -  Set hWinP = SalCreateWindow(RO1, hWndMDI, ND, NMK, CC_ID, DAT1 )
.head 7 +  Else
.head 8 -  Call SalBringWindowToTop ( hWinP )
.head 4 +  Pushbutton: pbZalog
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cTBarButton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   3.95"
.head 6 -  Top:    0.048"
.head 6 -  Width:  0.433"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.321"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\A_accs.bmp
.head 5 -  Picture Transparent Color: Gray
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Новые Договора ОБЕСПЕЧЕНИЯ на выбранный договор РАЗМЕЩЕНИЯ
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('NETTO.cBTipZalog')
.head 6 +  On SAM_Click
.head 7 +  If ARC.ACC > 0  
.head 8 -  Call Sel017(hWndMDI, IifN(nPar=0, 90, 30), 2, ARC.ND, Str(ARC.nGrp), Str(ARC.RNK), ARC.ACC)
.head 4 +  Pushbutton: pbZalog_All
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cTBarButton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   4.417"
.head 6 -  Top:    0.048"
.head 6 -  Width:  0.433"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.321"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \BARS98\RESOURCE\BMP\Pach.bmp
.head 5 -  Picture Transparent Color: Gray
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Существующие Договора ОБЕСПЕЧЕНИЯ на выбранный договор РАЗМЕЩЕНИЯ
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('NETTO.cBTipZalog_All')
.head 6 +  On SAM_Click
.head 7 -  Call Sel017(hWndMDI, IifN(nPar=0, 90, 30), 11, ARC.ND, Str(ARC.nGrp), Str(ARC.RNK), ARC.ACC)
.head 4 +  Pushbutton: pbZ
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cTBarButton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   4.867"
.head 6 -  Top:    0.048"
.head 6 -  Width:  0.433"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.321"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: \bars98\RESOURCE\BMP\Tudasuda.bmp
.head 5 -  Picture Transparent Color: White
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Light Gray
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Связь Договоров ОБЕСПЕЧЕНИЯ и выбранного договора РАЗМЕЩЕНИЯ
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('NETTO.cBTipZ')
.head 6 +  On SAM_Click
.head 7 -  Call Bars017r1(IifN(nPar=0,101,NUMBER_Null), NUMBER_Null, NUMBER_Null, 
" and KU_109.ACCK in (select acc from nd_acc where nd=" || Str(ARC.ND) || " )")
.head 4 -  Line
.head 5 -  Resource Id: 50467
.head 5 -  Class Child Ref Key: 43
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Coordinates
.head 6 -  Begin X:  Class Default
.head 6 -  Begin Y:  Class Default
.head 6 -  End X:  Class Default
.head 6 -  End Y:  Class Default
.head 5 -  Visible? No
.head 5 -  Line Style: Class Default
.head 5 -  Line Thickness: Class Default
.head 5 -  Line Color: Class Default
.head 4 -  !
.head 4 +  Pushbutton: pbExit
.head 5 -  Class Child Ref Key: 42
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   5.517"
.head 6 -  Top:    0.048"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 2 +  Contents
.head 3 +  Column: DAT
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Дата
Заключения
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Date/Time
.head 4 -  Justify: Right
.head 4 -  Width:  1.167"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Date
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: CC_ID
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: № дог
(тикета)
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: String
.head 4 -  Justify: Right
.head 4 -  Width:  1.0"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: DAT1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Дата
Начала
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Date/Time
.head 4 -  Justify: Right
.head 4 -  Width:  1.067"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Date
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: DAT2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Дата
окончания
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Date/Time
.head 4 -  Justify: Right
.head 4 -  Width:  1.133"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Date
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: KV
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Вал
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: 3
.head 4 -  Data Type: Number
.head 4 -  Justify: Right
.head 4 -  Width:  0.5"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: S
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Размещ/
Привлечение
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: String
.head 4 -  Justify: Right
.head 4 -  Width:  1.6"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: Sn
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Visible? No
.head 4 -  Editable? Yes
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Left
.head 4 -  Width:  Default
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: P
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: % 
ст
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Center
.head 4 -  Width:  0.567"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: RNK
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: РНК
.head 4 -  Visible? Class Default
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Right
.head 4 -  Width:  1.0"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: OKPO
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: ЄДРПОУ
.head 4 -  Visible? Class Default
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: String
.head 4 -  Justify: Right
.head 4 -  Width:  1.4"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: NMK
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Наименование
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: String
.head 4 -  Justify: Left
.head 4 -  Width:  3.0"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 -  !
.head 3 +  Column: ND
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Реф
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Right
.head 4 -  Width:  1.0"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: NLS
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: ЛС
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: String
.head 4 -  Justify: Left
.head 4 -  Width:  1.6"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: NLSN
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: ЛС
нач.%
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: String
.head 4 -  Justify: Left
.head 4 -  Width:  1.6"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: Sump
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Оплаченные
%%
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: String
.head 4 -  Justify: Right
.head 4 -  Width:  1.6"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: Sumpn
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Оплаченные
%%
.head 4 -  Visible? No
.head 4 -  Editable? Yes
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Left
.head 4 -  Width:  Default
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: Sumpq
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Оплаченные
%% (экв.)
.head 4 -  Visible? Class Default
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Right
.head 4 -  Width:  Default
.head 4 -  Width Editable? Class Default
.head 4 -  Format: Decimal
.head 4 -  Country: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  Cell Options
.head 5 -  Cell Type? Class Default
.head 5 -  Multiline Cell? Class Default
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Class Default
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Auto Drop Down? Class Default
.head 6 -  Allow Text Editing? Class Default
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Class Default
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: ACC
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: №
договора
.head 4 -  Visible? No
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Right
.head 4 -  Width:  0.85"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: TIPD
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Тип 0 - кр, 1 - деп
.head 4 -  Visible? No
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Right
.head 4 -  Width:  0.85"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: US
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Исп
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Right
.head 4 -  Width:  0.8"
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: KPROLOG
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Кол
прол
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Class Default
.head 4 -  Width:  0.6"
.head 4 -  Width Editable? Class Default
.head 4 -  Format: Class Default
.head 4 -  Country: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  Cell Options
.head 5 -  Cell Type? Class Default
.head 5 -  Multiline Cell? Class Default
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Class Default
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Auto Drop Down? Class Default
.head 6 -  Allow Text Editing? Class Default
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Class Default
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: Dig
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Visible? No
.head 4 -  Editable? Yes
.head 4 -  Maximum Data Length: Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Left
.head 4 -  Width:  Default
.head 4 -  Width Editable? Yes
.head 4 -  Format: Unformatted
.head 4 -  Country: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  Cell Options
.head 5 -  Cell Type? Standard
.head 5 -  Multiline Cell? No
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Yes
.head 6 -  Vertical Scroll? Yes
.head 6 -  Auto Drop Down? No
.head 6 -  Allow Text Editing? Yes
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Yes
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: nGrp
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Visible? No
.head 4 -  Editable? Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Class Default
.head 4 -  Width:  Class Default
.head 4 -  Width Editable? Class Default
.head 4 -  Format: Class Default
.head 4 -  Country: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  Cell Options
.head 5 -  Cell Type? Class Default
.head 5 -  Multiline Cell? Class Default
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Class Default
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Auto Drop Down? Class Default
.head 6 -  Allow Text Editing? Class Default
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Class Default
.head 4 -  List Values
.head 4 -  Message Actions
.head 2 -  Functions
.head 2 +  Window Parameters
.head 3 -  Number: nMode
.head 3 -  Number: nPar	! 0-ReadOnly, 1-Pay for Zalog
.head 3 -  String: strPar01
.head 3 -  String: sWhere
.head 2 +  Window Variables
.head 3 -  Date/Time: dBDat
.head 3 -  Number: nParV
.head 3 -  Number: nParT
.head 3 -  Number: nParM
.head 3 -  String: sW
.head 3 -  String: sTable
.head 3 -  String: strReport
.head 3 -  Long String: sTiket
.head 3 -  File Handle: hFile
.head 3 -  Window Handle: hCH
.head 3 -  Number: nAdds
.head 3 -  Date/Time: dVersion
.head 3 -  Number: nAccZ
.head 3 -  String: sTmp
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  Call SalSendMsgToChildren(hWndForm, UM_QueryLabelText, 0, 0)
.head 4 +  If nPar = 0
.head 5 -  Call SalSetWindowText(hWndForm, CurrentLangTable.GetAtomTitle('ARC.cTWndTitle') || ' - ' || 
     CurrentLangTable.GetAtomTitle('cTShow'))
.head 5 -  Set sTable = 'mbk_arc'
.head 5 -  Call SalDisableWindow(pbZalog)
.head 4 +  Else
.head 5 -  Call SalSetWindowText(hWndForm, CurrentLangTable.GetAtomTitle('ARC.cTWndTitle'))
.head 5 -  Set sTable = 'mbk_arc_zal'
.head 4 -  Call PrepareWindow(hWndForm)
.head 4 -  Call SetWindowFullSize(hWndForm)
.head 4 -  Call SalTblSetLockedColumns(hWndForm,8)
.head 4 -  !
.head 4 -  ! Разбираем параметры
.head 4 -  Set nParV = Val(Subs(Str(nMode), 2, 1))
.head 4 -  Set nParT = Val(Subs(Str(nMode), 3, 1)) - 1	! = MBK_K_A.DK
.head 4 -  Set nParM = Val(Subs(Str(nMode), 4, 1))
.head 4 -  Set nMode = Val(Subs(Str(nMode), 1, 1))
.head 4 -  !
.head 4 -  Set dBDat = GetBankDate()
.head 4 -  !
.head 4 -  Set ARC.fFilterAtStart = TRUE
.head 4 -  Set ARC.strFilterTblName = 'MBD_K_A'
.head 4 -  Set ARC.strPrintFileName = 'MBD_K_A'
.head 4 -  ! вал IifS( SalStrLength( sWhere ) > 5, " AND ("||sWhere||") ", "" )
.head 4 -  Set sW = IifS(nParV=1, " kv=980 ", IifS(nParV=2, " kv<>980 ", ""))
.head 4 -  ! акт-пас
.head 4 +  If sW
.head 5 -  Set sW = sW || IifS(nParT<0, "", " AND dk=:ARC.nParT ") 
.head 4 +  Else
.head 5 -  Set sW = IifS(nParT<0, "", " dk=:ARC.nParT ") 
.head 4 -  ! класс
.head 4 +  If sW
.head 5 -  Set sW = sW || IifS(nParM=1, " AND nls like '1%' ", IifS(nParM=2, " AND nls not like '1%' ", ""))
.head 4 +  Else
.head 5 -  Set sW = IifS(nParM=1, " nls like '1%' ", IifS(nParM=2, " nls not like '1%' ", "")) 
.head 4 -  ! доп.условие
.head 4 +  If sW
.head 5 -  Set sW = sW || IifS(SalStrLength(sWhere) > 5, " AND ("||sWhere||") ", "")
.head 4 +  Else
.head 5 -  Set sW = IifS(SalStrLength(sWhere) > 5, " ("||sWhere||") ", "") 
.head 4 -  Set ARC.strSqlPopulate = 
"select zdate, cc_id, sdate, wdate, kv,
        limit, nmk, nd, nls, acc,
        dk, rnk, okpo, userid, kprolog, dig,
        nlsn, rate, grp, sump, gl.p_icurval(kv,sump,bankdate)/100
   into :ARC.DAT, :ARC.CC_ID, :ARC.DAT1, :ARC.DAT2, :ARC.KV, 
        :ARC.Sn,  :ARC.NMK,   :ARC.ND,   :ARC.NLS,  :ARC.ACC,
        :ARC.TIPD, :ARC.RNK, :ARC.OKPO, :ARC.US, :ARC.KPROLOG, :ARC.Dig,
        :ARC.NLSN, :ARC.P, :ARC.nGrp, :ARC.Sumpn, :ARC.Sumpq
   from " || sTable || " MBD_K_A " ||
        IifS(sW!=STRING_Null, "where " || sW, "") || " 
  order by nd desc "
.head 4 -  Call SalSendClassMessage(UM_Create, 0, 0)
.head 3 +  On SAM_FetchRowDone
.head 4 -  Set S = Dig4(Sn * SalNumberPower(10, Dig)/100, Dig, 4)
.head 4 -  Set Sump = Dig4(Sumpn/100, Dig, 4)
.head 4 -  Call XSalTblSetRowBackColor(hWndForm, lParam, IifN(TIPD=0 , COLOR_Maize, COLOR_LightPeriwinkle))
.head 3 +  On SAM_ColumnSelectClick
.head 4 -  Set hCH = SalNumberToWindowHandle(wParam)
.head 4 +  If SalNumberToWindowHandle(wParam) = SalTblGetColumnWindow(hWndForm, SalTblQueryColumnID(S), COL_GetID)
.head 5 -  Set hCH = SalTblGetColumnWindow(hWndForm, SalTblQueryColumnID(Sn), COL_GetID)
.head 4 -  Call SalSendClassMessage(SAM_ColumnSelectClick,SalWindowHandleToNumber(hCH),0)
.head 4 -  !
.head 4 -  Call SalTblSetColumnFlags(SalNumberToWindowHandle(wParam), COL_Selected, FALSE)
.head 3 +  On SAM_RowHeaderClick
.head 4 +  If TIPD = 0
.head 5 -  ! Размещение
.head 5 -  Set sTmp = CurrentLangTable.GetAtomTitle('cTTipd0')
.head 4 +  Else
.head 5 -  ! Привлечение
.head 5 -  Set sTmp = CurrentLangTable.GetAtomTitle('cTTipd1')
.head 4 -  Call XSalTooltipSetColors(COLOR_Black, IifN(TIPD=0 , COLOR_Maize, COLOR_LightPeriwinkle))
.head 4 -  Call XSalTooltipShow(hWndForm, sTmp)
.head 4 -  Call XSalTooltipSetColors(COLOR_Black, COLOR_White)
.head 1 +  Dialog Box: Dlg_Plat1
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Раскрыть дебеторскую задолженность 
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left:   1.713"
.head 4 -  Top:    1.24"
.head 4 -  Width:  5.6"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 2.9"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  Pushbutton: pb11
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: ctb_pbOk
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   4.75"
.head 5 -  Top:    0.548"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Set strTip = 'Подтвердить дату и сумму'
.head 6 -  Set strTip = CurrentLangTable.GetAtomTitle('Dlg_Plat1.cBTip11')
.head 5 +  On SAM_Click
.head 6 +  If SalIsNull(DAT_VAL) or SalIsNull(Sum_Deb) or SalIsNull(dfNazn) or Len(dfNazn) <3
.head 7 -  Call SalMessageBox("Не заповнено обов'язкові поля!", "Увага!", MB_Ok | MB_IconExclamation)
.head 7 -  Return FALSE
.head 6 -  Set nRef = NUMBER_Null
.head 6 -  Call cDoc.SetDoc(nRef, 'KV1', 1, nVob, sNd,
     GetBankDate(), GetBankDate(), DAT_VAL, DAT_VAL,
     DB_1819, NamA,    GetBankMfo(), '', KV, Sum_Deb*SalNumberPower(10,nDig), GetBankOkpoS(),
     nls,     sKlient, GetBankMfo(), '', KV, Sum_Deb*SalNumberPower(10,nDig), OkpoB,
     dfNazn, '', GetIdOper(), '', NUMBER_Null, 0)
.head 6 +  If cDoc.oDoc()
.head 7 -  Set nRef = cDoc.m_nRef
.head 7 -  If SqlPLSQLCommand(hSql(), "mbk.link_nd_ref(Dlg_Plat1.ND, nRef)")
.head 7 -  Call SqlCommit(hSql())
.head 7 -  Call SaveFInfoToLog( "Проводка по МБК "||Str(Dlg_Plat1.ND)||", реф= "||Str(nRef) )
.head 7 -  ! Call SalMessageBox ( 'Раскрыта деб.задолж. по счету '||DB_1819||'/'||Str(KV) , 'Реф.'||Str(nRef), 0 )
.head 7 -  Call SalMessageBox ( CurrentLangTable.GetAtomTitle('Dlg_Plat1.cTMess1')||' '||DB_1819||'/'||Str(KV) , 
  CurrentLangTable.GetAtomTitle('cTMessRef')||Str(nRef), 0 )
.head 7 -  Call DocsPrint(nRef, 'OPER', 0)
.head 7 -  Set n_S  = Sum_Deb
.head 7 -  Set eDAT = DAT_VAL
.head 6 -  ! Фактично отримані дох.
.head 6 +  If bNBU and sNazn6 != STRING_Null and nAcrb >0 
.head 7 +  If SqlPrepareAndExecute(hSql(),
  "SELECT n.nls, substr(n.nms,1,38), f.nls, substr(f.nms,1,38)
   INTO :NLSN, :sNLSN,:NLSF,:sNLSF FROM accounts n, accounts f, int_nf i
   WHERE n.acc=:nAcrb and n.nls=i.nlsN and i.nlsF=f.nls and n.kv=:n980 and f.kv=:n980 ") 
and SqlFetchNext(hSql(), nFetchRes)
.head 8 -  Set nRef = NUMBER_Null
.head 8 -  Call cDoc.SetDoc(nRef, 'KV1', 1, nVob, sNd,
     GetBankDate(), GetBankDate(), DAT_VAL, DAT_VAL,
     NLSN, sNLSN, GetBankMfo(), '', n980, Sum_Deb*SalNumberPower(10,nDig), GetBankOkpoS(),
     NLSF, sNLSF, GetBankMfo(), '', n980, Sum_Deb*SalNumberPower(10,nDig), GetBankOkpoS(),
     sNazn6, '', GetIdOper(), '', NUMBER_Null, 0)
.head 8 +  If cDoc.oDoc()
.head 9 -  Set nRef = cDoc.m_nRef
.head 9 -  Call SqlCommit(hSql())
.head 9 -  ! Call SalMessageBox ( 'Фактично отримані дох.', 'Реф.'||Str(nRef), 0 )
.head 9 -  Call SalMessageBox ( CurrentLangTable.GetAtomTitle('Dlg_Plat1.cTMess2'), 
  CurrentLangTable.GetAtomTitle('cTMessRef')||Str(nRef), 0 )
.head 9 -  Call DocsPrint(nRef, 'OPER', 0)
.head 6 -  Call SalEndDialog(hWndForm, 0)
.head 3 -  Background Text: Дата
.head 4 -  Resource Id: 37773
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.25"
.head 5 -  Top:    0.321"
.head 5 -  Width:  1.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgDat
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: DAT_VAL
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   0.25"
.head 6 -  Top:    0.548"
.head 6 -  Width:  1.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.321"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Center
.head 5 -  Format: Date
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: 10
.head 5 -  Font Enhancement: Bold-Underline
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  Background Text: Сумма
.head 4 -  Resource Id: 37774
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   2.1"
.head 5 -  Top:    0.369"
.head 5 -  Width:  2.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgSum
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: Sum_Deb
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.1"
.head 6 -  Top:    0.548"
.head 6 -  Width:  2.5"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.321"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: 10
.head 5 -  Font Enhancement: Bold-Underline
.head 5 -  Text Color: Dark Red
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  Background Text: Назначение платежа
.head 4 -  Resource Id: 34246
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.283"
.head 5 -  Top:    1.0"
.head 5 -  Width:  4.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgNazn
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Multiline Field: dfNazn
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  String Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Border? Yes
.head 5 -  Word Wrap? Yes
.head 5 -  Vertical Scroll? Yes
.head 5 -  Window Location and Size
.head 6 -  Left:   0.25"
.head 6 -  Top:    1.25"
.head 6 -  Width:  5.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.0"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Message Actions
.head 2 -  Functions
.head 2 +  Window Parameters
.head 3 -  Number: ND
.head 3 -  String: sKlient
.head 3 -  Number: KV
.head 3 -  String: DB_1819
.head 3 -  Receive Date/Time: eDAT
.head 3 -  Receive Number: n_S
.head 3 -  String: nls
.head 3 -  String: sNazn
.head 3 -  Boolean: bNBU
.head 3 -  String: sNazn6
.head 3 -  Number: nAcrb
.head 2 +  Window Variables
.head 3 -  Number: nRef
.head 3 -  Number: n980
.head 3 -  String: sNd
.head 3 -  : cDoc
.head 4 -  Class: cDoc
.head 3 -  !
.head 3 -  String: NamA
.head 3 -  String: OkpoB
.head 3 -  String: NLSN
.head 3 -  String: NLSF
.head 3 -  String: sNLSN
.head 3 -  String: sNLSF
.head 3 -  Number: nVob_VZAL
.head 3 -  Number: nVob
.head 3 -  Number: nDig
.head 3 -  String: sFormat
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  Call SetWindowFont(hWndForm)
.head 4 -  ! Присваиваем значения многоязыковым объектам
.head 4 -  Call SalSendMsgToChildren(hWndForm, UM_QueryLabelText, 0, 0)
.head 4 -  Call SalSetWindowText(hWndForm, CurrentLangTable.GetAtomTitle('Dlg_Plat1.cTWndTitle'))
.head 4 -  !
.head 4 -  !
.head 4 -  Set Sum_Deb = n_S
.head 4 -  Set n980    = GetBaseVal()
.head 4 -  Set DAT_VAL = eDAT
.head 4 -  Set dfNazn  = sNazn
.head 4 -  Set nVob_VZAL = GetGlobalOptionEx('MBK_VZAL')
.head 4 -  Set nVob      = IifN(nVob_VZAL=0, 6, IifN(KV=GetBaseVal(), 6, nVob_VZAL))
.head 4 -  Set sNd       = IifS(sMBK_ND='REF', '', Str(ND))
.head 4 -  If SqlPrepareAndExecute(hSql(),
  "SELECT substr(aa.nms,1,38), cb.okpo, t.dig INTO :NamA, :OkpoB, :nDig 
   FROM accounts aa, accounts ab, cust_acc ub, customer cb, tabval t 
   WHERE aa.kv =:KV and ab.kv=:KV and ab.acc=ub.acc and ub.rnk=cb.rnk and
         aa.nls=:DB_1819 and ab.nls=:nls and aa.kv=t.kv" )
and SqlFetchNext(hSql(), nFetchRes)
.head 4 +  Else
.head 5 -  Set NamA  = GetBankName()
.head 5 -  Set OkpoB = '99999'
.head 4 +  If nDig
.head 5 -  Set sFormat='#0'||XSalGetDecimalSeparator()||SalStrRepeatX( '0', nDig )
.head 4 +  Else
.head 5 -  Set sFormat='#0'
.head 4 -  Call SalFmtSetPicture(Sum_Deb, sFormat)
.head 1 +  Dialog Box: dlgKREDEPO
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Ввод доп. реквизитов SWIFT
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left:   1.225"
.head 4 -  Top:    1.396"
.head 4 -  Width:  12.467"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 5.048"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  Pushbutton: pbOk
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cpbLabeledOk
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Утвердить
.head 4 -  Window Location and Size
.head 5 -  Left:   4.517"
.head 5 -  Top:    4.107"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.45"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Enter
.head 4 -  Font Name: MS Sans Serif
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name: \BARS98\RESOURCE\BMP\Apply.bmp
.head 4 -  Picture Transparent Color: Gray
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set strMain56C = df56C
.head 6 -  Set strMain56D = df56D
.head 6 -  Set strInt56E = df56E
.head 6 -  Set strInt57E = df57E
.head 6 -  Set strInt56F = df56F
.head 6 -  Set strInt57F = df57F
.head 6 -  Call SalEndDialog( dlgKREDEPO, TRUE )
.head 3 +  Pushbutton: pbCancel
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cpbLabeledCancel
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Отменить
.head 4 -  Window Location and Size
.head 5 -  Left:   6.35"
.head 5 -  Top:    4.107"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.45"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Esc
.head 4 -  Font Name: MS Sans Serif
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name: \BARS98\RESOURCE\BMP\Discard.bmp
.head 4 -  Picture Transparent Color: Gray
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalEndDialog( dlgKREDEPO, FALSE )
.head 3 -  Group Box:
.head 4 -  Resource Id: 49986
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.183"
.head 5 -  Top:    0.071"
.head 5 -  Width:  11.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.833"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Multiline Field: df56C
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  String Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Border? Yes
.head 5 -  Word Wrap? Yes
.head 5 -  Vertical Scroll? No
.head 5 -  Window Location and Size
.head 6 -  Left:   0.45"
.head 6 -  Top:    0.452"
.head 6 -  Width:  5.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.917"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab( FALSE )
.head 3 +  Pushbutton: pbSearchBIC1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: ctb_pbFilter
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   5.55"
.head 5 -  Top:    0.452"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name:
.head 4 -  Font Size: 0
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: \BARS98\RESOURCE\BMP\Filter.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Set strTip = 'Поиск участника'
.head 6 -  Set strTip = CurrentLangTable.GetAtomTitle('KRE_DEPO.cBTipSearchBICB')
.head 5 +  On SAM_Click
.head 6 -  Call FunNSIGetFiltered('SW_BANKS','NAME','', sTmpBIC, sTmpName)
.head 6 +  If sTmpBIC != STRING_Null
.head 7 +  If df56C = STRING_Null
.head 8 -  Set df56C = sTmpBIC
.head 7 +  Else
.head 8 -  Set df56C = df56C || SalNumberToChar(13) || SalNumberToChar(10) || sTmpBIC
.head 3 -  Group Box: Посредник А
.head 4 -  Resource Id: 49987
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.35"
.head 5 -  Top:    0.286"
.head 5 -  Width:  5.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Multiline Field: df56D
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  String Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Border? Yes
.head 5 -  Word Wrap? Yes
.head 5 -  Vertical Scroll? No
.head 5 -  Window Location and Size
.head 6 -  Left:   6.25"
.head 6 -  Top:    0.452"
.head 6 -  Width:  5.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.917"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalMapEnterToTab( FALSE )
.head 3 -  Group Box: Посредник Б
.head 4 -  Resource Id: 49988
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   6.117"
.head 5 -  Top:    0.286"
.head 5 -  Width:  5.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbSearchBIC2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: ctb_pbFilter
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   11.283"
.head 5 -  Top:    0.476"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name:
.head 4 -  Font Size: 0
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: \BARS98\RESOURCE\BMP\Filter.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Set strTip = 'Поиск участника'
.head 6 -  Set strTip = CurrentLangTable.GetAtomTitle('KRE_DEPO.cBTipSearchBICB')
.head 5 +  On SAM_Click
.head 6 -  Call FunNSIGetFiltered('SW_BANKS','NAME','', sTmpBIC, sTmpName)
.head 6 +  If sTmpBIC != STRING_Null
.head 7 +  If df56D = STRING_Null
.head 8 -  Set df56D = sTmpBIC
.head 7 +  Else
.head 8 -  Set df56D = df56D || SalNumberToChar(13) || SalNumberToChar(10) || sTmpBIC
.head 3 -  Group Box: Возврат процентов А
.head 4 -  Resource Id: 49989
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.35"
.head 5 -  Top:    1.512"
.head 5 -  Width:  5.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.31"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Возврат процентов Б
.head 4 -  Resource Id: 49990
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   6.15"
.head 5 -  Top:    1.512"
.head 5 -  Width:  5.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.31"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Multiline Field: df57E
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  String Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Border? Yes
.head 5 -  Word Wrap? Yes
.head 5 -  Vertical Scroll? No
.head 5 -  Window Location and Size
.head 6 -  Left:   0.45"
.head 6 -  Top:    1.679"
.head 6 -  Width:  5.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.917"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Multiline Field: df56E
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  String Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Border? Yes
.head 5 -  Word Wrap? Yes
.head 5 -  Vertical Scroll? No
.head 5 -  Window Location and Size
.head 6 -  Left:   0.45"
.head 6 -  Top:    2.845"
.head 6 -  Width:  5.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.917"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbSearchBIC3
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: ctb_pbFilter
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   5.55"
.head 5 -  Top:    1.679"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name:
.head 4 -  Font Size: 0
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: \BARS98\RESOURCE\BMP\Filter.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Set strTip = 'Поиск участника'
.head 6 -  Set strTip = CurrentLangTable.GetAtomTitle('KRE_DEPO.cBTipSearchBICB')
.head 5 +  On SAM_Click
.head 6 -  Call FunNSIGetFiltered('SW_BANKS','NAME','', sTmpBIC, sTmpName)
.head 6 +  If sTmpBIC != STRING_Null
.head 7 +  If df57E = STRING_Null
.head 8 -  Set df57E = sTmpBIC
.head 7 +  Else
.head 8 -  Set df57E = df57E || SalNumberToChar(13) || SalNumberToChar(10) || sTmpBIC
.head 3 +  Pushbutton: pbSearchBIC4
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: ctb_pbFilter
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   11.35"
.head 5 -  Top:    1.679"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name:
.head 4 -  Font Size: 0
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: \BARS98\RESOURCE\BMP\Filter.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Set strTip = 'Поиск участника'
.head 6 -  Set strTip = CurrentLangTable.GetAtomTitle('KRE_DEPO.cBTipSearchBICB')
.head 5 +  On SAM_Click
.head 6 -  Call FunNSIGetFiltered('SW_BANKS','NAME','', sTmpBIC, sTmpName)
.head 6 +  If sTmpBIC != STRING_Null
.head 7 +  If df57F = STRING_Null
.head 8 -  Set df57F = sTmpBIC
.head 7 +  Else
.head 8 -  Set df57F = df57F || SalNumberToChar(13) || SalNumberToChar(10) || sTmpBIC
.head 3 +  Pushbutton: pbSearchBIC6
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: ctb_pbFilter
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   11.35"
.head 5 -  Top:    2.845"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name:
.head 4 -  Font Size: 0
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: \BARS98\RESOURCE\BMP\Filter.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Set strTip = 'Поиск участника'
.head 6 -  Set strTip = CurrentLangTable.GetAtomTitle('KRE_DEPO.cBTipSearchBICB')
.head 5 +  On SAM_Click
.head 6 -  Call FunNSIGetFiltered('SW_BANKS','NAME','', sTmpBIC, sTmpName)
.head 6 +  If sTmpBIC != STRING_Null
.head 7 +  If df56F = STRING_Null
.head 8 -  Set df56F = sTmpBIC
.head 7 +  Else
.head 8 -  Set df56F = df56F || SalNumberToChar(13) || SalNumberToChar(10) || sTmpBIC
.head 3 +  Pushbutton: pbSearchBIC5
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: ctb_pbFilter
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   5.55"
.head 5 -  Top:    2.845"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name:
.head 4 -  Font Size: 0
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: \BARS98\RESOURCE\BMP\Filter.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Set strTip = 'Поиск участника'
.head 6 -  Set strTip = CurrentLangTable.GetAtomTitle('KRE_DEPO.cBTipSearchBICB')
.head 5 +  On SAM_Click
.head 6 -  Call FunNSIGetFiltered('SW_BANKS','NAME','', sTmpBIC, sTmpName)
.head 6 +  If sTmpBIC != STRING_Null
.head 7 +  If df56E = STRING_Null
.head 8 -  Set df56E = sTmpBIC
.head 7 +  Else
.head 8 -  Set df56E = df56E || SalNumberToChar(13) || SalNumberToChar(10) || sTmpBIC
.head 3 +  Multiline Field: df57F
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  String Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Border? Yes
.head 5 -  Word Wrap? Yes
.head 5 -  Vertical Scroll? No
.head 5 -  Window Location and Size
.head 6 -  Left:   6.25"
.head 6 -  Top:    1.679"
.head 6 -  Width:  5.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.917"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Multiline Field: df56F
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  String Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Border? Yes
.head 5 -  Word Wrap? Yes
.head 5 -  Vertical Scroll? No
.head 5 -  Window Location and Size
.head 6 -  Left:   6.25"
.head 6 -  Top:    2.845"
.head 6 -  Width:  5.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.917"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Message Actions
.head 3 -  Background Text: Посредник А
.head 4 -  Resource Id: 49991
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.483"
.head 5 -  Top:    2.679"
.head 5 -  Width:  5.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Посредник Б
.head 4 -  Resource Id: 49992
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   6.283"
.head 5 -  Top:    2.679"
.head 5 -  Width:  4.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 2 -  Functions
.head 2 +  Window Parameters
.head 3 -  Receive String: strMain56C
.head 3 -  Receive String: strMain56D
.head 3 -  Receive String: strInt57E
.head 3 -  Receive String: strInt57F
.head 3 -  Receive String: strInt56E
.head 3 -  Receive String: strInt56F
.head 2 +  Window Variables
.head 3 -  String: sTmpBIC
.head 3 -  String: sTmpName
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  Call PrepareWindowEx(hWndForm)
.head 4 -  Call SalSendMsgToChildren( hWndForm, UM_QueryLabelText, 0, 0 )
.head 4 -  ! Call SalSetWindowText(hWndForm, CurrentLangTable.GetAtomTitle('dlgKREDEPO.cTWndTitle'))
.head 4 -  Call SalMapEnterToTab( FALSE )
.head 4 -  ! Заполняем поля
.head 4 -  Set df56C = strMain56C
.head 4 -  Set df56D = strMain56D
.head 4 -  Set df57E = strInt57E
.head 4 -  Set df57F = strInt57F
.head 4 -  Set df56E = strInt56E
.head 4 -  Set df56F = strInt56F
.head 3 +  On SAM_Destroy
.head 4 -  Call SalMapEnterToTab( TRUE )
.head 1 +  Dialog Box: dlgLinkZal
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Привязка документа залога
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left:   Default
.head 4 -  Top:    Default
.head 4 -  Width:  5.6"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 3.85"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  Radio Button: rbOldRef
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cRadioButtonLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: привязать документ залога
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    0.15"
.head 5 -  Width:  4.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalEnableWindow(dfRef)
.head 6 -  Call SalEnableWindow(pbShowDoc)
.head 6 -  Set dfSummaZ = NUMBER_Null
.head 6 -  Set dfKvZ    = NUMBER_Null
.head 6 -  Set dfNlsZ   = STRING_Null
.head 6 -  Call SalDisableWindow(dfSummaZ)
.head 6 -  Call SalDisableWindow(dfKvZ)
.head 6 -  Call SalDisableWindow(dfNlsZ)
.head 3 +  Radio Button: rbNewRef
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cRadioButtonLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: создать документ залога
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    1.05"
.head 5 -  Width:  4.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set dfRef = NUMBER_Null
.head 6 -  Call SalDisableWindow(dfRef)
.head 6 -  Call SalDisableWindow(pbShowDoc)
.head 6 -  Call SalEnableWindow(dfSummaZ)
.head 6 -  Call SalEnableWindow(dfKvZ)
.head 6 -  Call SalEnableWindow(dfNlsZ)
.head 3 -  Frame
.head 4 -  Resource Id: 20640
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.1"
.head 5 -  Top:    0.05"
.head 5 -  Width:  5.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.7"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: 3D Shadow Color
.head 4 -  Background Color: Default
.head 3 -  Background Text: Референс
.head 4 -  Resource Id: 20641
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    0.5"
.head 5 -  Width:  2.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgRef
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfRef
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.9"
.head 6 -  Top:    0.45"
.head 6 -  Width:  2.083"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  Frame
.head 4 -  Resource Id: 30939
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.1"
.head 5 -  Top:    0.95"
.head 5 -  Width:  5.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.8"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Сумма обеспечения
.head 4 -  Resource Id: 30940
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    1.4"
.head 5 -  Width:  2.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgSummaZ
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfSummaZ
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.9"
.head 6 -  Top:    1.36"
.head 6 -  Width:  2.083"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Jade
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If not SalIsNull(dfSummaZ)
.head 7 -  Set dfSummaZ = SalNumberAbs(dfSummaZ)
.head 7 -  Set sFormat = '# ##0' || XSalGetDecimalSeparator() || SalStrRepeatX('0', nDigZ)
.head 7 -  Call SalFmtSetPicture(dfSummaZ, sFormat)
.head 7 -  Call SalFmtSetPicture(dfOstZ, sFormat)
.head 6 -  Return VALIDATE_Ok
.head 5 +  On SAM_KillFocus
.head 6 -  Set sFormat = '# ##0' || XSalGetDecimalSeparator() || SalStrRepeatX('0', nDigZ)
.head 6 -  Call SalFmtSetPicture(dfSummaZ, sFormat)
.head 3 -  Background Text: Валюта обеспечения
.head 4 -  Resource Id: 30943
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    1.7"
.head 5 -  Width:  2.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgKvZ
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfKvZ
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 3
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.9"
.head 6 -  Top:    1.65"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Center
.head 5 -  Format: #0
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Jade
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If not SalIsNull(dfKvZ)
.head 7 -  Call SqlPrepareAndExecute(hSql(), "SELECT dig INTO :nDigZ FROM tabval t WHERE kv=:dfKvZ")
.head 7 -  Call SqlFetchNext(hSql (), nFetchRes)
.head 7 -  ! == Счет залога
.head 7 -  Call SqlPrepareAndExecute(hSql(), "SELECT nbsZ INTO :sNbsZ FROM proc_dr WHERE nbs=:nVidd AND sour=4")
.head 7 -  Call SqlFetchNext(hSql(), nFetchRes)
.head 7 +  If sNbsZ = ''
.head 8 -  Set dfNlsZ = ''
.head 8 -  ! Не указан БС счета залога!
.head 8 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('dlgLinkZal.cTMsgNbsZNotFound'), CurrentLangTable.GetAtomTitle('cTAt'), MB_IconExclamation | MB_Ok)
.head 8 -  Return VALIDATE_Ok
.head 7 -  Set dfNlsZ = KeyAccount(GetBankMfo(), sNbsZ || Subs(sNls,5,10))
.head 7 +  If SqlPrepareAndExecute(hSql(), "SELECT ostc/power(10,:nDigZ) INTO :dfOstZ FROM accounts WHERE nls=:dfNlsZ AND kv=:dfKvZ")
and not SqlFetchNext(hSql (), nFetchRes)
.head 8 -  Set dfOstZ = 0
.head 7 -  Call SalSendMsg(dfSummaZ, SAM_Validate, 0, 0)
.head 6 -  Return VALIDATE_Ok
.head 3 -  Background Text: Счет обеспечения
.head 4 -  Resource Id: 30942
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    2.0"
.head 5 -  Width:  2.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgNlsZ
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfNlsZ
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6533000000 00
.enddata
.data CLASSPROPSSIZE
0000: 1900
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 15
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.9"
.head 6 -  Top:    1.95"
.head 6 -  Width:  2.083"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Jade
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If not SalIsNull(dfNlsZ)
.head 7 +  If KeyAccount(GetBankMfo(), dfNlsZ) != dfNlsZ
.head 8 -  ! Ош.счет (контр.разряд). Попробуем еще раз?
.head 8 +  If SalMessageBox(CurrentLangTable.GetAtomTitle('KRE_DEPO.cTErrKR'), 
   CurrentLangTable.GetAtomTitle('cTAt'), MB_YesNo | MB_IconHand) = IDYES
.head 9 -  Return VALIDATE_Cancel
.head 7 +  If SqlPrepareAndExecute(hSql(), "SELECT ostc/power(10,:nDigZ) INTO :dfOstZ FROM accounts WHERE nls=:dfNlsZ AND kv=:dfKvZ")
and not SqlFetchNext(hSql (), nFetchRes)
.head 8 -  Set dfOstZ = 0
.head 7 -  Call SalSendMsg(dfSummaZ, SAM_Validate, 0, 0)
.head 6 -  Return VALIDATE_Ok
.head 3 -  Background Text: Остаток на сч. обесп.
.head 4 -  Resource Id: 30941
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    2.3"
.head 5 -  Width:  2.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: bgOstZ
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cLabelControl
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   Default
.head 6 -  Top:    Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfOstZ
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   2.9"
.head 6 -  Top:    2.25"
.head 6 -  Width:  2.083"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  Frame
.head 4 -  Resource Id: 20642
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.083"
.head 5 -  Top:    2.8"
.head 5 -  Width:  5.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.7"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: 3D Shadow Color
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbShowDoc
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cpbDetail
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Документ
.head 4 -  Window Location and Size
.head 5 -  Left:   0.4"
.head 5 -  Top:    2.9"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If not CheckDoc(0)
.head 7 -  Call SalSetFocus(dfRef)
.head 7 -  Return FALSE
.head 6 -  Call DocView(hWndForm, dfRef, 2, 0, '')
.head 3 +  Pushbutton: pbLinkZal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cpbLabeledOk
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Привязать
.head 4 -  Window Location and Size
.head 5 -  Left:   1.6"
.head 5 -  Top:    2.9"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If LinkDoc()
.head 7 -  Call SalEndDialog(hWndForm, TRUE)
.head 3 +  Pushbutton: pbClose
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cpbLabeledCancel
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   3.783"
.head 5 -  Top:    2.9"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalEndDialog(hWndForm, FALSE)
.head 2 +  Functions
.head 3 +  Function: CheckDoc
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 +  Parameters
.head 5 -  Number: nMode
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sNlsa
.head 5 -  String: sNlsb
.head 5 -  Number: nCount
.head 4 +  Actions
.head 5 +  If SalIsNull(dfRef)
.head 6 -  ! Не указан референс!
.head 6 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('dlgLinkZal.cTRefNotSet'), CurrentLangTable.GetAtomTitle('cTAt'), MB_IconExclamation | MB_Ok)
.head 6 -  Return FALSE
.head 5 -  Call SqlPrepareAndExecute(hSql(), "select nlsa, nlsb into :sNlsa, :sNlsb from oper where ref = :dfRef")
.head 5 +  If not SqlFetchNext(hSql(), nFetchRes)
.head 6 -  ! Str(dfRef) - Документ не найден!
.head 6 -  Call SalMessageBox(Str(dfRef) || " - " || CurrentLangTable.GetAtomTitle('dlgLinkZal.cTDocNotFound'), CurrentLangTable.GetAtomTitle('cTAt'), MB_IconExclamation | MB_Ok)
.head 6 -  Return FALSE
.head 5 +  If nMode = 1
.head 6 +  If Subs(sNlsa,1,2) != '95' and Subs(sNlsb,1,2) != '95'
.head 7 -  ! Str(dfRef) - Документ не является документом залога! 
.head 7 -  Call SalMessageBox(Str(dfRef) || " - " || CurrentLangTable.GetAtomTitle('dlgLinkZal.cTDocNotZal'), CurrentLangTable.GetAtomTitle('cTAt'), MB_IconExclamation | MB_Ok)
.head 7 -  Return FALSE
.head 6 -  Call SqlPrepareAndExecute(hSql(), "select count(*) into :nCount from mbd_k_r where nd = :ND and ref = :dfRef")
.head 6 -  Call SqlFetchNext(hSql(), nFetchRes)
.head 6 +  If nCount > 0
.head 7 -  ! Str(dfRef) - Документ уже привязан к договору Str(ND)
.head 7 -  Call SalMessageBox(Str(dfRef) || " - " || CurrentLangTable.GetAtomTitle('dlgLinkZal.cTDocLinked') || " " || Str(ND), CurrentLangTable.GetAtomTitle('cTAt'), MB_IconExclamation | MB_Ok)
.head 7 -  Return FALSE
.head 5 -  Return TRUE
.head 3 +  Function: GetDeal
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 +  If not SqlPrepareAndExecute(hSql(),
"select tipd, vidd, rnk, substr(nvl(nmkk, nmk),1,38), okpo, cc_id,
        date_u, date_end, a_acc, a_nls, userid
   into :nTipd, :nVidd, :nRnk, :sNamB, :sOkpo, :CC_ID,
        :colDatDU, :colDatEndDog, :nAcc, :sNls, :nIsp
   from mbk_deal
  where nd = :ND")
.head 6 -  Call SalMessageBox("Невозможно определить параметры договора " || Str(ND), CurrentLangTable.GetAtomTitle('cTErr'), MB_IconExclamation | MB_Ok)
.head 6 -  Return FALSE
.head 5 +  If not SqlFetchNext(hSql(), nFetchRes)
.head 6 -  Call SalMessageBox("Договор " || Str(ND) || " не найден`", CurrentLangTable.GetAtomTitle('cTErr'), MB_IconExclamation | MB_Ok)
.head 6 -  Return FALSE
.head 5 -  Return TRUE
.head 3 +  Function: LinkDoc
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: V_ZAL
.head 5 -  Number: nTmp
.head 5 -  Number: nAccZ
.head 5 -  String: s9910
.head 5 -  Number: nVob_VZAL
.head 5 -  String: sOKPO
.head 5 -  Number: nRef
.head 5 -  Number: nDk
.head 5 -  Number: nVob
.head 5 -  String: sNd
.head 5 -  : cDoc
.head 6 -  Class: cDoc
.head 4 +  Actions
.head 5 +  If rbOldRef
.head 6 +  If not CheckDoc(1)
.head 7 -  Call SalSetFocus(dfRef)
.head 7 -  Return FALSE
.head 6 -  ! Привязать документ залога Str(dfRef) к договору Str(ND)?
.head 6 +  If SalMessageBox(CurrentLangTable.GetAtomTitle('dlgLinkZal.cTQstLink') || " " || Str(dfRef) || " " || 
   CurrentLangTable.GetAtomTitle('dlgLinkZal.cTForDeal') || " " || Str(ND) || "?",
   CurrentLangTable.GetAtomTitle('cTAt'), MB_IconQuestion | MB_YesNo) = IDNO
.head 7 -  Return FALSE
.head 6 +  If not SqlPLSQLCommand(hSql(), "mbk.link_nd_ref(ND, dfRef)")
.head 7 -  Call SqlRollback(hSql())
.head 7 -  Return FALSE
.head 6 -  Call SqlPrepareAndExecute(hSqlAux2(), 
"select a.acc into :nAccZ
   from opldok o, accounts a
  where o.ref = :dfRef
    and o.acc = a.acc and a.tip = 'ZAL'")
.head 6 +  While SqlFetchNext(hSqlAux2(), nFetchRes)
.head 7 +  If nTipd = 1
.head 8 +  If not SqlPrepareAndExecute(hSql(),
"begin
   update cc_accp set nd = " || Str(ND) || " where acc = " || Str(nAccZ) || " and accs = " || Str(nAcc) || ";
   if sql%rowcount = 0 then
      insert into cc_accp(acc, accs, nd) values (" || Str(nAccZ) || ", " || Str(nAcc) || ", " || Str(ND) || ");
   end if;  
 end;")
.head 9 -  Call SqlRollback(hSql())
.head 9 -  Call SalMessageBox("Ошибка-3 открытия счета залога (update cc_accp)", CurrentLangTable.GetAtomTitle('cTErr'), MB_IconExclamation | MB_Ok)
.head 9 -  Return FALSE
.head 7 +  If not SqlPrepareAndExecute(hSql(), "insert into nd_acc (nd, acc) values (:ND, :nAccZ)")
.head 8 -  Call SqlRollback(hSql())
.head 8 -  Return FALSE
.head 6 -  Call SqlCommitEx(hSql(), AppCode || "Привязан документ залога РЕФ" || Str(dfRef) || " к договору " || Str(ND))
.head 6 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('dlgLinkZal.cTMsgLink') || " РЕФ" || Str(dfRef) || " " || 
     CurrentLangTable.GetAtomTitle('dlgLinkZal.cTForDeal') || " " || Str(ND), 
     CurrentLangTable.GetAtomTitle('cTInfo'), MB_IconAsterisk | MB_Ok)
.head 5 +  Else
.head 6 +  If dfNlsZ = STRING_Null or dfKvZ = NUMBER_Null or dfSummaZ = NUMBER_Null or dfSummaZ = 0
.head 7 -  ! Не все поля заполнены!
.head 7 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('dlgLinkZal.cTMsgEmptyFields'), CurrentLangTable.GetAtomTitle('cTAt'), MB_IconExclamation | MB_Ok)
.head 7 -  Return FALSE
.head 6 -  Set V_ZAL = GetGlobalOptionEx('MBK_ZAL')
.head 6 +  If V_ZAL = 0
.head 7 -  Set V_ZAL = 21
.head 6 +  If not SqlPLSQLCommand(hSql(), "Op_Reg(2, ND, V_ZAL, 2, nTmp, nRnk, 
   dfNlsZ, dfKvZ, sNamB, 'ZAL', nIsp, nAccZ)")
.head 7 -  Call SqlRollback(hSql())
.head 7 -  Call SalMessageBox("Ошибка открытия счета залога (op_reg)", CurrentLangTable.GetAtomTitle('cTErr'), MB_IconExclamation | MB_Ok)
.head 7 -  Return FALSE
.head 6 -  Call SqlPrepareAndExecute(hSql(), "select nls into :dfNlsZ from accounts where acc = :nAccZ")
.head 6 -  Call SqlFetchNext(hSql(), nFetchRes)
.head 6 +  If not SqlPLSQLCommand(hSql(), "p_setAccessByAccmask(nAccZ, nAcc)")
.head 7 -  Call SqlRollback(hSql())
.head 7 -  Call SalMessageBox("Ошибка-2 открытия счета залога (p_setAccessByAccmask()", CurrentLangTable.GetAtomTitle('cTErr'), MB_IconExclamation | MB_Ok)
.head 7 -  Return FALSE
.head 6 +  If nTipd = 1
.head 7 +  If not SqlPrepareAndExecute(hSql(),
"begin
   update cc_accp set nd = " || Str(ND) || " where acc = " || Str(nAccZ) || " and accs = " || Str(nAcc) || ";
   if sql%rowcount = 0 then
      insert into cc_accp(acc, accs, nd) values (" || Str(nAccZ) || ", " || Str(nAcc) || ", " || Str(ND) || ");
   end if;  
 end;")
.head 8 -  Call SqlRollback(hSql())
.head 8 -  Call SalMessageBox("Ошибка-3 открытия счета залога (update cc_accp)", CurrentLangTable.GetAtomTitle('cTErr'), MB_IconExclamation | MB_Ok)
.head 8 -  Return FALSE
.head 6 +  If not SqlPrepareAndExecute(hSql(), "insert into nd_acc (nd, acc) values (:ND, :nAccZ)")
.head 7 -  Call SqlRollback(hSql())
.head 7 -  Call SalMessageBox("Ошибка-4 открытия счета залога (insert into nd_acc)", CurrentLangTable.GetAtomTitle('cTErr'), MB_IconExclamation | MB_Ok)
.head 7 -  Return FALSE
.head 6 -  Set s9910 = ''
.head 6 +  If nHAVETOBO = 2
.head 7 -  Call SqlPrepareAndExecute(hSql(), "SELECT Substr(tobopack.GetTOBOParam('NLS_9900'),1,15) INTO :s9910 FROM dual") 
.head 7 -  Call SqlFetchNext(hSql(), nFetchRes) 
.head 6 +  Else
.head 7 -  Call SqlPrepareAndExecute(hSql(), "SELECT nlsm INTO :s9910 FROM tts WHERE tt='ZAL'")
.head 7 -  Call SqlFetchNext(hSql(), nFetchRes) 
.head 6 +  If s9910 = ''
.head 7 -  Call SalMessageBox("Невозможно определить счет 9 кл.", CurrentLangTable.GetAtomTitle('cTErr'), MB_IconExclamation | MB_Ok)
.head 7 -  Return FALSE
.head 6 -  Set nVob_VZAL = GetGlobalOptionEx('MBK_VZAL')
.head 6 -  Set sOKPO = GetBankOkpoS()
.head 6 -  ! == Добавить залог
.head 6 -  Set nRef  = NUMBER_Null
.head 6 -  Set nDk   = IifN(nTipd=1, 1, 0)
.head 6 -  Set nVob  = IifN(nVob_VZAL=0, 6, IifN(dfKvZ=GetBaseVal(), 6, nVob_VZAL))
.head 6 -  Set sOkpo = IifS(sOkpo='', GetBankOkpoS(), sOkpo)
.head 6 -  Set sNd   = IifS(sMBK_ND='REF', '', Subs(SalStrTrimX(CC_ID), 1, 10))
.head 6 -  ! == Открыть залог в bankdate
.head 6 -  Call cDoc.SetDoc (0, 'ZAL', 1-nDk, nVob, sNd,
     GetBankDate(), GetBankDate(), GetBankDate(), GetBankDate(),
     s9910, GetBankName(), GetBankMfo(), '', dfKvZ, dfSummaZ*SalNumberPower(10,nDigZ), sOKPO,
     dfNlsZ, sNamB, GetBankMfo(), '', dfKvZ, dfSummaZ*SalNumberPower(10,nDigZ), sOkpo, 
     CurrentLangTable.GetAtomTitle('KRE_DEPO.cTNazn1') || ' ' || CC_ID || ' ' ||
     CurrentLangTable.GetAtomTitle('cTNaznOt') || ' ' || SalFmtFormatDateTime(colDatDU, 'dd/MM/yyyy'),
     '' , GetIdOper(), '', NUMBER_Null, 0)
.head 6 +  If cDoc.oDoc()
.head 7 -  Set nRef = cDoc.m_nRef
.head 7 -  Call SaveInfoToLog(AppCode || "Введена оп.ZAL реф." || Str(nRef) || " по дог." ||Str(ND) )
.head 7 +  If not SqlPLSQLCommand(hSql(), "mbk.link_nd_ref(ND, nRef)")
.head 8 -  Call SqlRollback(hSql())
.head 8 -  ! Невозможно выполнить оп ZAL
.head 8 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('KRE_DEPO.cTErrExecOp') || ' ZAL', CurrentLangTable.GetAtomTitle('cTErr'), MB_IconExclamation | MB_Ok)
.head 8 -  Return FALSE
.head 7 -  ! == Снять залог в colDatEndDog
.head 7 -  Set nRef = NUMBER_Null
.head 7 -  Call cDoc.SetDoc(0, 'ZAL', nDk, nVob, sNd,
     colDatEndDog, colDatEndDog, colDatEndDog, colDatEndDog,
     s9910, GetBankName(), GetBankMfo(), '', dfKvZ, dfSummaZ*SalNumberPower(10,nDigZ), sOKPO,
     dfNlsZ, sNamB, GetBankMfo(), '', dfKvZ, dfSummaZ*SalNumberPower(10,nDigZ), sOkpo,
     CurrentLangTable.GetAtomTitle('KRE_DEPO.cTNazn2') || ' ' || CC_ID || ' ' ||
     CurrentLangTable.GetAtomTitle('cTNaznOt') || ' ' || SalFmtFormatDateTime(colDatDU, 'dd/MM/yyyy'),
     '' , GetIdOper(), '', NUMBER_Null, 0)
.head 7 +  If cDoc.oDoc()
.head 8 -  Set nRef = cDoc.m_nRef
.head 8 -  Call SaveInfoToLog(AppCode || "Введена оп.ZAL реф." || Str(nRef) || " по дог." ||Str(ND) )
.head 8 +  If not SqlPLSQLCommand(hSql(), "mbk.link_nd_ref(ND, nRef)")
.head 9 -  Call SqlRollback(hSql())
.head 9 -  ! Невозможно выполнить оп ZAL
.head 9 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('KRE_DEPO.cTErrExecOp') || ' ZAL', CurrentLangTable.GetAtomTitle('cTErr'), MB_IconExclamation | MB_Ok)
.head 9 -  Return FALSE
.head 7 +  Else
.head 8 -  Call SqlRollback(hSql())
.head 8 -  ! Невозможно выполнить оп ZAL
.head 8 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('KRE_DEPO.cTErrExecOp') || ' ZAL', CurrentLangTable.GetAtomTitle('cTErr'), MB_IconExclamation | MB_Ok)
.head 8 -  Return FALSE
.head 6 +  Else
.head 7 -  Call SqlRollback(hSql())
.head 7 -  ! Невозможно выполнить оп ZAL
.head 7 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('KRE_DEPO.cTErrExecOp') || ' ZAL', CurrentLangTable.GetAtomTitle('cTErr'), MB_IconExclamation | MB_Ok)
.head 7 -  Return FALSE
.head 6 -  Call SqlCommitEx(hSql(), AppCode || "Добавлен залог к договору " || Str(ND))
.head 6 -  Call SalMessageBox(CurrentLangTable.GetAtomTitle('dlgLinkZal.cTMsgLinkZAL') || " " || Str(ND), 
     CurrentLangTable.GetAtomTitle('cTInfo'), MB_IconAsterisk | MB_Ok)
.head 5 -  Return TRUE
.head 2 +  Window Parameters
.head 3 -  Number: ND
.head 2 +  Window Variables
.head 3 -  Number: nDigZ
.head 3 -  String: sFormat
.head 3 -  String: sNbsZ
.head 3 -  !
.head 3 -  Number: nTipd
.head 3 -  Number: nVidd
.head 3 -  Number: nRnk
.head 3 -  String: sOkpo
.head 3 -  String: sNamB
.head 3 -  String: CC_ID
.head 3 -  Date/Time: colDatDU
.head 3 -  Date/Time: colDatEndDog
.head 3 -  Number: nAcc
.head 3 -  String: sNls
.head 3 -  Number: nIsp
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  Call SalSendMsgToChildren(hWndForm, UM_QueryLabelText, 0, 0)
.head 4 -  Call SalSetWindowText(hWndForm, AppVersion || CurrentLangTable.GetAtomTitle('dlgLinkZal.cTWndTitle'))
.head 4 -  Call PrepareWindowEx(hWndForm)
.head 4 -  Set nDigZ = 2
.head 4 -  Call SalDisableWindow(dfSummaZ)
.head 4 -  Call SalDisableWindow(dfKvZ)
.head 4 -  Call SalDisableWindow(dfNlsZ)
.head 4 -  Call GetDeal()
.head 1 +  Table Window: tblDelRef
.head 2 -  Class: cGenericTable
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Отвязка документов от договора
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Class Default
.head 2 -  Visible? Class Default
.head 2 -  Display Settings
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? Class Default
.head 3 -  Initial State: Class Default
.head 3 -  Maximizable? Class Default
.head 3 -  Minimizable? Class Default
.head 3 -  System Menu? Class Default
.head 3 -  Resizable? Class Default
.head 3 -  Window Location and Size
.head 4 -  Left:   Default
.head 4 -  Top:    Default
.head 4 -  Width:  14.2"
.head 4 -  Width Editable? Class Default
.head 4 -  Height: 6.0"
.head 4 -  Height Editable? Class Default
.head 3 -  Font Name: Class Default
.head 3 -  Font Size: Class Default
.head 3 -  Font Enhancement: Class Default
.head 3 -  Text Color: Class Default
.head 3 -  Background Color: Class Default
.head 3 -  View: Class Default
.head 3 -  Allow Row Sizing? Class Default
.head 3 -  Lines Per Row: Class Default
.head 2 -  Memory Settings
.head 3 -  Maximum Rows in Memory: Class Default
.head 3 -  Discardable? Class Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Class Default
.head 4 -  Location? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Size: Class Default
.head 4 -  Size Editable? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 3 +  Contents
.head 4 +  Pushbutton: pbIns
.head 5 -  Class Child Ref Key: 33
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbDel
.head 5 -  Class Child Ref Key: 34
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbRefresh
.head 5 -  Class Child Ref Key: 35
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbUpdate
.head 5 -  Class Child Ref Key: 36
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 -  Line
.head 5 -  Resource Id: 33342
.head 5 -  Class Child Ref Key: 37
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Coordinates
.head 6 -  Begin X:  4.583"
.head 6 -  Begin Y:  Class Default
.head 6 -  End X:  4.583"
.head 6 -  End Y:  Class Default
.head 5 -  Visible? Class Default
.head 5 -  Line Style: Class Default
.head 5 -  Line Thickness: Class Default
.head 5 -  Line Color: Class Default
.head 4 +  Pushbutton: pbSearch
.head 5 -  Class Child Ref Key: 38
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbFilter
.head 5 -  Class Child Ref Key: 44
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbDetails
.head 5 -  Class Child Ref Key: 39
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Просмотреть документ
.head 7 -  Set strTip = CurrentLangTable.GetAtomTitle('tblDelRef.cBTipDetails')
.head 4 +  Pushbutton: pbPrint
.head 5 -  Class Child Ref Key: 40
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 -  Line
.head 5 -  Resource Id: 33343
.head 5 -  Class Child Ref Key: 41
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Coordinates
.head 6 -  Begin X:  Class Default
.head 6 -  Begin Y:  Class Default
.head 6 -  End X:  Class Default
.head 6 -  End Y:  Class Default
.head 5 -  Visible? Class Default
.head 5 -  Line Style: Class Default
.head 5 -  Line Thickness: Class Default
.head 5 -  Line Color: Class Default
.head 4 +  Pushbutton: pbExit
.head 5 -  Class Child Ref Key: 42
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:   Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 -  Line
.head 5 -  Resource Id: 33344
.head 5 -  Class Child Ref Key: 43
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cGenericTable
.head 5 -  Coordinates
.head 6 -  Begin X:  Class Default
.head 6 -  Begin Y:  Class Default
.head 6 -  End X:  Class Default
.head 6 -  End Y:  Class Default
.head 5 -  Visible? Class Default
.head 5 -  Line Style: Class Default
.head 5 -  Line Thickness: Class Default
.head 5 -  Line Color: Class Default
.head 2 +  Contents
.head 3 +  Column: colRef
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Реф
.head 4 -  Visible? Class Default
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Right
.head 4 -  Width:  1.2"
.head 4 -  Width Editable? Class Default
.head 4 -  Format: Class Default
.head 4 -  Country: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  Cell Options
.head 5 -  Cell Type? Class Default
.head 5 -  Multiline Cell? Class Default
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Class Default
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Auto Drop Down? Class Default
.head 6 -  Allow Text Editing? Class Default
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Class Default
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: colTt
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Оп.
.head 4 -  Visible? Class Default
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Data Type: Class Default
.head 4 -  Justify: Center
.head 4 -  Width:  0.8"
.head 4 -  Width Editable? Class Default
.head 4 -  Format: Class Default
.head 4 -  Country: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  Cell Options
.head 5 -  Cell Type? Class Default
.head 5 -  Multiline Cell? Class Default
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Class Default
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Auto Drop Down? Class Default
.head 6 -  Allow Text Editing? Class Default
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Class Default
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: colVDat
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Дата
валютирования
.head 4 -  Visible? Class Default
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Data Type: Date/Time
.head 4 -  Justify: Center
.head 4 -  Width:  1.2"
.head 4 -  Width Editable? Class Default
.head 4 -  Format: Date
.head 4 -  Country: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  Cell Options
.head 5 -  Cell Type? Class Default
.head 5 -  Multiline Cell? Class Default
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Class Default
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Auto Drop Down? Class Default
.head 6 -  Allow Text Editing? Class Default
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Class Default
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: colNlsA
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Счет-А
.head 4 -  Visible? Class Default
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Data Type: Class Default
.head 4 -  Justify: Class Default
.head 4 -  Width:  1.6"
.head 4 -  Width Editable? Class Default
.head 4 -  Format: Class Default
.head 4 -  Country: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  Cell Options
.head 5 -  Cell Type? Class Default
.head 5 -  Multiline Cell? Class Default
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Class Default
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Auto Drop Down? Class Default
.head 6 -  Allow Text Editing? Class Default
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Class Default
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: colSn
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Сумма
.head 4 -  Visible? No
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Right
.head 4 -  Width:  1.6"
.head 4 -  Width Editable? Class Default
.head 4 -  Format: Class Default
.head 4 -  Country: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  Cell Options
.head 5 -  Cell Type? Class Default
.head 5 -  Multiline Cell? Class Default
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Class Default
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Auto Drop Down? Class Default
.head 6 -  Allow Text Editing? Class Default
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Class Default
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: colS
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Счет-А
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Data Type: String
.head 4 -  Justify: Right
.head 4 -  Width:  1.6"
.head 4 -  Width Editable? Class Default
.head 4 -  Format: Class Default
.head 4 -  Country: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  Cell Options
.head 5 -  Cell Type? Class Default
.head 5 -  Multiline Cell? Class Default
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Class Default
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Auto Drop Down? Class Default
.head 6 -  Allow Text Editing? Class Default
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Class Default
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: colKv
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Вал.
.head 4 -  Visible? Class Default
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Center
.head 4 -  Width:  0.8"
.head 4 -  Width Editable? Class Default
.head 4 -  Format: Class Default
.head 4 -  Country: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  Cell Options
.head 5 -  Cell Type? Class Default
.head 5 -  Multiline Cell? Class Default
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Class Default
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Auto Drop Down? Class Default
.head 6 -  Allow Text Editing? Class Default
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Class Default
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: colDk
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Д/К
.head 4 -  Visible? Class Default
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Center
.head 4 -  Width:  0.6"
.head 4 -  Width Editable? Class Default
.head 4 -  Format: Class Default
.head 4 -  Country: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  Cell Options
.head 5 -  Cell Type? Class Default
.head 5 -  Multiline Cell? Class Default
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Class Default
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Auto Drop Down? Class Default
.head 6 -  Allow Text Editing? Class Default
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Class Default
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: colNlsB
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Счет-Б
.head 4 -  Visible? Class Default
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Data Type: Class Default
.head 4 -  Justify: Class Default
.head 4 -  Width:  1.6"
.head 4 -  Width Editable? Class Default
.head 4 -  Format: Class Default
.head 4 -  Country: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  Cell Options
.head 5 -  Cell Type? Class Default
.head 5 -  Multiline Cell? Class Default
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Class Default
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Auto Drop Down? Class Default
.head 6 -  Allow Text Editing? Class Default
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Class Default
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: colNazn
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Назначение платежа
.head 4 -  Visible? Class Default
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: 160
.head 4 -  Data Type: Class Default
.head 4 -  Justify: Class Default
.head 4 -  Width:  4.0"
.head 4 -  Width Editable? Class Default
.head 4 -  Format: Class Default
.head 4 -  Country: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  Cell Options
.head 5 -  Cell Type? Class Default
.head 5 -  Multiline Cell? Class Default
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Class Default
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Auto Drop Down? Class Default
.head 6 -  Allow Text Editing? Class Default
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Class Default
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: colSos
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Visible? No
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Class Default
.head 4 -  Width:  Class Default
.head 4 -  Width Editable? Class Default
.head 4 -  Format: Class Default
.head 4 -  Country: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  Cell Options
.head 5 -  Cell Type? Class Default
.head 5 -  Multiline Cell? Class Default
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Class Default
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Auto Drop Down? Class Default
.head 6 -  Allow Text Editing? Class Default
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Class Default
.head 4 -  List Values
.head 4 -  Message Actions
.head 3 +  Column: colDig
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cColumnLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Visible? No
.head 4 -  Editable? No
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Data Type: Number
.head 4 -  Justify: Class Default
.head 4 -  Width:  Class Default
.head 4 -  Width Editable? Class Default
.head 4 -  Format: Class Default
.head 4 -  Country: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  Cell Options
.head 5 -  Cell Type? Class Default
.head 5 -  Multiline Cell? Class Default
.head 5 -  Cell DropDownList
.head 6 -  Sorted? Class Default
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Auto Drop Down? Class Default
.head 6 -  Allow Text Editing? Class Default
.head 5 -  Cell CheckBox
.head 6 -  Check Value:
.head 6 -  Uncheck Value:
.head 6 -  Ignore Case? Class Default
.head 4 -  List Values
.head 4 -  Message Actions
.head 2 -  Functions
.head 2 +  Window Parameters
.head 3 -  Number: ND
.head 2 +  Window Variables
.head 3 -  Boolean: bOk
.head 3 -  Number: nRow
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  Call SalSendMsgToChildren(hWndForm, UM_QueryLabelText, 0, 0)
.head 4 -  Call SalSetWindowText(hWndForm, AppVersion || CurrentLangTable.GetAtomTitle('tblDelRef.cTWndTitle') || " " || Str(ND))
.head 4 -  Call PrepareWindowEx(hWndForm)
.head 4 -  Set hWndForm.tblDelRef.nFlags = GT_NoIns
.head 4 -  Set hWndForm.tblDelRef.strFilterTblName = 'oper'
.head 4 -  Set hWndForm.tblDelRef.strPrintFileName = 'del_ref'
.head 4 -  Set hWndForm.tblDelRef.strSqlPopulate = 
"select oper.ref, oper.vdat, oper.tt, oper.nlsa, oper.nlsb,
        oper.dk, oper.s, oper.kv, oper.nazn, oper.sos, t.dig
   into :hWndForm.tblDelRef.colRef, :hWndForm.tblDelRef.colVDat, :hWndForm.tblDelRef.colTt, 
        :hWndForm.tblDelRef.colNlsA, :hWndForm.tblDelRef.colNlsB,
        :hWndForm.tblDelRef.colDk, :hWndForm.tblDelRef.colSn,
        :hWndForm.tblDelRef.colKv, :hWndForm.tblDelRef.colNazn,
        :hWndForm.tblDelRef.colSos, :hWndForm.tblDelRef.colDig
   from mbd_k_r m, oper, tabval t
  where m.nd = :hWndForm.tblDelRef.ND
    and m.ref = oper.ref
    and oper.kv = t.kv
  order by oper.vdat, oper.ref"
.head 4 -  Call SalSendClassMessage(SAM_Create, 0, 0)
.head 3 +  On SAM_FetchRowDone
.head 4 -  Set colS = Dig4(colSn/100, colDig, 4)
.head 4 +  Select Case colSos
.head 5 +  Case DOC_PAY_BACK
.head 6 -  Call SetTblRowColor( hWndForm, COLOR_DarkRed )
.head 6 -  Break
.head 5 +  Case DOC_PAY_STORNO
.head 6 -  Call SetTblRowColor( hWndForm, COLOR_Red )
.head 6 -  Break
.head 5 +  Case DOC_PAY_INFO
.head 6 -  Call SetTblRowColor( hWndForm, COLOR_Teal )
.head 6 -  Break
.head 5 +  Case DOC_PAY_BOOKED
.head 6 -  Call SetTblRowColor( hWndForm, COLOR_DarkGreen )
.head 6 -  Break
.head 5 +  Case DOC_PAY_FEATURE
.head 6 -  Call SetTblRowColor( hWndForm, COLOR_Blue )
.head 6 -  Break
.head 5 +  Default
.head 6 -  Call SetTblRowColor( hWndForm, COLOR_Purple )
.head 6 -  Break
.head 3 +  On SAM_DoubleClick
.head 4 -  Call DocView(hWndMDI, colRef, 2, 0, '')
.head 3 +  On UM_Update
.head 4 -  Set bOk  = TRUE
.head 4 -  Set nRow = TBL_MinRow
.head 4 +  While SalTblFindNextRow(hWndForm, nRow, ROW_MarkDeleted, 0)
.head 5 -  Call SalTblSetContext(hWndForm, nRow)
.head 5 +  If not SqlPrepareAndExecute(hSql(), "delete from mbd_k_r where nd = :hWndForm.tblDelRef.ND and ref = :hWndForm.tblDelRef.colRef")
.head 6 -  Set bOk = FALSE
.head 6 -  Call SalMessageBox("Ошибка-1 отвязки документа (mbd_k_r)", CurrentLangTable.GetAtomTitle('cTErr'), MB_IconExclamation | MB_Ok)
.head 6 -  Break
.head 5 -  Call SaveInfoToLog(AppCode || "Отвязан документ РЕФ" || Str(hWndForm.tblDelRef.colRef) || " от договора " || Str(ND))
.head 5 +  If colTt = 'ZAL'
.head 6 +  If not SqlPrepareAndExecute(hSql(), "delete from nd_acc  where nd = :hWndForm.tblDelRef.ND and acc in (select acc from opldok where ref = :hWndForm.tblDelRef.colRef)")
.head 7 -  Set bOk = FALSE
.head 7 -  Call SalMessageBox("Ошибка-2 отвязки документа (nd_acc)", CurrentLangTable.GetAtomTitle('cTErr'), MB_IconExclamation | MB_Ok)
.head 7 -  Break
.head 6 +  If not SqlPrepareAndExecute(hSql(), "delete from cc_accp where nd = :hWndForm.tblDelRef.ND and acc in (select acc from opldok where ref = :hWndForm.tblDelRef.colRef)")
.head 7 -  Set bOk = FALSE
.head 7 -  Call SalMessageBox("Ошибка-2 отвязки документа (cc_accp)", CurrentLangTable.GetAtomTitle('cTErr'), MB_IconExclamation | MB_Ok)
.head 7 -  Break
.head 6 -  Call SaveInfoToLog(AppCode || "Отвязаны счета РЕФ" || Str(hWndForm.tblDelRef.colRef) || " от договора " || Str(ND))
.head 4 +  If bOk
.head 5 -  Call SqlCommit(hSql())
.head 5 -  Call SalSendMsg(pbRefresh, SAM_Click, 0, 0)
.head 4 +  Else
.head 5 -  Call SqlRollback(hSql())
.head 1 +  Dialog Box: dlgMbkRepo
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Параметры РЕПО
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left:   Default
.head 4 -  Top:    Default
.head 4 -  Width:  6.15"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 2.8"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  Background Text: Ид. ЦБ
.head 4 -  Resource Id: 25944
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    0.25"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCpId
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   1.3"
.head 6 -  Top:    0.2"
.head 6 -  Width:  4.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: dfCpName
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   1.3"
.head 6 -  Top:    0.5"
.head 6 -  Width:  4.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbCp
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: ctb_pbFilter
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   5.4"
.head 5 -  Top:    0.07"
.head 5 -  Width:  0.4"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If FunNSIGet("cp_kod", "name", sPK, sSem)
.head 7 -  Set dfCpId = Val(sPK)
.head 7 -  Set dfCpName = sSem
.head 3 -  Background Text: Кол-во ЦБ, переданных в залог
.head 4 -  Resource Id: 25945
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    0.85"
.head 5 -  Width:  4.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfKol
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left:   4.3"
.head 6 -  Top:    0.8"
.head 6 -  Width:  1.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Check Box: cb1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cCheckBoxLabeled
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: с передачей прав собственности
.head 4 -  Window Location and Size
.head 5 -  Left:   0.2"
.head 5 -  Top:    1.15"
.head 5 -  Width:  4.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 -  Line
.head 4 -  Resource Id: 25946
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Coordinates
.head 5 -  Begin X:  0.1"
.head 5 -  Begin Y:  1.6"
.head 5 -  End X:  5.9"
.head 5 -  End Y:  1.6"
.head 4 -  Visible? Yes
.head 4 -  Line Style: Etched
.head 4 -  Line Thickness: 1
.head 4 -  Line Color: Default
.head 3 +  Pushbutton: pbSave
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cpbOk
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Сохранить
.head 4 -  Window Location and Size
.head 5 -  Left:   3.3"
.head 5 -  Top:    1.85"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If SalIsNull(dfCpId)
.head 7 -  Call SalMessageBox('Не выбран ид. ЦБ!', 'Увага!', MB_Ok | MB_IconExclamation)
.head 7 -  Return FALSE
.head 6 +  If SalIsNull(dfKol)
.head 7 -  Call SalMessageBox('Не указано кол-во ЦБ, переданных в залог!', 'Увага!', MB_Ok | MB_IconExclamation)
.head 7 -  Return FALSE
.head 6 +  If not SqlPLSQLCommand(hSql(), "REPO.add_cp(nND, dfCpId, dfKol, cb1)")
.head 7 -  Call SqlRollback(hSql())
.head 7 -  Return FALSE
.head 6 -  Call SqlCommit(hSql())
.head 6 -  Call SalEndDialog(hWndForm, TRUE)
.head 3 +  Pushbutton: pbCancel
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cpbCancel
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left:   4.65"
.head 5 -  Top:    1.85"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalEndDialog(hWndForm, FALSE)
.head 2 -  Functions
.head 2 +  Window Parameters
.head 3 -  Number: nND
.head 2 +  Window Variables
.head 3 -  String: sPK
.head 3 -  String: sSem
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  Call PrepareWindowEx(hWndForm)
.head 4 -  Call SalSetFocus(pbCancel)
