Application Description: Перекрытие и(или) расщепление сальдо счетов (MIK 06-06-2000)
	Outline Version - 4.0.26
	Design-time Settings
.data VIEWINFO
0000: 6F00000001000000 FFFF01000D004347 5458566965775374 6174650400010000
0020: 00000000005A0000 002C000000020000 0003000000000000 00BB010000F8FFFF
0040: FFE2FFFFFFFFFFFF FF000000007C0200 004D010000010000 0001000000010000
0060: 000F4170706C6963 6174696F6E497465 6D00000000
.enddata
.data DT_MAKERUNDLG
0000: 02000000001D513A 5C4241525339385C 4C4942524152595C 424152533031352E
0020: 6578651D513A5C42 41525339385C4C49 42524152595C4241 52533031352E646C
0040: 6C1D513A5C424152 5339385C4C494252 4152595C42415253 3031352E61706300
0060: 000101011D513A5C 4241525339385C4C 4942524152595C42 4152533031352E72
0080: 756E1D513A5C4241 525339385C4C4942 524152595C424152 533031352E646C6C
00A0: 1D513A5C42415253 39385C4C49425241 52595C4241525330 31352E6170630000
00C0: 010101175C424152 5339385C42494E5C 424152533031352E 617064175C424152
00E0: 5339385C42494E5C 424152533031352E 646C6C175C424152 5339385C42494E5C
0100: 424152533031352E 6170630000010101 1D513A5C42415253 39385C4C49425241
0120: 52595C4241525330 31352E61706C1D51 3A5C424152533938 5C4C494252415259
0140: 5C42415253303135 2E646C6C1D513A5C 4241525339385C4C 4942524152595C42
0160: 4152533031352E61 70630000010101
.enddata
		Outline Window State: Normal
		Outline Window Location and Size
.data VIEWINFO
0000: 6600040003002D00 0000000000000000 0000B71E5D0E0500 1D00FFFF4D61696E
0020: 0000000000000000 0000000000000000 0000003B00010000 00000000000000E9
0040: 1E800A00008600FF FF496E7465726E61 6C2046756E637469 6F6E730000000000
0060: 0000000000000000 0000000000003200 0100000000000000 0000E91E800A0000
0080: DF00FFFF56617269 61626C6573000000 0000000000000000 0000000000000000
00A0: 3000010000000000 00000000F51E100D 0000F400FFFF436C 6173736573000000
00C0: 0000000000000000 0000000000000000
.enddata
.data VIEWSIZE
0000: D000
.enddata
			Left:   -0.013"
			Top:    0.0"
			Width:  8.013"
			Height: 4.969"
		Options Box Location
.data VIEWINFO
0000: 0118B80BB80B2500
.enddata
.data VIEWSIZE
0000: 0800
.enddata
			Visible? Yes
			Left:   4.15"
			Top:    1.885"
			Width:  3.8"
			Height: 2.073"
		Class Editor Location
			Visible? No
			Left:   0.575"
			Top:    0.094"
			Width:  5.063"
			Height: 2.719"
		Tool Palette Location
			Visible? No
			Left:   6.388"
			Top:    0.729"
		Fully Qualified External References? Yes
		Reject Multiple Window Instances? No
		Enable Runtime Checks Of External References? Yes
		Use Release 4.0 Scope Rules? No
	Libraries
		File Include: Gentbl.apl
		File Include: Genlist.apl
		Dynalib: Absapi.apd
		Dynalib: Global.apd
		File Include: Docfun6.apl
		File Include: Winapi.apl
		File Include: Xsalcpt.apl
		File Include: xsalspl.apl
		File Include: vttblwin.apl
		File Include: Vtmeter.apl
		File Include: Vtarray.apl
		File Include: XSALIMG.APL
		File Include: GENTBLS.APL
		File Include: GENTBLD.APL
		Dynalib: CUSTACNT.APD
	Global Declarations
		Window Defaults
			Tool Bar
				Display Style? Etched
				Font Name: MS Sans Serif
				Font Size: 8
				Font Enhancement: System Default
				Text Color: System Default
				Background Color: System Default
			Form Window
				Display Style? Etched
				Font Name: MS Sans Serif
				Font Size: 8
				Font Enhancement: System Default
				Text Color: System Default
				Background Color: System Default
			Dialog Box
				Display Style? Etched
				Font Name: MS Sans Serif
				Font Size: 8
				Font Enhancement: System Default
				Text Color: System Default
				Background Color: System Default
			Top Level Table Window
				Font Name: MS Sans Serif
				Font Size: 8
				Font Enhancement: System Default
				Text Color: System Default
				Background Color: System Default
			Data Field
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Multiline Field
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Spin Field
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Background Text
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Pushbutton
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
			Radio Button
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Check Box
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Option Button
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
			Group Box
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Child Table Window
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			List Box
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Combo Box
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Line
				Line Color: Use Parent
			Frame
				Border Color: Use Parent
				Background Color: 3D Face Color
			Picture
				Border Color: Use Parent
				Background Color: Use Parent
		Formats
			Number: 0'%'
			Number: #0
			Number: ###000
			Number: ###000;'($'###000')'
			Date/Time: hh:mm:ss AMPM
			Date/Time: M/d/yy
			Date/Time: MM-dd-yy
			Date/Time: dd-MMM-yyyy
			Date/Time: MMM d, yyyy
			Date/Time: MMM d, yyyy hh:mm AMPM
			Date/Time: MMMM d, yyyy hh:mm AMPM
			Date/Time: dd-MM-yyyy hh:mm
		External Functions
		Constants
.data CCDATA
0000: 3000000000000000 0000000000000000 00000000
.enddata
.data CCSIZE
0000: 1400
.enddata
			System
			User
				String: ApdNum   =  '15'
				String: ApdVer   =  '28'
				! История изменений: --------------------------------------------------------|
				! 01 30-11-01  MIK     Положил начало контролю версий                        |
				! 02 13-11-01  MIK     Сделал печать таблицы перекрытий в разные файлы       |
				! 03 11-01-02  NATA    Добавила кнопку авт. выполн. проводок в tblPerekryt   |
				! 04 18-01-02  MIK     В перекрытиях исключил выборку строк с коеф=0         |
				! 05 22-01-02  NATA    Экспорт в файлы dbf
				! 06 31-01-02  NATA    Добавила кнопку "Підкріплення з котлових" 
				! 07 21-05-03  MIK     Увеличил допустимое к-во строк розмежев с 20 до 100   |
				! 08 08-01-04  MIK     Сделал выгрузку схем в dbf по фильтру                 |
				! 09 14-01-04  MIK     Сделал подстановку формул назначения платежа
				! 10 03-02-04  MIK     Ната добавила чтение флага для установки даты документа
				! 11 02-00-04  MIK     Исправил ошибку при подстановке суммы в макросе наз.пл.
				! 12 27-10-05  MIK     Изменил формулу суммы в розмежевании. Исключил минусовую сумму
				! 13 27-10-05  MIK     Не перекрывались активные остатки
				! 14 13-01-06  MIK     Добавил параметр P-"не помещать % в назначение плат"
				! 15 26-01-06  MIK     Можно удалять ненужные строки или помечать нужные по F3
				! 16 21-08-06  MIK     Исправил внесенную неточность по раскраске зеленым вычисленной суммы
				! 17 04-12-06  MIK     Добавил параметр при вызове U - отправлять по ССП
				! 18 20-08-07  MIK     Иногда сбивалось на режим без формулы вычисления суммы
				! 19 04-03-09  MIK     Если в схеме не прописан KvB, то присваиваем KvA
				! 20 05-11-09  MIK     Добавил VKRZN по NLSB и в режиме * POLU присваиваем PLAT, 
				! 21 31-03-10  MIK     Виправив помилку зависання при некоректній формулі призначення платежу
				! 22 27-09-10  MIK     Додав обробку параметра Fnn (виклик з фіксованим способом KAZ(nn,acc))
				! 23 18-11-10  MIK     В "Перекриттях" для міжбанку платника берем NMKK, якщо нема, то NMK. 
				! 24 11-01-12  MIK     По параметру, в "Перекриттях" беремо або NMS aбо стандарт: NMS/NMKK-NMK. 
				! 25 17-04-13  MIK     Відкрив колонку IDS для редактування 
				! 26 05-01-14  MIK     Додав колонку Sub по параметру  GetGlobalOption('SUB')='1' 
				! 27 12-06-14  MIK     Розширив колонку назва рах в конструкторі 
				! 28 23-02-17  MIK     Збільшив размір таблиці перекриття з 1000 до 2500 рядків 
		Resources
		Variables
			Window Handle: hWin0
			Window Handle: hWin1
			Window Handle: hWin2
			Window Handle: hWin3
			Window Handle: hWin4
			Window Handle: hWin6
		Internal Functions
			Function: Sel015	! __exported
				Description: Bars015_Selector
				Returns
				Parameters
					Window Handle: hWndParent
					Number: nMode
					Number: nPar
					String: strPar01
					String: strPar02
				Static Variables
				Local variables
					Number: nFlags
				Actions
					! надо вставить инициализацию apd
					! ! Флаги 1000 - 8x - В перекрытиях использовать наименвание счета плательшика, а не клиента
					Set nFlags = ( nMode & 0x00F0 ) / 16
					Set nMode = nMode & 0x000F
					Select Case nMode
						Case 0 !  Конструктор схем
							If not IsWindow(hWin0)
								Set hWin0 = SalCreateWindow(frmSchemaBld,hWndParent,nPar,strPar01)
							Break
						Case 1  !  Выполнить перекрытие с отслеживанием плановых остатков, без формулы суммы
							If not IsWindow(hWin1)
								Set hWin1 = SalCreateWindow( tblPerekryt,hWndParent,nMode,nPar,strPar01,strPar02,FALSE,nFlags & 0x0008)
							Break
						Case 11 ! Выполнить перекрытие без отслеживания плановых остатков, без формулы суммы 
							If not IsWindow(hWin1)
								Set hWin1 = SalCreateWindow( tblPerekryt,hWndParent,nMode,nPar,strPar01,strPar02,FALSE,nFlags & 0x0008)
							Break
						Case 13 ! Выполнить перекрытие без отслеживания плановых остатков, с формулой вычисления суммы (только не говорите Казначеям !!!)
							If not IsWindow(hWin1)
								Set hWin1 = SalCreateWindow( tblPerekryt,hWndParent,nMode,nPar,strPar01,strPar02,TRUE,nFlags & 0x0008)
							Break
						!
						Case 2    ! Построение схем новое, без формулы суммы
							If not IsWindow(hWin2)
								Set hWin2 = SalCreateWindow(splSchemaBld,hWndParent,nMode,nPar,strPar01,FALSE)
								! 
										nMode        (4 or   6)      4  - редактирование, 6 просмотр
										nPar         (0 or   1)      0  - показать валюту(для банков)  1-валюту не показывать 
										strSps       ('' or '1')     '' - не показывать колонку способа перекрытий, '1' - показывать
										bFormulaSum  (true, false)   true - c вычислением формулы, false - без вычисления
							Break
						Case 3    ! Выполнение схем, с формулой вычисления суммы
							If not IsWindow(hWin1)
								Set hWin1 = SalCreateWindow( tblPerekryt,hWndParent,nMode,nPar,strPar01,strPar02,TRUE,nFlags & 0x0008)
							Break
						Case 5    ! Разворот остатков на 9 к.
							If not IsWindow(hWin4)
								Set hWin4 = SalCreateWindow(frm_DV,hWndParent)
							Break
						!
						! Просмотр и редактирование схем для казначейства  
						Case 4    ! Построение схем с формулой вычисления суммы
							If not IsWindow(hWin2)
								Set hWin2 = SalCreateWindow(splSchemaBld,hWndParent,nMode,nPar,strPar01,TRUE)
								! 
										nMode        (4 or   6)      4  - редактирование, 6 просмотр
										nPar         (0 or   1)      0  - показать валюту(для банков)  1-валюту не показывать 
										strSps       ('' or '1')     '' - не показывать колонку способа перекрытий, '1' - показывать
										bFormulaSum  (true, false)   true - c вычислением формулы, false - без вычисления
							Break
						Case 6    ! Просмотр схем с формулой вычисления суммы
							If not IsWindow(hWin2)
								Set hWin2 = SalCreateWindow(splSchemaBld,hWndParent,nMode,nPar,strPar01,TRUE)
								! 
										nMode        (4 or   6)      4  - редактирование, 6 просмотр
										nPar         (0 or   1)      0  - показать валюту(для банков)  1-валюту не показывать 
										strSps       ('' or '1')     '' - не показывать колонку способа перекрытий, '1' - показывать
										bFormulaSum  (true, false)   true - c вычислением формулы, false - без вычисления
							Break
						!
						!
						Case 7  ! banks.ssp  Выполнить перекрытие...
							If not IsWindow(hWin1)
								Set hWin1 = SalCreateWindow( tblPerekryt,hWndParent,nMode,nPar,strPar01,strPar02,FALSE,nFlags & 0x0008)
							Break
						Case 8  ! tts.flags  Выполнить перекрытие...
							If not IsWindow(hWin1)
								Set hWin1 = SalCreateWindow( tblPerekryt,hWndParent,nMode,nPar,strPar01,strPar02,FALSE,nFlags & 0x0008)
							Break
			Function: ShowApdVersion
				Description: Показать версию APD
				Returns
				Parameters
					String: sWin
				Static Variables
				Local variables
					String: strText
					Number: nLength
				Actions
					Call SalStrSetBufferLength( strText, 160 )
					Set nLength = SalGetWindowText ( hWndForm, strText, 160 )
					Call SalSetWindowText ( hWndForm, ApdNum||sWin||ApdVer||' '||SalStrTrimX(strText) )
		Named Menus
		Class Definitions
.data RESOURCE 0 0 1 25218691
0000: 37010000A2000000 0000000000000000 0200000200FFFF01 00160000436C6173
0020: 73566172004F7574 6C696E6552006567 496E666F22003C00 000A630047656E46
0040: 696C746500727400 00000400001E0002 0400C10001000000 3F8001F800000037
0060: 040001F00D000000 FF1F110000DC0002 00FF7F1570000000 0100FFFF21018022
0080: 000001C200000B63 47F8444669B30004 00770200F601004F 800100FE008D0400
00A0: 010DFD00FF371100 02F700FFDF15DC00 0100FF7F
.enddata
			Functional Class: cDocPerekryt
				Description:
				Derived From
					Class: cDoc
				Class Variables
				Instance Variables
					Boolean: bSignInit
				Functions
					Function: sIni
						Description: Инициализировать ЭЦП
						Returns
							Boolean:
						Parameters
						Static Variables
						Local variables
							String: strDay
							Number: nDay
							Number: nErrorSign
							String: strErrorSign
							String: strPinCode
						Actions
							If bSignInit and tblPerekryt.obTimer 
								Return TRUE
							! вызываем cDoc.sIni
							If cDoc.sIni()
								Set bSignInit = TRUE
								Return TRUE
							Return FALSE
							! Комментарий
								! 'NBU' -- используется ЭЦП НБУ
								! 'UKR' -- используется ЭЦП Банка 'Украина'
		Default Classes
			MDI Window: cBaseMDI
			Form Window:
			Dialog Box:
			Table Window:
			Quest Window:
			Data Field:
			Spin Field:
			Multiline Field:
			Pushbutton:
			Radio Button:
			Option Button:
			Check Box:
			Child Table:
			Quest Child Window: cQuickDatabase
			List Box:
			Combo Box:
			Picture:
			Vertical Scroll Bar:
			Horizontal Scroll Bar:
			Column:
			Background Text:
			Group Box:
			Line:
			Frame:
			Custom Control:
		Application Actions
	Table Window: tblPerekryt     !! 01
		Class: cGenericTable
		Property Template:
		Class DLL Name:
		Title: Перекрытие/расщепление сальдо счетов
		Icon File:
		Accesories Enabled? Class Default
		Visible? No
		Display Settings
			Visible at Design time? Yes
			Automatically Created at Runtime? Class Default
			Initial State: Normal
			Maximizable? Class Default
			Minimizable? Class Default
			System Menu? Class Default
			Resizable? Class Default
			Window Location and Size
				Left:   0.06"
				Top:    0.567"
				Width:  13.533"
				Width Editable? Class Default
				Height: 5.952"
				Height Editable? Class Default
			Font Name: Default
			Font Size: Default
			Font Enhancement: Class Default
			Text Color: Class Default
			Background Color: System Window Color
			View: Class Default
			Allow Row Sizing? Class Default
			Lines Per Row: Class Default
		Memory Settings
			Maximum Rows in Memory: 2500
			Discardable? No
		Description: Перекрытие\расщепление сальдо счетов
		Named Menus
		Menu
		Tool Bar
			Display Settings
				Display Style? Class Default
				Location? Class Default
				Visible? Class Default
				Size: Class Default
				Size Editable? Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Text Color: Class Default
				Background Color: Class Default
			Contents
				Pushbutton: pbIns
					Class Child Ref Key: 33
					Class ChildKey: 0
					Class: cGenericTable
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Pushbutton: pbDel
					Class Child Ref Key: 34
					Class ChildKey: 0
					Class: cGenericTable
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
						On SAM_Click
							Set nRowContext = SalTblQueryContext ( hWndForm )
							Call SalArraySetUpperBound ( aAcc, 1, -1 )
							Set i=0
							Set nRow = TBL_MinRow
							While SalTblFindNextRow(hWndForm, nRow, ROW_Selected, 0)
								Call SalTblSetContext( hWndForm, nRow )
								Set aAcc[i]=colAcc
								Set i=i+1
							Set nRow = TBL_MinRow
							While SalTblFindNextRow(hWndForm, nRow, 0, 0)
								Call SalTblSetContext( hWndForm, nRow )
								If VisArrayFindNumber (aAcc, tblPerekryt.colAcc)>=0
									Call SalTblSetRowFlags(hWndForm,nRow,ROW_MarkDeleted,
											not SalTblQueryRowFlags(hWndForm,nRow,ROW_MarkDeleted))
							Call SalTblSetContext( hWndForm, nRowContext )
				Pushbutton: pbRefresh
					Class Child Ref Key: 35
					Class ChildKey: 0
					Class: cGenericTable
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Pushbutton: pbUpdate
					Class Child Ref Key: 36
					Class ChildKey: 0
					Class: cGenericTable
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Line
					Resource Id: 44327
					Class Child Ref Key: 37
					Class ChildKey: 0
					Class: cGenericTable
					Coordinates
						Begin X:  Class Default
						Begin Y:  Class Default
						End X:  Class Default
						End Y:  Class Default
					Visible? Class Default
					Line Style: Class Default
					Line Thickness: Class Default
					Line Color: Class Default
				Line
					Resource Id: 44328
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class:
					Coordinates
						Begin X:  11.683"
						Begin Y:  -0.012"
						End X:  11.683"
						End Y:  0.452"
					Visible? Yes
					Line Style: Etched
					Line Thickness: 1
					Line Color: 3D Shadow Color
				Pushbutton: pbSearch
					Class Child Ref Key: 38
					Class ChildKey: 0
					Class: cGenericTable
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Pushbutton: pbFilter
					Class Child Ref Key: 44
					Class ChildKey: 0
					Class: cGenericTable
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
						On SAM_Create
							Set strTip = 'Фильтр'
						On SAM_Click
							If SetQueryFilter( cF )
								Set sFilt=''
								If cF.GetFilterWhereClause( FALSE )
									Set sFilt = 'AND '|| cF.GetFilterWhereClause( FALSE )
								Call SalSendMsg(hWndForm,UM_Populate,0,0)
				Pushbutton: pbDetails
					Class Child Ref Key: 39
					Class ChildKey: 0
					Class: cGenericTable
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Pushbutton: pbPrint
					Class Child Ref Key: 40
					Class ChildKey: 0
					Class: cGenericTable
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
						On SAM_Click
							Set sFilNem=GetFilNem('PRKR'||SalFmtFormatDateTime(GetBankDate(),'ddMM'))
							Call TablePrint(tblPerekryt, 'Перекриття/розмежування сальдо рахунків',sFilNem,'')
				Line
					Resource Id: 44329
					Class Child Ref Key: 41
					Class ChildKey: 0
					Class: cGenericTable
					Coordinates
						Begin X:  Class Default
						Begin Y:  Class Default
						End X:  Class Default
						End Y:  Class Default
					Visible? Class Default
					Line Style: Class Default
					Line Thickness: Class Default
					Line Color: Class Default
				Pushbutton: pbExit
					Class Child Ref Key: 42
					Class ChildKey: 0
					Class: cGenericTable
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Line
					Resource Id: 44330
					Class Child Ref Key: 43
					Class ChildKey: 0
					Class: cGenericTable
					Coordinates
						Begin X:  Class Default
						Begin Y:  Class Default
						End X:  Class Default
						End Y:  Class Default
					Visible? Class Default
					Line Style: Class Default
					Line Thickness: Class Default
					Line Color: Class Default
				Background Text: Группа:
					Resource Id: 44331
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class:
					Window Location and Size
						Left:   5.283"
						Top:    0.119"
						Width:  1.35"
						Width Editable? Yes
						Height: 0.25"
						Height Editable? Yes
					Visible? Yes
					Justify: Right
					Font Name: Default
					Font Size: 10
					Font Enhancement: Bold
					Text Color: Default
					Background Color: Default
				Combo Box: cmbGroups
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class: cGenComboBox_NumId
					Property Template:
					Class DLL Name:
					Window Location and Size
						Left:   6.683"
						Top:    0.095"
						Width:  4.9"
						Width Editable? Class Default
						Height: 5.679"
						Height Editable? Class Default
					Visible? Class Default
					Editable? No
					String Type: Class Default
					Maximum Data Length: Class Default
					Sorted? Class Default
					Always Show List? Class Default
					Vertical Scroll? Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Bold
					Text Color: Class Default
					Background Color: System Window Color
					Input Mask: Class Default
					List Initialization
					Message Actions
						On SAM_Create
							If cmbGroups.Init( hWndItem )
								Call cmbGroups.Populate( hSql(), 'idg', 'name', 'perekr_g', 'ORDER BY name' )
								Call cmbGroups.SetSelectById( nGrp )
						On SAM_Click
							Call SalSendClassMessage( SAM_Click, 0, 0 )
							Set nGrp=cmbGroups.nCurrentId
							Set nI = 0
							Call SalSendMsg( hWndForm, UM_Populate, 0, 0 )
				Pushbutton: pbRun
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class: ctb_pbExecute
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   11.83"
						Top:    0.071"
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
						On SAM_Click
							Set bOk=TRUE
							Set sNlsA = STRING_Null
							Set nKvA = 0
							Set nRow = TBL_MinRow
							While SalTblFindNextRow( tblPerekryt, nRow, 0, ROW_MarkDeleted )
								Call SalTblSetContext( tblPerekryt, nRow )
								Set dfNrow=nRow 
								If sNlsA != colNlsA
									If bOk and sNlsA and nKvA
										Call SqlCommit(hSql())
										! If nRow > 2400  ! Вся таблиця 2500
											 Call SalMessageBox( 'Переполнение таблицы. Часть данных не обработана.','Внимание', MB_IconExclamation )
											 Break 
									Set sNlsA=colNlsA
									Set nKvA=colKvA
									Set bOk=TRUE
								If bOk and colAmount and colSel 
									If colKvA=colKvB
										Set nTmp=colAmount
									Else
										Set nTmp=NUMBER_Null
										If colKvB=GetBaseVal()
											If SqlPrepareAndExecute( hSql(),
													  "SELECT gl.p_icurval(:colKvA,:colAmount,:dDat) INTO :nTmp FROM dual" )
													and SqlFetchNext(hSql(), nFetchRes )
									! Дата документа
									If nMode=8
										If colFlagDat=1
											Call SqlPrepareAndExecute( hSql(), "SELECT TRUNC(SYSDATE) INTO :dDatD FROM dual" )
											If not SqlFetchNext( hSql(), nFetchRes )
												Set dDatD=dDat
										Else If colFlagDat=2
											Set dDatD=SalDateCurrent()
										Else
											Set dDatD=dDat
									Else
										Set dDatD=dDat
									If bSSP or nMode=7 and colSSP = 1
										Set nPrty=1
									Else
										Set nPrty=0
									!
									If SalStrLength(colNazn)<=160
										Set sNazn=colNazn
										Set sDrec =''
									Else
										Set sNazn =SalStrTrimX(SalStrLeftX(colNazn,160))
										Set sDrec ='#П'||
												Subs(SalStrTrimX(SalStrRightX(colNazn,SalStrLength(colNazn)-160)), 1, 57 ) || '#'
									!
									Call cDoc.SetDoc( 0, colTT, colDk, colVob,'', dDatD, dDat, dDat, dDat,
											     colNlsA, colPlat, sBankMfo,'', colKvA, colAmount, colOkpoA,
											     colNlsB, colPolu,  colMfoB,'', colKvB, nTmp,      colOkpoB, 
											    sNazn, sDrec,GetIdOper(),'',NUMBER_Null,nPrty )
									If GetGlobalOption('SUB')='1' 
										Set cDoc.m_sSub=colSub
									If cDoc.oDoc()
										If colLevB
											If not SqlPrepareAndExecute( hSql(),"
													   INSERT INTO operw (ref,tag,value) VALUES (:cDoc.m_nRef,'LEVB',:colLevB)")
												Call SqlRollback(hSql())
												Set bOk=FALSE
										Set nI = nI + 1
									Else
										Call SqlRollback(hSql())
										Set bOk=FALSE
							If nRow > 2400  ! Вся таблиця 2500
								Call SalMessageBox( 'Переполнение таблицы. Часть данных не обработана.','Внимание', MB_IconExclamation )
								Set bOk=FALSE
							If bOk and sNlsA and nKvA
								Call SqlCommit(hSql())
								Call SaveFInfoToLog( 'Выполнение перекрытия/расщепления сальдо счетов група ' || SalNumberToStrX( nGrp, 0) || ' - ' || cmbGroups || ' проплачено ' || SalNumberToStrX( nI, 0) || ' документов ' )
								Call MessageInfoEx('Готово.')
							Else
								Call SqlRollback(hSql())
							Call SalWaitCursor( TRUE )
							Call SalSendMsg( hWndForm, UM_Populate, 0, 0 )
							Call SalWaitCursor( FALSE )
						On SAM_Create
							Set strTip = 'Выполнить проводки'
				Data Field: dfNrow
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class:
					Property Template:
					Class DLL Name:
					Data
						Maximum Data Length: 5
						Data Type: Number
						Editable? No
					Display Settings
						Window Location and Size
							Left:   12.971"
							Top:    0.115"
							Width:  0.85"
							Width Editable? Yes
							Height: 0.25"
							Height Editable? Yes
						Visible? Yes
						Border? No
						Justify: Center
						Format: Unformatted
						Country: Default
						Font Name: Default
						Font Size: 10
						Font Enhancement: Bold
						Text Color: Default
						Background Color: 3D Face Color
						Input Mask: Unformatted
					Message Actions
				Pushbutton: pbLocalD
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class: cTBarButton
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   4.683"
						Top:    0.071"
						Width:  0.433"
						Width Editable? Class Default
						Height: 0.321"
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name: \BARS98\RESOURCE\BMP\Rep_join.bmp
					Picture Transparent Color: Gray
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
						On SAM_Click
							Call SalModalDialog( dlg_SetLocDat, hWndForm, dDat)
							Call SalSendMsg( dfLocDat, SAM_Create, 0, 0 )
						On SAM_Create
							If not nFbk
								Call SalDisableWindow(hWndItem)
							Set strTip = 'Установить локальную дату'
				Data Field: dfLocDat
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class:
					Property Template:
					Class DLL Name:
					Data
						Maximum Data Length: Default
						Data Type: Date/Time
						Editable? No
					Display Settings
						Window Location and Size
							Left:   5.283"
							Top:    0.119"
							Width:  1.35"
							Width Editable? Yes
							Height: 0.25"
							Height Editable? Yes
						Visible? Yes
						Border? No
						Justify: Center
						Format: Date
						Country: Default
						Font Name: Default
						Font Size: 10
						Font Enhancement: Bold
						Text Color: Red
						Background Color: 3D Face Color
						Input Mask: Unformatted
					Message Actions
						On SAM_Create
							If dDat=GetBankDate()
								Call SalHideWindow(dfLocDat)
							Else
								Set dfLocDat=dDat
								Call SalShowWindow(dfLocDat)
				Option Button: obTimer
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class:
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   12.283"
						Top:    0.071"
						Width:  0.429"
						Width Editable? Yes
						Height: 0.321"
						Height Editable? Yes
					Visible? No
					Font Name: Default
					Font Size: Default
					Font Enhancement: Default
					Picture File Name: \BARS98\RESOURCE\BMP\Clock.bmp
					Picture Transparent Color: None
					Button Style: Check
					Image Style: Single
					Text Color: Default
					Background Color: Default
					Message Actions
						On SAM_Click
							If obTimer
								If GetSignOn() != 0        ! 0=ЭЦП отключена
									If cDoc.sIni()
										Call SalTimerSet ( hWndItem, TIMER_ID1, 65535 )
									Else
										Set obTimer = not obTimer
										Call SalTimerKill ( hWndItem, TIMER_ID1 )
							Else
								Call SalTimerKill ( hWndItem, TIMER_ID1 )
						On SAM_TooltipSetText
							Return XSalTooltipSetText( lParam, 'Пересканирование Вкл/Выкл' )
						On UM_NoFontChange
							Return TRUE
						On SAM_Timer
							Call SalTimerKill ( hWndItem, TIMER_ID1 )
							Call SalSendMsg( pbRun, SAM_Click, 0, 0 )
							Call SalTimerSet ( hWndItem, TIMER_ID1, 65535 )
				Pushbutton: pbKotl
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class: ctb_pbOk
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   1.371"
						Top:    0.073"
						Width:  0.43"
						Width Editable? No
						Height: 0.317"
						Height Editable? No
					Visible? No
					Keyboard Accelerator: (none)
					Font Name: Default
					Font Size: Default
					Font Enhancement: None
					Picture File Name: \BARS98\RESOURCE\BMP\Doc_m1.bmp
					Picture Transparent Color: Gray
					Image Style: Single
					Text Color: Default
					Background Color: Default
					Message Actions
						On SAM_Create
							Set strTip = 'Пiдкрiплення
									 з котлових'
						On SAM_Click
							Call p_ovr(0)
				Pushbutton: UnSel
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class: cTBarButton
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   12.586"
						Top:    0.073"
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? No
					Keyboard Accelerator: F3
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
						On SAM_Create
							Call SalHideWindow( tblPerekryt.colSel )
						On SAM_Click
							Set bSel=not bSel
							If bSel
								Call SalHideWindow( tblPerekryt.colSel )
							Else
								Call SalShowWindow( tblPerekryt.colSel )
							Set nRow = TBL_MinRow
							While SalTblFindNextRow( tblPerekryt, nRow, 0, 0 )
								Call SalTblSetContext( tblPerekryt, nRow )
								Set tblPerekryt.colSel=bSel
		Contents
			Column: colSel
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Пом
				Visible? Yes
				Editable? Yes
				Maximum Data Length: Default
				Data Type: Number
				Justify: Center
				Width:  0.457"
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Check Box
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value: 1
						Uncheck Value: 0
						Ignore Case? Yes
				List Values
				Message Actions
					On SAM_AnyEdit
						Set nRowContext = SalTblQueryContext ( hWndForm )
						Set nTmp=colAcc
						Set bSelTmp=colSel
						Set nRow = TBL_MinRow
						While SalTblFindNextRow( tblPerekryt, nRow, 0, 0 )
							Call SalTblSetContext( tblPerekryt, nRow )
							If tblPerekryt.colAcc=nTmp 
								Set tblPerekryt.colSel=bSelTmp
							Call SalTblSetRowFlags(hWndForm,nRow,ROW_Edited,FALSE)
						Call SalTblSetContext( hWndForm, nRowContext )
			Column: colVob
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Вид
						оп.
				Visible? Yes
				Editable? No
				Maximum Data Length: 3
				Data Type: Number
				Justify: Center
				Width:  0.486"
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: colTT
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Код
						оп.
				Visible? Yes
				Editable? No
				Maximum Data Length: 3
				Data Type: String
				Justify: Center
				Width:  0.486"
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: colNlsA
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Счет
						А
				Visible? Yes
				Editable? No
				Maximum Data Length: 14
				Data Type: String
				Justify: Left
				Width:  2.0"
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: colKvA
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: ВАЛ
						A
				Visible? Yes
				Editable? No
				Maximum Data Length: 3
				Data Type: Number
				Justify: Center
				Width:  0.457"
				Width Editable? Yes
				Format: #0
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: colNlsB
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Счет
						Б
				Visible? Yes
				Editable? No
				Maximum Data Length: 14
				Data Type: String
				Justify: Left
				Width:  2.0"
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: colKvB
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: ВАЛ
						Б
				Visible? Yes
				Editable? No
				Maximum Data Length: 3
				Data Type: Number
				Justify: Center
				Width:  0.433"
				Width Editable? Yes
				Format: #0
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: colMfoB
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: МФО
						Б
				Visible? Yes
				Editable? No
				Maximum Data Length: 9
				Data Type: String
				Justify: Center
				Width:  1.3"
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: colDk
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Д/К
				Visible? Yes
				Editable? No
				Maximum Data Length: 1
				Data Type: Number
				Justify: Center
				Width:  0.414"
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: colS
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Формула
						суммы
				Visible? No
				Editable? No
				Maximum Data Length: Default
				Data Type: String
				Justify: Left
				Width:  1.567"
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: colOstC
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Остаток
				Visible? No
				Editable? No
				Maximum Data Length: Default
				Data Type: Number
				Justify: Right
				Width:  1.867"
				Width Editable? Yes
				Format: #0
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: colAmount
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Сумма
						документа
				Visible? No
				Editable? No
				Maximum Data Length: Default
				Data Type: Number
				Justify: Right
				Width:  1.5"
				Width Editable? Yes
				Format: #0
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: colAmountS
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Сумма
						документа
				Visible? Yes
				Editable? No
				Maximum Data Length: Default
				Data Type: String
				Justify: Right
				Width:  1.6"
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: colOstB
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Остаток
				Visible? No
				Editable? No
				Maximum Data Length: Default
				Data Type: Number
				Justify: Right
				Width:  1.867"
				Width Editable? Yes
				Format: #0
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: colPlat
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Плательщик
				Visible? Yes
				Editable? No
				Maximum Data Length: 38
				Data Type: String
				Justify: Left
				Width:  3.0"
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: colPolu
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Получатель
				Visible? Yes
				Editable? No
				Maximum Data Length: 38
				Data Type: String
				Justify: Left
				Width:  3.0"
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: colNazn
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Подробности платежа                          
				Visible? Yes
				Editable? Yes
				Maximum Data Length: 250
				Data Type: String
				Justify: Left
				Width:  5.0"
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: colAcc
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Внутр
						# Сч.
				Visible? No
				Editable? No
				Maximum Data Length: Default
				Data Type: Number
				Justify: Right
				Width:  Default
				Width Editable? Yes
				Format: #0
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: colOkpoA
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: ОКПО
						А
				Visible? Yes
				Editable? No
				Maximum Data Length: Default
				Data Type: String
				Justify: Left
				Width:  1.567"
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: colOkpoB
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: ОКПО
						Б
				Visible? Yes
				Editable? No
				Maximum Data Length: Default
				Data Type: String
				Justify: Left
				Width:  1.567"
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: colLevB
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Рівень
				Visible? No
				Editable? No
				Maximum Data Length: 3
				Data Type: Number
				Justify: Center
				Width:  0.5"
				Width Editable? Yes
				Format: #0
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: colSumR
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Сумма
						
				Visible? Yes
				Editable? No
				Maximum Data Length: Default
				Data Type: Number
				Justify: Right
				Width:  1.5"
				Width Editable? Yes
				Format: #0
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: colKoef
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Коеф.
				Visible? Yes
				Editable? No
				Maximum Data Length: Default
				Data Type: Number
				Justify: Right
				Width:  0.5"
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: colKod
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title:
				Visible? No
				Editable? Yes
				Maximum Data Length: Default
				Data Type: Number
				Justify: Left
				Width:  Default
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: colFormula
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title:
				Visible? No
				Editable? Yes
				Maximum Data Length: Default
				Data Type: Long String
				Justify: Left
				Width:  Default
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: colSub
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Субрахунок
				Visible? Yes
				Editable? No
				Maximum Data Length: Default
				Data Type: String
				Justify: Left
				Width:  1.567"
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
					On SAM_Create
						If GetGlobalOption('SUB')='1' 
							Call SalShowWindow(hWndItem)
						Else
							Call SalHideWindow(hWndItem)
			Column: colSSP
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: ssp
				Visible? No
				Editable? Yes
				Maximum Data Length: Default
				Data Type: Number
				Justify: Left
				Width:  Default
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: colFlagDat
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title:
				Visible? No
				Editable? No
				Maximum Data Length: 1
				Data Type: Number
				Justify: Left
				Width:  Default
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: colDig
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title:
				Visible? No
				Editable? Yes
				Maximum Data Length: Default
				Data Type: Number
				Justify: Left
				Width:  Default
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
		Functions
			Function: GetXRate
				Description: Получить кросс курс
				Returns
					Boolean:
				Parameters
					Receive Number: nRatO
					Receive Number: nRatB
					Receive Number: nRatS
					Number: nKv1
					Number: nKv2
					Date/Time: dDat
				Static Variables
				Local variables
					Number: nFetchRes
				Actions
					While TRUE
						If SalStrTrimX(SalStrUpperX( GetDBMS() ))='ORACLE'
							If not SqlPLSQLCommand( hSql(),"gl.x_rat(nRatO,nRatB,nRatS,nKv1,nKv2,dDat)")
								Break
						Else
							If not SqlRetrieve( hSql(), "informix.x_rat",":nKv1,:nKv2,:dDat", ":nRatO,:nRatB,:nRatS" )
								Break
							If not SqlExecute ( hSql() )
								Break
							If not SqlFetchNext( hSql(), nFetchRes )
								Break
						Return TRUE
					Call SqlRollback( hSql() )
					Return FALSE
			Function: p_ovr
				Description: Перенос остатков на overdraft
				Returns
					Boolean:
				Parameters
					Number: nMode    ! 0 - на overdraft,1 - обратно
				Static Variables
				Local variables
					Number: nSuma
					Number: nFlag
					Number: nCount
					String: sNls
					Long String: sErr
				Actions
					Call SalWaitCursor(TRUE)
					If SalStrTrimX(SalStrUpperX(GetDBMS())) = 'ORACLE'
						If SqlPLSQLCommand(hSql(), "p_ovr(nMode)")
							Call SqlCommitEx(hSql(), "Выполнено " || IifS(nMode=0,
									     "От", "За") || "крытие ночного овердрафта")
						Else
							Call SqlRollback(hSql())
							Call MessageNoWait( 'Ошибка при выполнении овердрафта!', 'OVERDRAFT', 30, 1 )
							Return FALSE
					Else
						Call SqlRetrieve(hSql(), "informix.p_ovr", ":nMode", "")
						Return SqlExecute(hSql())
					Set nCount = 0
					If SqlPrepareAndExecute(hSql() , "select count(*) into :nCount from P_ovr_err") and  
							   SqlFetchNext( hSql(), nFetchRes ) and
							   nCount != 0
						Call SalWaitCursor(FALSE)
						Call SalModalDialog( dlg_P_Ovr,hWndNULL )
					Else
						Call MessageNoWait( 'Выполнение овердрафта завершено !', 'OVERDRAFT', 60, 0 )
					Call SalWaitCursor(FALSE)
					Return TRUE
			Function: GetFilNem
				Description: Ищет "свободное" имя файла
				Returns
					String:
				Parameters
					String: sFn
				Static Variables
				Local variables
					Number: i
					String: sTmp
					Date/Time: dDatTmp
				Actions
					Set i=0
					While i<=999
						Set sTmp=GetPrnDir()||'\\'||sFn||'.'||SalFmtFormatNumber(i,'000')
						If SalFileGetDateTime(sTmp,dDatTmp)
							Set i=i+1
						Else
							Break
					Return sTmp
			Function: GetAmount
				Description: Возвращает сумму документа
				Returns
					Number:
				Parameters
				Static Variables
				Local variables
					String: sOutStr
					Date/Time: dDatTmp
					File Handle: hFile
				Actions
					If colFormula
						Set sOutStr = SalStrUpperX(' ' || SalStrTrimX(colFormula))
						While SalStrScan(sOutStr,'#(NLSB)') > 0
							Set sOutStr = SalStrReplaceX(sOutStr,SalStrScan(sOutStr,'#(NLSB)'),7,"'"||colNlsB||"'")
						While SalStrScan(sOutStr,'#(NLSA)') > 0
							Set sOutStr = SalStrReplaceX(sOutStr,SalStrScan(sOutStr,'#(NLSA)'),7,"'"||colNlsA||"'")
						While SalStrScan(sOutStr ,'#(KOD)') > 0
							Set sOutStr = SalStrReplaceX(sOutStr,SalStrScan(sOutStr,'#(KOD)'),6,Str(colKod))
						While SalStrScan(sOutStr ,'#(TT)') > 0
							Set sOutStr = SalStrReplaceX(sOutStr,SalStrScan(sOutStr,'#(TT)'),5,"'"||colTT||"'")
						While SalStrScan(sOutStr ,'#(S)') > 0
							Set sOutStr = SalStrReplaceX(sOutStr,SalStrScan(sOutStr,'#(S)'),4,SalNumberToStrX(colSumR*colKoef,0))
						While SalStrScan(sOutStr ,'#(S0)') > 0
							Set sOutStr = SalStrReplaceX(sOutStr,SalStrScan(sOutStr,'#(S0)'),5,SalNumberToStrX(nS,0))
						If SqlPrepareAndExecute( hSql(), "SELECT "|| sOutStr ||" INTO :tblPerekryt.colAmount FROM dual" ) and SqlFetchNext(hSql(), nFetchRes)
							If colAmount>nS
								Set sErrTxt='Функция '|| sOutStr ||' вернула сумму больше допустимого остатка'
								Set colAmount=0
								Set nColo = COLOR_Salmon
						Else
							Set sErrTxt='Невозможно выполнить ф-ю ' || sOutStr
							Set colAmount=0
							Set nColo = COLOR_Salmon
						Call XSalTblSetCellBackColor( colAmountS, COLOR_Green )
					Else
						Set colAmount=colSumR*colKoef
					Set nS=nS-colAmount
		Window Parameters
			Number: nMode
			Number: nPar
			String: strTabN
			String: sFiltP
			Boolean: bFormulaSum
			Boolean: nNms   ! 8 - назва платника, 0 - стандарт, 1 - завжди NMS
		Window Variables
			String: sX 
			String: sNazn
			String: sDrec 
			String: M5
			String: sBankMfo
			: cF
				Class: cGenFilter
			String: sFilt
			!
			Number: nGrp
			Number: nRow
			: cDoc
				Class: cDocPerekryt
			Date/Time: dDat
			Date/Time: Dat_accouns
			String: ACC
			String: sSps
			String: sS
			Number: nFetchRes
			Number: nS
			Number: nAcc
			Number: nRowLast
			String: sNlsA
			Number: nKvA
			Boolean: bOk
			Boolean: bSel
			Boolean: bSelTmp
			Boolean: bSSP
			Number: nTmp
			Number: nFbk   ! 1 - открыть кнопку Лок Банк Дат
			Number: nFnp   ! 1 - не ставить %% в назначении платежа
			Number: nColo
			!
			Number: nRatO
			Number: nRatB
			Number: nRatS
			!
			String: sFilNem
			Number: nSuma
			Number: nI
			Date/Time: dDatD
			String: sErrTxt
			Number: nMaxDig
			Number: nRowContext
			Number: aAcc[*]
			Number: i
			Number: nPrty
		Message Actions
			On SAM_Create
				Call PrepareWindow( hWndForm )
				Call SetWindowFullSize(hWndForm)
				Set nFlags=GT_NoRet | GT_NoIns | GT_NoUpd
				If SalStrLeftX( GetBankMfo(), 1 ) = '8'
					Call SalShowWindow( pbKotl )
				!
				Set obTimer = FALSE
				Set bSel = TRUE
				If nPar
					Set nGrp=nPar
					Call SalDisableWindow(cmbGroups)
				Else
					Set nGrp=1
				If SalStrScan(strTabN,'F') >= 0  ! Использовать способ вычисления суммы Fnn
					Set sSps=SalStrMidX(strTabN,SalStrScan(strTabN,'F')+1,2)
				If SalStrScan(strTabN,'P') >= 0  ! Не ставить %% в назначении платежа 
					Set nFnp=1
				If SalStrScan(strTabN,'D') >= 0  ! Кнопка ЛОКАЛЬНА БанкДата
					Set nFbk=1
				If SalStrScan(strTabN,'T') >= 0  ! Кнопка ТАЙМЕР
					Call SalShowWindow(obTimer)
				If SalStrScan(strTabN,'U') >= 0  ! Отправлять по ССП
					Set bSSP = TRUE
				If SalStrScan(strTabN,'S') >= 0  ! Используем SALDO 
					Set strTabN='saldo'
				Else ! Используем ACCOUNTS
					Set strTabN='accounts'
				If sFiltP
					Set sFiltP=' AND '||sFiltP
				Set dDat=GetBankDate()
				Set sBankMfo = GetBankMfo()
				Set M5 = Subs(sBankMfo,1,5)
				Call SalSetWindowText( hWndForm, 'Перекрытие\расщепление сальдо счетов' )
				Call ShowApdVersion('01')
				Call cF.Init('SALDO', 'a')
				Set nMaxDig = DigInit()
				Call SalSendClassMessage( SAM_Create, 0, 0 )
			On UM_Populate
				Set nS=0
				Set nAcc=0
				Set nRowLast=0
				Set tblPerekryt.strPrintFileName='Perekr.'||SalStrRightX('000'||SalNumberToStrX(nGrp,0),3)
				Set sErrTxt=''
				Call SalEnableWindow(pbRun)
				If SqlPrepareAndExecute( hSql(),"SELECT MAX(fdat) into :Dat_accouns from saldoa" ) and SqlFetchNext( hSql(), nFetchRes )
					! По требованию или же Лок дата меньше рабочей -  
							  без отслеживания плановых остатков
					Set sX = 
							"SUBSTR( decode( substr( pb.nlsb,5,1), '*', 
							 VKRZN(:M5,substr(pb.nlsb,1,4)||
							           substr(a.nls,5, length(a.nls) - length(pb.nlsb) + 1 ) ||
							           substr( pb.nlsb,6,9)
							       ),
							 pb.nlsb),1,14), "
					If nMode = 11 or  nMode = 13 or    GetBankDate() < Dat_accouns
						Set tblPerekryt.strSqlPopulate = "
								SELECT a.nls, a.kv, pb.mfob,SUBSTR(
								        VKRZN(substr(pb.mfob,1,5), trim(substr( 
								       decode(substr(pb.nlsb,5,1),'*',substr(pb.nlsb,1,4)||substr(a.nls,5), pb.nlsb),1,14))),1,14),       
								       pb.kv, pb.tt, pb.vob,"||
								IifS( sSps=STRING_Null,"KAZ(pa.sps, pa.acc)","KAZ("||sSps||", pa.acc)")||", pb.koef,"||
								IifS( nNms=0,"substr(DECODE(pb.mfob,"||sBankMfo||",a.nms,NVL(k.nmkk,k.nmk)),1,38)","substr(a.nms,1,38)")||",
								       decode(substr(pb.nlsb,5,1),'*',NVL(k.nmkk,k.nmk),pb.polu),pb.nazn,a.acc, k.okpo, 
								       decode(substr(pb.nlsb,5,1),'*',k.okpo, pb.okpo),pb.idr, t.dig "||
								IifS( bFormulaSum,", pb.kod,pb.formula","") || 
								IifS( GetGlobalOption('SUB')='1' ,",pb.sub","")||
								IifS( nMode=7, ", b.ssp ", "" ) ||
								IifS( nMode=8, ", to_number(substr(t.flags,5,1)) ", "" ) || " 
								  FROM specparam pa, perekr_b pb, " || strTabN || " a, tabval t, 
								       customer k, cust_acc c " ||
								IifS( nMode=7, ", banks b ", "" ) || 
								IifS( nMode=8, ", tts t ", "" ) || " 
								 WHERE pa.ids=pb.ids AND pa.acc=a.acc AND a.kv=t.kv AND c.acc=a.acc AND c.rnk=k.rnk AND
								       pa.idg=:tblPerekryt.nGrp AND " ||
								IifS( bFormulaSum, "(pb.koef>0 OR pb.formula IS NOT NULL)","pb.koef>0")||" AND "||
								IifS( sSps=STRING_Null,"KAZ(pa.sps, pa.acc)","KAZ("||sSps||", pa.acc)")||"<>0 "||sFiltP||" "||sFilt|| 
								IifS( nMode=7, " AND b.mfo=pb.mfob ", "" )|| 
								IifS( nMode=8, " AND t.tt=pb.tt ", "" ) || " 
								 ORDER BY a.nls, a.kv"||
								IifS( bFormulaSum,",nvl(pb.kod,0)","")||",pb.koef
								  INTO :tblPerekryt.colNlsA,:tblPerekryt.colKvA,  :tblPerekryt.colMfoB,
								       :tblPerekryt.colNlsB,:tblPerekryt.colKvB,
								       :tblPerekryt.colTT,  :tblPerekryt.colVob,
								       :tblPerekryt.colSumR,:tblPerekryt.colKoef,
								       :tblPerekryt.colPlat,:tblPerekryt.colPolu, :tblPerekryt.colNazn,
								       :tblPerekryt.colAcc, :tblPerekryt.colOkpoA,:tblPerekryt.colOkpoB,
								       :tblPerekryt.colLevB,:tblPerekryt.colDig "||
								IifS( bFormulaSum, ", :tblPerekryt.colKod, :tblPerekryt.colFormula","")||
								IifS( GetGlobalOption('SUB')='1' ,", :tblPerekryt.colSub","")||
								IifS( nMode=7, ", :tblPerekryt.colSSP", "" ) || 
								IifS( nMode=8, ", :tblPerekryt.colFlagDat", "" )
					! лок дата равна (больше ?)  рабочей - 
							  с отслеживанием плановых остатков
					Else
						Set tblPerekryt.strSqlPopulate="
								SELECT a.nls, a.kv, pb.mfob, SUBSTR(
								   VKRZN(substr(pb.mfob,1,5), trim(substr( 
								       decode(substr(pb.nlsb,5,1),'*',substr(pb.nlsb,1,4)||substr(a.nls,5), pb.nlsb),1,14))),1,14),   
								       pb.kv, pb.tt, pb.vob,"||
								IifS( sSps=STRING_Null,"KAZ(pa.sps, pa.acc)","KAZ("||sSps||", pa.acc)")||", pb.koef,"|| 
								IifS( nNms=0,"substr(DECODE(pb.mfob,"||sBankMfo||",a.nms,NVL(k.nmkk,k.nmk)),1,38)","substr(a.nms,1,38)")||",
								       decode(substr(pb.nlsb,5,1),'*',NVL(k.nmkk,k.nmk),pb.polu),pb.nazn,a.acc, k.okpo,
								       decode(substr(pb.nlsb,5,1),'*',k.okpo, pb.okpo),pb.idr, t.dig "||
								IifS( bFormulaSum,", pb.kod,pb.formula","") ||
								IifS( GetGlobalOption('SUB')='1' ,",pb.sub","")||
								IifS( nMode=7, ", b.ssp ", "" ) ||
								IifS( nMode=8, ", to_number(substr(t.flags,5,1)) ", "" ) || " 
								  FROM specparam pa, perekr_b pb, " || strTabN || " a, tabval t, 
								       customer k, cust_acc c "||
								IifS( nMode=7, ", banks b ", "" ) || 
								IifS( nMode=8, ", tts t ", "" ) || " 
								 WHERE pa.ids=pb.ids AND pa.acc=a.acc AND a.kv=t.kv AND c.acc=a.acc AND c.rnk=k.rnk AND
								       pa.idg=:tblPerekryt.nGrp AND KAZ(763, pa.acc)<>0 AND "||
								IifS( bFormulaSum, "(pb.koef>0 OR pb.formula IS NOT NULL)","pb.koef>0")||" AND "||
								IifS( sSps=STRING_Null,"KAZ(pa.sps, pa.acc)","KAZ("||sSps||", pa.acc)")||"<>0 "||sFiltP||" "||sFilt|| 
								IifS( nMode=7, " AND b.mfo=pb.mfob ","" ) || 
								IifS( nMode=8, " AND t.tt=pb.tt ","" ) || " 
								  ORDER BY a.nls,a.kv"||
								IifS( bFormulaSum,",nvl(pb.kod,0)","")||",pb.koef
								  INTO :tblPerekryt.colNlsA,:tblPerekryt.colKvA,  :tblPerekryt.colMfoB,
								       :tblPerekryt.colNlsB,:tblPerekryt.colKvB,
								       :tblPerekryt.colTT,  :tblPerekryt.colVob,
								       :tblPerekryt.colSumR,:tblPerekryt.colKoef,
								       :tblPerekryt.colPlat,:tblPerekryt.colPolu, :tblPerekryt.colNazn,
								       :tblPerekryt.colAcc, :tblPerekryt.colOkpoA,:tblPerekryt.colOkpoB,
								       :tblPerekryt.colLevB,:tblPerekryt.colDig "||
								IifS( bFormulaSum, ", :tblPerekryt.colKod, :tblPerekryt.colFormula","")||
								IifS( GetGlobalOption('SUB')='1' ,", :tblPerekryt.colSub","")||
								IifS( nMode=7, ", :tblPerekryt.colSSP", "" )|| 
								IifS( nMode=8, ", :tblPerekryt.colFlagDat", "" )
				! Call Debug(tblPerekryt.strSqlPopulate)
				Call SalWaitCursor(TRUE)
				Set dfNrow=0
				Call SalTblPopulate(hWndForm, cMain.hSql(), strSqlPopulate, TBL_FillAll)
				Call SalWaitCursor(FALSE)
				If nS != 0
					Call SalTblSetContext( hWndForm, nRowLast )
					Set colAmount=colAmount+nS
					Set colAmountS = Dig4(colAmount/100, colDig, nMaxDig)
					Call SalTblSetContext( hWndForm, 0 )
				Set nS=0
				Set nAcc=0
				!
				If sErrTxt   ! Были ошибки при населении таблицы
					Call SalDisableWindow(pbRun)
					Call MessageErrorEx(sErrTxt||'.')
			On SAM_FetchRowDone
				Set dfNrow=lParam+1 
				Set colSel=bSel
				If not colKvB
					Set colKvB=colKvA
				If colSumR<0
					Set colDk=0
				Else
					Set colDk=1
				Set colSumR=SalNumberAbs( colSumR )
				!
				If nAcc != colAcc
					If nS != 0
						Call SalTblSetContext( hWndForm, lParam - 1 )
						Set colAmount=colAmount+nS
						Set colAmountS = Dig4(colAmount/100, colDig, nMaxDig)
						Call SalTblSetContext( hWndForm, lParam )
					Set nS=colSumR
					Set nAcc=colAcc
					If nColo=COLOR_LightGray
						Set nColo=COLOR_IndexWindow
					Else
						Set nColo=COLOR_LightGray
				! ************* Вычисление суммы документа ****
				Call GetAmount()
				! *********************************************
				Set colAmountS = Dig4(colAmount/100, colDig, nMaxDig)
				If colKoef >0 and colKoef<1
					Set colNazn=colNazn||IifS(nFnp=1,'',' ('||SalStrTrimX( Str( colKoef*100 ) )||'%)')
				If not cDoc.sTranN(colNazn, colNazn, colTT, colNlsA, sBankMfo, colKvA, colAmount, colNlsB, colMfoB, colKvB, 0, 0, 0, 0)
					Set sErrTxt='Ошибка формирования назначения платежа '|| colNazn
				Set nRowLast=lParam
				If nColo=COLOR_LightGray or nColo=COLOR_Salmon
					Call XSalTblSetRowBackColor( hWndForm, lParam, nColo) ! серый
			On SAM_CreateComplete
				Call SalEnableWindow(pbFilter)
				Call SalTblSetTableFlags( hWndForm, TBL_Flag_SelectableCols, FALSE )
				Call SalWaitCursor( FALSE )
			On SAM_Destroy
				If nFbk
					Set dDat=GetBankDate()
					Call Pl_dat(dDat)
			On WM_SetFocus
				If dDat and nFbk
					Call Pl_dat(dDat)
			On SAM_ColumnSelectClick
	Form Window: frmSchemaBld      !! 02
		Class:
		Property Template:
		Class DLL Name:
		Title: Настройка схем распределения / расщепления
		Icon File:
		Accesories Enabled? Yes
		Visible? No
		Display Settings
			Display Style? Default
			Visible at Design time? Yes
			Automatically Created at Runtime? No
			Initial State: Maximized
			Maximizable? Yes
			Minimizable? Yes
			System Menu? Yes
			Resizable? Yes
			Window Location and Size
				Left:   0.063"
				Top:    0.052"
				Width:  10.514"
				Width Editable? Yes
				Height: 7.49"
				Height Editable? Yes
			Form Size
				Width:  Default
				Height: Default
				Number of Pages: Dynamic
			Font Name: Default
			Font Size: Default
			Font Enhancement: Default
			Text Color: Default
			Background Color: Default
		Description:
		Named Menus
		Menu
		Tool Bar
			Display Settings
				Display Style? Default
				Location? Top
				Visible? Yes
				Size: 0.44"
				Size Editable? Yes
				Font Name: Default
				Font Size: Default
				Font Enhancement: Default
				Text Color: Default
				Background Color: Default
			Contents
				Combo Box: cmbGroups
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class: cGenComboBox_NumId
					Property Template:
					Class DLL Name:
					Window Location and Size
						Left:   3.383"
						Top:    0.095"
						Width:  4.0"
						Width Editable? Class Default
						Height: 5.833"
						Height Editable? Class Default
					Visible? Class Default
					Editable? No
					String Type: Class Default
					Maximum Data Length: Class Default
					Sorted? Class Default
					Always Show List? Class Default
					Vertical Scroll? Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Bold
					Text Color: Class Default
					Background Color: Class Default
					Input Mask: Class Default
					List Initialization
					Message Actions
						On SAM_Create
							If cmbGroups.Init( hWndItem )
								Call cmbGroups.Populate( hSql(), 'idg', 'name', 'perekr_g', '' )
								Call cmbGroups.SetSelectById( nGrp )
						On SAM_Click
							Call SalSendClassMessage( SAM_Click, 0, 0 )
							Set nGrp=cmbGroups.nCurrentId
							Call SalSendMsg( tblAccounts, UM_Populate, 0, 0 )
				Combo Box: cmbSchema
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class: cGenComboBox_NumId
					Property Template:
					Class DLL Name:
					Window Location and Size
						Left:   8.533"
						Top:    0.095"
						Width:  4.0"
						Width Editable? Class Default
						Height: 6.298"
						Height Editable? Class Default
					Visible? Class Default
					Editable? Class Default
					String Type: Class Default
					Maximum Data Length: Class Default
					Sorted? Class Default
					Always Show List? Class Default
					Vertical Scroll? Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Input Mask: Class Default
					List Initialization
					Message Actions
						On SAM_Create
							If cmbSchema.Init( hWndItem )
								Call cmbSchema.Populate( hSql(), 'ids', 'name', 'perekr_s', '' )
								Call cmbSchema.SetSelectById( nSch )
						On SAM_Click
							Set bFlag=lParam
							Call SalSendClassMessage( SAM_Click, 0, 0 )
							Set nSch=cmbSchema.nCurrentId
							If not bFlag
								Set tblAccounts.colIds=nSch
								Call SalTblSetRowFlags( tblAccounts, SalTblQueryContext( tblAccounts ), ROW_Edited, TRUE )
							Call SalSendMsg( tblSchema, UM_Populate, 0, 0 )
				Pushbutton: pbDelete
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class: ctb_pbDelete
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   0.533"
						Top:    0.06"
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
						On SAM_Create
							Set strTip = 'Пометить/Снять пометку на удаление'
						On SAM_Click
							Call SalSendMsg( hWndLost, UM_Delete, 0, 0 )
				Pushbutton: pbUpdate
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class: ctb_pbUpdate
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   1.433"
						Top:    0.06"
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: (none)
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
						On SAM_Create
							Set strTip = 'Внести изменения в Базу Данных'
						On SAM_Click
							Call SalSendMsg(hWndForm, UM_Update, 0, 0)
				Pushbutton: pbCancel
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class: ctb_pbCancel
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   1.883"
						Top:    0.06"
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Esc
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
						On SAM_Create
							Set strTip = 'Завершить работу и выйти'
						On SAM_Click
							Call SalSendMsg(hWndForm, UM_Close, 0, 0)
				Pushbutton: pbInsert
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class: ctb_pbInsert
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   0.083"
						Top:    0.06"
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name: \BARS98\RESOURCE\BMP\Insert.bmp
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
						On SAM_Create
							Set strTip = 'Добавить новую запись'
						On SAM_Click
							Call SalSendMsg( hWndLost, UM_Insert, 0, 0 )
				Pushbutton: pbPrint
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class: ctb_pbPrint
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   1.557"
						Top:    0.095"
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? No
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name: \BARS98\RESOURCE\BMP\print.bmp
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
						On SAM_Create
							Set strTip = 'Печать содержания таблицы'
						On SAM_Click
							Call SalSendMsg(hWndForm, UM_Print, 0, 0)
				Pushbutton: pbFilter
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class: ctb_pbFilter
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   0.983"
						Top:    0.06"
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Yes
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
						On SAM_Create
							Set strTip = 'Перечитать записи в таблице (с фильтром)'
						On SAM_Click
							Call SalTblDefineSplitWindow(tblAccounts, 0, FALSE)
							If SetQueryFilter( cF )
								Set sf = cF.GetFilterWhereClause( FALSE )
							Call SalSendMsg(tblAccounts, UM_Populate, 0, 0)
				Background Text: Схема:
					Resource Id: 39314
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class:
					Window Location and Size
						Left:   7.583"
						Top:    0.155"
						Width:  0.833"
						Width Editable? Yes
						Height: 0.167"
						Height Editable? Yes
					Visible? Yes
					Justify: Right
					Font Name: Arial
					Font Size: Default
					Font Enhancement: Default
					Text Color: Default
					Background Color: Default
				Background Text: Группа:
					Resource Id: 39315
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class:
					Window Location and Size
						Left:   2.433"
						Top:    0.155"
						Width:  0.833"
						Width Editable? Yes
						Height: 0.167"
						Height Editable? Yes
					Visible? Yes
					Justify: Right
					Font Name: Arial
					Font Size: Default
					Font Enhancement: Default
					Text Color: Default
					Background Color: Default
				Pushbutton: pbSwitch
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class: ctb_pbSwitch
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   6.129"
						Top:    0.063"
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? No
					Keyboard Accelerator: F12
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
						On SAM_Create
							Set strTip = 'Нацвалюта//инвалюта'
						On SAM_Click
							Set bSwitch=not bSwitch
							If bSwitch
								Call SalHideWindow( tblAccounts.colKvA )
								Call SalHideWindow( tblSchema.colKvB )
								Call SalHideWindow( tblChart.colKv )
							Else
								Call SalShowWindow( tblAccounts.colKvA )
								Call SalShowWindow( tblSchema.colKvB )
								Call SalShowWindow( tblChart.colKv )
				Line
					Resource Id: 26867
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class:
					Coordinates
						Begin X:  2.417"
						Begin Y:  0.036"
						End X:  2.417"
						End Y:  0.5"
					Visible? Yes
					Line Style: Etched
					Line Thickness: 1
					Line Color: 3D Shadow Color
				Pushbutton: pbAll
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class: ctb_pbRelation
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   10.557"
						Top:    0.073"
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? No
					Keyboard Accelerator: F8
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
						On SAM_Click
							Call SalModalDialog( OBN, hWndForm )
						On SAM_Create
							Set strTip = 'Добавить новые счета пакетом'
		Contents
			Custom Control: ccSplitter1
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cXSalVSplitter
				Property Template:
				Class DLL Name:
				Display Settings
					DLL Name:
					MS Windows Class Name:
					Style:  Class Default
					ExStyle:  Class Default
					Title:
					Window Location and Size
						Left:   Default
						Top:    Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Border? Class Default
					Etched Border? Class Default
					Hollow? Class Default
					Vertical Scroll? Class Default
					Horizontal Scroll? Class Default
					Tab Stop? Class Default
					Tile To Parent? Yes
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Text Color: Class Default
					Background Color: Class Default
					DLL Settings
				Message Actions
			Custom Control: ccSplitter2
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cXSalHSplitter
				Property Template:
				Class DLL Name:
				Display Settings
					DLL Name:
					MS Windows Class Name:
					Style:  Class Default
					ExStyle:  Class Default
					Title:
					Window Location and Size
						Left:   Default
						Top:    Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Border? Class Default
					Etched Border? Class Default
					Hollow? Class Default
					Vertical Scroll? Class Default
					Horizontal Scroll? Class Default
					Tab Stop? Class Default
					Tile To Parent? No
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Text Color: Class Default
					Background Color: Class Default
					DLL Settings
				Message Actions
			Child Table: tblAccounts
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Display Settings
					Window Location and Size
						Left:   0.0"
						Top:    0.0"
						Width:  4.786"
						Width Editable? Yes
						Height: 10.0"
						Height Editable? Yes
					Visible? Yes
					Font Name: Default
					Font Size: 9
					Font Enhancement: Bold
					Text Color: Default
					Background Color: Yellow
					View: Table
					Allow Row Sizing? No
					Lines Per Row: Default
				Memory Settings
					Maximum Rows in Memory: 10000
					Discardable? No
				Contents
					Column: colNlsA
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Счет
								А
						Visible? Yes
						Editable? Yes
						Maximum Data Length: 14
						Data Type: String
						Justify: Left
						Width:  1.444"
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
							On SAM_Validate
								If colKvA=NUMBER_Null !! не заполн код валюты
									Call SalSetFocus( tblAccounts.colKvA )
									Return VALIDATE_Ok
								If colNlsA= STRING_Null !! не заполнен номер счета
									Call SalPostMsg(hWndForm, UM_Populate, 0, 0)
									Return VALIDATE_Ok
								If SqlPrepareAndExecute(cMain.hSql(), T('
										 SELECT acc INTO :colAcc FROM accounts WHERE nls=:colNlsA AND kv=:colKvA'))
										and SqlFetchNext(cMain.hSql(),nFetchRes)
									If SqlPrepareAndExecute(cMain.hSql(), T('
											 SELECT acc INTO :colAcc FROM specparam WHERE acc=:colAcc'))
											and SqlFetchNext(cMain.hSql(),nFetchRes)
										Call SalTblSetRowFlags( hWndForm, nRow, ROW_Edited, TRUE )
										Call SalTblSetRowFlags( hWndForm, nRow, ROW_New, FALSE )
									Return VALIDATE_Ok
								Call SalMessageBox( 'Не открыт счет '||colNlsA||'('||SalNumberToStrX(colKvA,0)||')', 'Внимание', MB_IconExclamation )
								Return VALIDATE_Cancel
					Column: colKvA
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: ВАЛ
								А
						Visible? Yes
						Editable? Yes
						Maximum Data Length: 3
						Data Type: Number
						Justify: Center
						Width:  0.433"
						Width Editable? Yes
						Format: #0
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
							On SAM_Validate
								If colNlsA= STRING_Null !! не заполнен номер счета
									Call SalSetFocus( tblAccounts.colNlsA )
									Return VALIDATE_Ok
								Call SalSendMsg( tblAccounts.colNlsA, SAM_Validate, 0, 0)
					Column: colIdg
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: №
								грп
						Visible? Yes
						Editable? No
						Maximum Data Length: 3
						Data Type: Number
						Justify: Right
						Width:  0.4"
						Width Editable? Yes
						Format: #0
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: colIds
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: №
								схм
						Visible? Yes
						Editable? No
						Maximum Data Length: 3
						Data Type: Number
						Justify: Right
						Width:  0.389"
						Width Editable? Yes
						Format: #0
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: colSps
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: спс
						Visible? Yes
						Editable? No
						Maximum Data Length: 4
						Data Type: Number
						Justify: Right
						Width:  0.311"
						Width Editable? Yes
						Format: #0
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: colAcc
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Acc
						Visible? No
						Editable? No
						Maximum Data Length: Default
						Data Type: Number
						Justify: Right
						Width:  0.433"
						Width Editable? Yes
						Format: #0
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
				Functions
				Window Variables
					String: strSqlPopulate	! Строка SQL SELECT                         
					String: strSqlInsert	! Строка SQL INSERT 
					String: strSqlDelete	! Строка SQL DELETE 
					String: strSqlUpdate	! Строка SQL UPDATE 
					String: strTitleAux	
				Message Actions
					On SAM_Create
						Set strSqlDelete='
								 UPDATE specparam SET idg=NULL,ids=NULL,sps=NULL
								 WHERE acc=:colAcc'
						Set strSqlInsert='
								 INSERT INTO specparam (acc,idg,ids,sps)
								  SELECT acc,:colIdg,:colIds,:colSps
								    FROM accounts WHERE nls=:colNlsA AND kv=:colKvA'
						Set strSqlUpdate='
								 UPDATE specparam SET idg=:colIdg,ids=:colIds,sps=:colSps WHERE acc=:colAcc'
					On UM_Populate
						Set strSqlPopulate='
								SELECT a.nls,a.kv,s.idg,s.ids,s.sps,a.acc
								  INTO :colNlsA,:colKvA,:colIdg,:colIds,:colSps,:colAcc
								  FROM accounts a,specparam s 
								 WHERE a.acc=s.acc AND s.idg = :nGrp AND s.ids IS NOT NULL '
								 || IifS(sf !='',' and '||sf,'') || '
								 ORDER BY a.nbs ' 
						Call SalWaitCursor(TRUE)
						Call SalTblDefineSplitWindow(hWndForm, 0, FALSE)
						Call SalTblPopulate(hWndForm, hSql(), T(strSqlPopulate),TBL_FillAll)
						Call SalTblSetContext( hWndForm, 0 )
						Call SalSendMsg( hWndForm, SAM_TblDoDetails, 0, 0 )
						Call SalWaitCursor(FALSE)
					On SAM_TblDoDetails
						Set nSch=colIds
						Call cmbSchema.SetSelectById( nSch )
						Call SalSendMsg( cmbSchema, SAM_Click, 0, 1 )
						Set nAcc=colAcc
						Call SalSendMsg( tblChart, UM_Populate, 0, 0 )
					On SAM_CreateComplete
						Set sf = ''
						Call SalSendMsg( hWndForm, UM_Populate, 0, 0 )
					On UM_Insert
						If not SalTblAnyRows(hWndForm, ROW_New, 0)
							Call SalTblDefineSplitWindow(hWndForm, 3, TBL_Split_Adjustable)
						Set nRow = SalTblInsertRow(hWndForm, TBL_MinRow)
						Call SalTblSetContext(hWndForm, nRow)
						Call SalTblSetFocusCell(hWndForm, nRow,
								     GetFirstEditableColumn(hWndForm), 0, 1)
						Set colIdg=nGrp
						Set colIds=nSch
					On UM_Delete
						Set nRow = TBL_MinRow
						While SalTblFindNextRow(hWndForm, nRow, ROW_Selected, 0)
							If NOT SalTblQueryRowFlags(hWndForm, nRow, ROW_New)
								Call SalTblSetRowFlags(hWndForm, nRow, ROW_MarkDeleted,
										     not SalTblQueryRowFlags(hWndForm, nRow, ROW_MarkDeleted))
							Else
								Call SalTblDeleteRow(hWndForm, nRow, TBL_NoAdjust)
					On UM_Update
						Call SalWaitCursor(TRUE)
						Call SaveInfoToLog(MSG_SaveDataRef() || ' ' || strTitleAux)
						If strSqlDelete != ''
							Call SqlPrepare(cMain.hSql(), T(strSqlDelete))
							Call SalTblDoDeletes(hWndForm, cMain.hSql(), ROW_MarkDeleted)
						If strSqlInsert != ''
							Call SqlPrepare(cMain.hSql(), T(strSqlInsert))
							Call SalTblDoInserts(hWndForm, cMain.hSql(), TRUE)
						If strSqlUpdate != ''
							Call SqlPrepare(cMain.hSql(), T(strSqlUpdate))
							Call SalTblDoUpdates(hWndForm, cMain.hSql(), TRUE)
						Call SqlCommit(cMain.hSql())
						Call SalPostMsg(hWndForm, UM_Populate, 0, 0)
						Call SalWaitCursor(FALSE)
					On SAM_KillFocus
						Set hWndLost=hWndItem
			Child Table: tblSchema
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Display Settings
					Window Location and Size
						Left:   4.886"
						Top:    0.01"
						Width:  8.85"
						Width Editable? Yes
						Height: 2.464"
						Height Editable? Yes
					Visible? Yes
					Font Name: Default
					Font Size: 9
					Font Enhancement: Bold
					Text Color: Default
					Background Color: Light Periwinkle
					View: Table
					Allow Row Sizing? No
					Lines Per Row: Default
				Memory Settings
					Maximum Rows in Memory: Default
					Discardable? No
				Contents
					Column: colVob
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Вид
								Док
						Visible? Yes
						Editable? Yes
						Maximum Data Length: 3
						Data Type: Number
						Justify: Center
						Width:  0.414"
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: colTT
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Код
								оп.
						Visible? Yes
						Editable? Yes
						Maximum Data Length: 3
						Data Type: String
						Justify: Center
						Width:  0.367"
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: colMfoB
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: МФО
								Б
						Visible? Yes
						Editable? Yes
						Maximum Data Length: 9
						Data Type: String
						Justify: Center
						Width:  0.986"
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: colNlsB
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Счет
								Б
						Visible? Yes
						Editable? Yes
						Maximum Data Length: 14
						Data Type: String
						Justify: Left
						Width:  1.411"
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: colKvB
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: ВАЛ
								Б
						Visible? Yes
						Editable? Yes
						Maximum Data Length: 3
						Data Type: Number
						Justify: Center
						Width:  0.433"
						Width Editable? Yes
						Format: #0
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: colKoef
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Коеф.
						Visible? Yes
						Editable? Yes
						Maximum Data Length: Default
						Data Type: Number
						Justify: Right
						Width:  0.5"
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: colPolu
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Получатель
						Visible? Yes
						Editable? Yes
						Maximum Data Length: 38
						Data Type: String
						Justify: Left
						Width:  2.529"
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: colNazn
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Подробности платежа                          
						Visible? Yes
						Editable? Yes
						Maximum Data Length: 160
						Data Type: String
						Justify: Left
						Width:  1.943"
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: colOkpoB
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: ОКПО
								Б
						Visible? Yes
						Editable? Yes
						Maximum Data Length: Default
						Data Type: String
						Justify: Left
						Width:  1.171"
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: colLevB
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Рівень
						Visible? Yes
						Editable? Yes
						Maximum Data Length: 3
						Data Type: Number
						Justify: Center
						Width:  0.5"
						Width Editable? Yes
						Format: #0
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: colRowId
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: RowId
						Visible? No
						Editable? No
						Maximum Data Length: Default
						Data Type: String
						Justify: Left
						Width:  Default
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
				Functions
				Window Variables
					String: strSqlPopulate	! Строка SQL SELECT                         
					String: strSqlInsert	! Строка SQL INSERT 
					String: strSqlDelete	! Строка SQL DELETE 
					String: strSqlUpdate	! Строка SQL UPDATE 
					String: strTitleAux	
				Message Actions
					On SAM_Create
						Set strSqlPopulate='
								SELECT vob,tt,mfob,nlsb,kv,koef,polu,nazn,okpo,idr,rowid
								  INTO :colVob,:colTT,:colMfoB,:colNlsB,:colKvB,:colKoef,
								       :colPolu,:colNazn,:colOkpoB,:colLevB,:colRowId
								  FROM perekr_b WHERE ids=:nSch ORDER by koef' 
						Set strSqlDelete='
								 DELETE FROM perekr_b WHERE rowid=:colRowId'
						Set strSqlInsert='
								 INSERT INTO perekr_b (ids,vob,tt,mfob,nlsb,kv,koef,polu,nazn,okpo,idr)
								  VALUES (:nSch,:colVob,:colTT,:colMfoB,:colNlsB,:colKvB,:colKoef,
								          :colPolu,:colNazn,:colOkpoB,:colLevB)'
						Set strSqlUpdate='
								 UPDATE perekr_b SET ids=:nSch,tt=:colTT,vob=:colVob,
								        mfob=:colMfoB,nlsb=:colNlsB,kv=:colKvB,koef=:colKoef,
								        polu=:colPolu,nazn=:colNazn,okpo=:colOkpoB,idr=:colLevB
								  WHERE rowid=:colRowId'
					On UM_Populate
						Call SalWaitCursor(TRUE)
						Call SalTblDefineSplitWindow(hWndForm, 0, FALSE)
						Call SalTblPopulate(hWndForm, hSql(), T(strSqlPopulate),TBL_FillAll)
						Call SalWaitCursor(FALSE)
					On SAM_CreateComplete
						Call SalSendMsg( hWndForm, UM_Populate, 0, 0 )
					On UM_Insert
						If not SalTblAnyRows(hWndForm, ROW_New, 0)
							Call SalTblDefineSplitWindow(hWndForm, 3,
									     TBL_Split_Adjustable)
						Set nRow = SalTblInsertRow(hWndForm, TBL_MinRow)
						Call SalTblSetContext(hWndForm, nRow)
						Call SalTblSetFocusCell(hWndForm, nRow,
								     GetFirstEditableColumn(hWndForm), 0, 1)
					On UM_Delete
						Set nRow = TBL_MinRow
						While SalTblFindNextRow(hWndForm, nRow, ROW_Selected, 0)
							If NOT SalTblQueryRowFlags(hWndForm, nRow, ROW_New)
								Call SalTblSetRowFlags(hWndForm, nRow, ROW_MarkDeleted,
										     not SalTblQueryRowFlags(hWndForm, nRow,
										     ROW_MarkDeleted))
							Else
								Call SalTblDeleteRow(hWndForm, nRow, TBL_NoAdjust)
					On UM_Update
						Call SalWaitCursor(TRUE)
						Set nRow = TBL_MinRow							
						Set nTmp = 0
						While SalTblFindNextRow ( hWndForm, nRow, 0, ROW_MarkDeleted )
							Call SalTblSetContext( hWndForm, nRow )
							Set nTmp=nTmp+colKoef
						If nTmp = 1
							Call SaveInfoToLog(MSG_SaveDataRef() || ' ' || strTitleAux)
							If strSqlDelete != ''
								Call SqlPrepare(cMain.hSql(), T(strSqlDelete))
								Call SalTblDoDeletes(hWndForm, cMain.hSql(),
										     ROW_MarkDeleted)
							If strSqlInsert != ''
								Call SqlPrepare(cMain.hSql(), T(strSqlInsert))
								Call SalTblDoInserts(hWndForm, cMain.hSql(), TRUE)
							If strSqlUpdate != ''
								Call SqlPrepare(cMain.hSql(), T(strSqlUpdate))
								Call SalTblDoUpdates(hWndForm, cMain.hSql(), TRUE)
							Call SqlCommit(cMain.hSql())
							Call SalPostMsg(hWndForm, UM_Populate, 0, 0)
						Else
							Call SqlRollback(cMain.hSql())
							Call SalMessageBox( 'Сумма коеф не равна 1 ', 'Внимание', MB_IconExclamation )
						Call SalWaitCursor(FALSE)
					On SAM_KillFocus
						Set hWndLost=hWndItem
			Child Table: tblChart
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Display Settings
					Window Location and Size
						Left:   4.886"
						Top:    2.583"
						Width:  8.85"
						Width Editable? Yes
						Height: 2.393"
						Height Editable? Yes
					Visible? Yes
					Font Name: Default
					Font Size: 9
					Font Enhancement: Bold
					Text Color: Default
					Background Color: Light Green
					View: Table
					Allow Row Sizing? No
					Lines Per Row: Default
				Memory Settings
					Maximum Rows in Memory: Default
					Discardable? No
				Contents
					Column: colNls
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Счета поступлений
								(спс 2)
						Visible? Yes
						Editable? Yes
						Maximum Data Length: 14
						Data Type: String
						Justify: Left
						Width:  2.144"
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
							On SAM_Validate
								If not colNls
									Call SalPostMsg(hWndForm, UM_Populate, 0, 0)
									Return VALIDATE_Ok
								Call SqlPrepareAndExecute(cMain.hSql(), T('
										 SELECT acc INTO :colAcc FROM accounts WHERE nls=:colNls AND kv=:colKv'))
								If SqlFetchNext(cMain.hSql(),nFetchRes)
									Return VALIDATE_Ok
								Call SalMessageBox( 'Не открыт счет '||colNls||'('||SalNumberToStrX(colKv,0)||')', 'Внимание', MB_IconExclamation )
								Return VALIDATE_Cancel
					Column: colKv
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: ВАЛ
								
						Visible? Yes
						Editable? Yes
						Maximum Data Length: 3
						Data Type: Number
						Justify: Center
						Width:  0.433"
						Width Editable? Yes
						Format: #0
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: colAcc
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Acc
						Visible? No
						Editable? No
						Maximum Data Length: Default
						Data Type: Number
						Justify: Right
						Width:  0.433"
						Width Editable? Yes
						Format: #0
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
				Functions
				Window Variables
					String: strSqlPopulate	! Строка SQL SELECT                         
					String: strSqlInsert	! Строка SQL INSERT 
					String: strSqlDelete	! Строка SQL DELETE 
					String: strSqlUpdate	! Строка SQL UPDATE 
					String: strTitleAux	
					Number: nCnt
				Message Actions
					On SAM_Create
						Set strSqlPopulate='
								SELECT a.nls,a.kv,a.acc INTO :colNls,:colKv,:colAcc
								  FROM perekr_j j,accounts a
								  WHERE a.acc=j.acc and j.accs=:nAcc ORDER BY a.nls' 
						Set strSqlDelete='
								 DELETE FROM perekr_j WHERE acc=:colAcc'
						Set strSqlInsert='
								 INSERT INTO perekr_j (acc,accs)
								  SELECT acc,:nAcc
								    FROM accounts WHERE nls=:colNls AND kv=:colKv'
						Set strSqlUpdate='
								 UPDATE perekr_j SET acc = (SELECT acc FROM accounts
								        WHERE nls=:colNls AND kv=:colKv)
								  WHERE acc=:colAcc'
					On UM_Populate
						Call SalWaitCursor(TRUE)
						Call SalTblDefineSplitWindow(hWndForm, 0, FALSE)
						Set nCnt=0
						Call SalTblPopulate(hWndForm, hSql(), T(strSqlPopulate),TBL_FillAll)
						! Anny - закомментировано в связи с ошибкой
						! If nCnt
							                        Set nCnt=1
						! If nCnt + 1 != tblAccounts.colSps  
							                        Set tblAccounts.colSps=nCnt+1
							                        Call SalTblSetRowFlags( tblAccounts, SalTblQueryContext( tblAccounts ), ROW_Edited, TRUE )
						Call SalWaitCursor(FALSE)
					On SAM_CreateComplete
						Call SalSendMsg( hWndForm, UM_Populate, 0, 0 )
					On UM_Insert
						If not SalTblAnyRows(hWndForm, ROW_New, 0)
							Call SalTblDefineSplitWindow(hWndForm, 3, TBL_Split_Adjustable)
						Set nRow = SalTblInsertRow(hWndForm, TBL_MinRow)
						Call SalTblSetContext(hWndForm, nRow)
						Call SalTblSetFocusCell(hWndForm, nRow,
								     GetFirstEditableColumn(hWndForm), 0, 1)
					On UM_Delete
						Set nRow = TBL_MinRow
						While SalTblFindNextRow(hWndForm, nRow, ROW_Selected, 0)
							If NOT SalTblQueryRowFlags(hWndForm, nRow, ROW_New)
								Call SalTblSetRowFlags(hWndForm, nRow, ROW_MarkDeleted,
										     not SalTblQueryRowFlags(hWndForm, nRow, ROW_MarkDeleted))
							Else
								Call SalTblDeleteRow(hWndForm, nRow, TBL_NoAdjust)
					On UM_Update
						Call SalWaitCursor(TRUE)
						Call SaveInfoToLog(MSG_SaveDataRef() || ' ' || strTitleAux)
						If strSqlDelete != ''
							Call SqlPrepare(cMain.hSql(), T(strSqlDelete))
							Call SalTblDoDeletes(hWndForm, cMain.hSql(), ROW_MarkDeleted)
						If strSqlInsert != ''
							Call SqlPrepare(cMain.hSql(), T(strSqlInsert))
							Call SalTblDoInserts(hWndForm, cMain.hSql(), TRUE)
						If strSqlUpdate != ''
							Call SqlPrepare(cMain.hSql(), T(strSqlUpdate))
							Call SalTblDoUpdates(hWndForm, cMain.hSql(), TRUE)
						Call SqlCommit(cMain.hSql())
						Call SalPostMsg(hWndForm, UM_Populate, 0, 0)
						Call SalWaitCursor(FALSE)
					On SAM_KillFocus
						Set hWndLost=hWndItem
					On SAM_FetchRowDone
						Set nCnt=nCnt+1
		Functions
			Function: um_ins
				Description:
				Returns
				Parameters
				Static Variables
				Local variables
				Actions
					If not SalTblAnyRows(hWndForm, ROW_New, 0)
						Call SalTblDefineSplitWindow(hWndForm, 3, TBL_Split_Adjustable)
					Set nRow = SalTblInsertRow(hWndForm, TBL_MinRow)
					Call SalTblSetContext(hWndForm, nRow)
					Call SalTblSetFocusCell(hWndForm, nRow,
							     GetFirstEditableColumn(hWndForm), 0, 1)
			Function: GetFirstEditableColumn
				Description: Получить первую редактируюмую колонку
				Returns
					Window Handle:
				Parameters
					Window Handle: hWndTbl
				Static Variables
				Local variables
					Number: nCol
					Window Handle: hWndCol
				Actions
					Set nCol=1
					Loop
						Set hWndCol = SalTblGetColumnWindow(hWndTbl, nCol, COL_GetPos)
						If hWndCol = hWndNULL
							Break
						If SalTblQueryColumnFlags(hWndCol, COL_Editable) and
								   SalIsWindowVisible(hWndCol)
							Break
						Set nCol = nCol + 1
					Return hWndCol
		Window Parameters
			Number: nPar
			String: strSps
		Window Variables
			Number: nSch
			Number: nGrp
			Number: nAcc
			Number: nFetchRes
			Number: nRow
			Window Handle: hWndLost
			: cMain
				Class: cABSConnect
			Boolean: bFlag
			Boolean: bSwitch
			Number: nTmp
			!
			: cF
				Class: cGenFilter
			String: sf
			String: strText
		Message Actions
			On SAM_CreateComplete
				Call SalWaitCursor(FALSE)
			On SAM_Create
				Set nGrp=1
				Call PrepareWindowEx( hWndForm )
				Call SetWindowFullSize(hWndForm)
				Call ShowApdVersion('02')
				Call cF.Init('Accounts', 'a')
				Call SalWaitCursor(TRUE)
				Call XConnectGetParams(cMain)
				If NOT cMain.Connect()
					Call SalWaitCursor(FALSE)
					Call SalDestroyWindow(hWndForm)
				Call XSalTooltipSetUserDefault()
				Call ccSplitter1.setBarPosition( 300 )
				Call ccSplitter1.setLeftFrame( tblAccounts )
				Call ccSplitter1.setRightFrame( ccSplitter2 )
				Call ccSplitter2.setTopFrame( tblSchema )
				Call ccSplitter2.setBottomFrame( tblChart )
				Call SalWaitCursor(FALSE)
			On UM_Update
				Call SalSendMsg( hWndLost,    UM_Update, 0, 0 )
				Call SalSendMsg( tblChart,    UM_Update, 0, 0 )
				Call SalSendMsg( tblSchema,   UM_Update, 0, 0 )
				Call SalSendMsg( tblAccounts, UM_Update, 0, 0 )
			On UM_Close
				If SalTblAnyRows(hWndForm, ROW_Edited | ROW_MarkDeleted | ROW_New, 0)
					Call SalMessageBeep(MB_IconQuestion)
					If SalMessageBox('В таблице присутсвуют несохраненные ' ||
							   'изменения. Игнорировать их?', 'Внимание!',
							   MB_IconQuestion | MB_YesNo) != IDYES
						Return FALSE
				Call SalDestroyWindow(hWndForm)
	Dialog Box: OBN                !! 03
		Class:
		Property Template:
		Class DLL Name:
		Title: Групповое присвоение  ГРУПП  и  СХЕМ  перекрытий
		Accesories Enabled? No
		Visible? Yes
		Display Settings
			Display Style? Default
			Visible at Design time? Yes
			Type of Dialog: Modal
			Window Location and Size
				Left:   2.09"
				Top:    0.75"
				Width:  7.833"
				Width Editable? Yes
				Height: 2.357"
				Height Editable? Yes
			Absolute Screen Location? Yes
			Font Name: Default
			Font Size: Default
			Font Enhancement: Default
			Text Color: Default
			Background Color: Default
		Description:
		Tool Bar
			Display Settings
				Display Style? Default
				Location? Top
				Visible? Yes
				Size: Default
				Size Editable? Yes
				Font Name: Default
				Font Size: Default
				Font Enhancement: Default
				Text Color: Default
				Background Color: Default
			Contents
		Contents
			Background Text: Группа
				Resource Id: 11354
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Window Location and Size
					Left:   0.383"
					Top:    0.26"
					Width:  1.917"
					Width Editable? Yes
					Height: 0.167"
					Height Editable? Yes
				Visible? Yes
				Justify: Right
				Font Name: Default
				Font Size: Default
				Font Enhancement: Default
				Text Color: Default
				Background Color: Default
			Combo Box: cmbGroups
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cGenComboBox_NumId
				Property Template:
				Class DLL Name:
				Window Location and Size
					Left:   2.543"
					Top:    0.274"
					Width:  4.7"
					Width Editable? Class Default
					Height: 1.81"
					Height Editable? Class Default
				Visible? Class Default
				Editable? No
				String Type: Class Default
				Maximum Data Length: Class Default
				Sorted? Class Default
				Always Show List? Class Default
				Vertical Scroll? Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Bold
				Text Color: Class Default
				Background Color: Class Default
				Input Mask: Class Default
				List Initialization
				Message Actions
					On SAM_Create
						If cmbGroups.Init( hWndItem )
							Call cmbGroups.Populate( hSql(), 'idg', 'name', 'perekr_g', '' )
							Call cmbGroups.SetSelectById( nGrp )
					On SAM_Click
						Call SalSendClassMessage( SAM_Click, 0, 0 )
						Set nGrp=cmbGroups.nCurrentId
			Background Text: Схема
				Resource Id: 11355
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Window Location and Size
					Left:   0.383"
					Top:    0.76"
					Width:  1.917"
					Width Editable? Yes
					Height: 0.167"
					Height Editable? Yes
				Visible? Yes
				Justify: Right
				Font Name: Default
				Font Size: Default
				Font Enhancement: Default
				Text Color: Default
				Background Color: Default
			Combo Box: cmbSchems
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cGenComboBox_NumId
				Property Template:
				Class DLL Name:
				Window Location and Size
					Left:   2.533"
					Top:    0.702"
					Width:  4.7"
					Width Editable? Class Default
					Height: 1.81"
					Height Editable? Class Default
				Visible? Class Default
				Editable? No
				String Type: Class Default
				Maximum Data Length: Class Default
				Sorted? Class Default
				Always Show List? Class Default
				Vertical Scroll? Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Bold
				Text Color: Class Default
				Background Color: Class Default
				Input Mask: Class Default
				List Initialization
				Message Actions
					On SAM_Create
						If cmbSchems.Init( hWndItem )
							Call cmbSchems.Populate( hSql(), 'ids', 'name', 'perekr_s', '' )
							Call cmbSchems.SetSelectById( nSch )
					On SAM_Click
						Call SalSendClassMessage( SAM_Click, 0, 0 )
						Set nSch=cmbSchems.nCurrentId
			Background Text: Бал счет
				Resource Id: 11356
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Window Location and Size
					Left:   0.414"
					Top:    1.167"
					Width:  1.917"
					Width Editable? Yes
					Height: 0.167"
					Height Editable? Yes
				Visible? Yes
				Justify: Right
				Font Name: Default
				Font Size: Default
				Font Enhancement: Default
				Text Color: Default
				Background Color: Default
			Data Field: sBAL
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Data
					Maximum Data Length: 4
					Data Type: String
					Editable? Yes
				Display Settings
					Window Location and Size
						Left:   2.533"
						Top:    1.095"
						Width:  0.843"
						Width Editable? Yes
						Height: 0.25"
						Height Editable? Yes
					Visible? Yes
					Border? Yes
					Justify: Left
					Format: Unformatted
					Country: Default
					Font Name: Default
					Font Size: Default
					Font Enhancement: Default
					Text Color: Default
					Background Color: Default
					Input Mask: Unformatted
				Message Actions
			Background Text: Код вал
				Resource Id: 11357
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Window Location and Size
					Left:   0.383"
					Top:    1.51"
					Width:  1.917"
					Width Editable? Yes
					Height: 0.167"
					Height Editable? Yes
				Visible? Yes
				Justify: Right
				Font Name: Default
				Font Size: Default
				Font Enhancement: Default
				Text Color: Default
				Background Color: Default
			Data Field: nKV
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Data
					Maximum Data Length: 3
					Data Type: Number
					Editable? Yes
				Display Settings
					Window Location and Size
						Left:   2.533"
						Top:    1.458"
						Width:  0.843"
						Width Editable? Yes
						Height: 0.25"
						Height Editable? Yes
					Visible? Yes
					Border? Yes
					Justify: Left
					Format: Unformatted
					Country: Default
					Font Name: Default
					Font Size: Default
					Font Enhancement: Default
					Text Color: Default
					Background Color: Default
					Input Mask: Unformatted
				Message Actions
			Pushbutton: pb1
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cpbExecute
				Property Template:
				Class DLL Name:
				Title:
				Window Location and Size
					Left:   3.886"
					Top:    1.238"
					Width:  Class Default
					Width Editable? Class Default
					Height: Class Default
					Height Editable? Class Default
				Visible? Class Default
				Keyboard Accelerator: Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Picture File Name:
				Picture Transparent Color: Class Default
				Image Style: Class Default
				Text Color: Class Default
				Background Color: Class Default
				Message Actions
					On SAM_Click
						While TRUE
							If not SqlPrepareAndExecute( hSql(),
									"UPDATE specparam set idg=:nGrp,ids=:nSch,sps=1 
									  WHERE acc IN 
									(SELECT acc FROM accounts a 
									  WHERE a.nbs=:sBAL AND a.kv=:nKV AND a.dazs IS NULL AND
									 a.acc IN (SELECT acc FROM specparam))")
								Break
							If not SqlPrepareAndExecute( hSql(),
									"INSERT INTO specparam (acc,idg,ids,sps)
									 SELECT a.acc,:nGrp,:nSch,1 
									 FROM accounts a WHERE a.nbs=:sBAL AND a.kv=:nKV AND 
									 a.dazs IS NULL AND
									 a.acc NOT IN (SELECT acc FROM specparam)")
								Break
							Call SqlCommitEx(hSql() ,"Обновление группы перекрытия" )
							Call MessageInfoEx('Готово')
							Return TRUE
						Call SqlRollbackEx(hSql() ,"Ошибка при обновлении групп перекрытия" )
			Frame
				Resource Id: 42317
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Window Location and Size
					Left:   0.083"
					Top:    0.06"
					Width:  7.55"
					Width Editable? Yes
					Height: 1.893"
					Height Editable? Yes
				Visible? Yes
				Corners: Square
				Border Style: Solid
				Border Thickness: 1
				Border Color: Default
				Background Color: Default
		Functions
		Window Parameters
		Window Variables
			Number: nGrp
			Number: nSch
		Message Actions
			On SAM_Create
				Call SalCenterWindow( hWndForm )
				Call ShowApdVersion('03')
	Dialog Box: dlg_SetLocDat      !! 04 Установить локальную операционную дату
		Class:
		Property Template:
		Class DLL Name:
		Title: Локальный банковский день
		Accesories Enabled? No
		Visible? Yes
		Display Settings
			Display Style? Default
			Visible at Design time? Yes
			Type of Dialog: Modal
			Window Location and Size
				Left:   2.838"
				Top:    1.885"
				Width:  5.833"
				Width Editable? Yes
				Height: 1.19"
				Height Editable? Yes
			Absolute Screen Location? Yes
			Font Name: Default
			Font Size: Default
			Font Enhancement: Default
			Text Color: Midnight Blue
			Background Color: Default
		Description:
		Tool Bar
			Display Settings
				Display Style? Default
				Location? Bottom
				Visible? Yes
				Size: 0.143"
				Size Editable? Yes
				Font Name: Default
				Font Size: Default
				Font Enhancement: Default
				Text Color: Default
				Background Color: Default
			Contents
		Contents
			Pushbutton: pbCancel
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cpbCancel
				Property Template:
				Class DLL Name:
				Title:
				Window Location and Size
					Left:   4.233"
					Top:    0.202"
					Width:  Class Default
					Width Editable? Class Default
					Height: Class Default
					Height Editable? Class Default
				Visible? Class Default
				Keyboard Accelerator: Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Picture File Name:
				Picture Transparent Color: Class Default
				Image Style: Class Default
				Text Color: Class Default
				Background Color: Class Default
				Message Actions
					On SAM_Click
						Call SalEndDialog( hWndForm, IDCANCEL )
			Pushbutton: pbOk
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cpbOk
				Property Template:
				Class DLL Name:
				Title: Установить
				Window Location and Size
					Left:   0.183"
					Top:    0.202"
					Width:  Class Default
					Width Editable? Class Default
					Height: Class Default
					Height Editable? Class Default
				Visible? Class Default
				Keyboard Accelerator: Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Picture File Name:
				Picture Transparent Color: Class Default
				Image Style: Class Default
				Text Color: Class Default
				Background Color: Class Default
				Message Actions
					On SAM_Click
						If SalMessageBox( 'Установить дату '||SalFmtFormatDateTime( dfDat, 'dd/MM/yyyy' )||'?', 'Внимание!', MB_YesNo | MB_IconQuestion)=IDYES
							Call Pl_dat(dfDat)
							Set dDat=dfDat
							Call SaveFInfoToLog('Local data '||SalFmtFormatDateTime( dfDat, 'dd/MM/yyyy')||' set')
							Call SalEndDialog( hWndForm, IDOK )
						Call SalSetFocus( pbCancel )
			Data Field: dfDat
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Data
					Maximum Data Length: Default
					Data Type: Date/Time
					Editable? Yes
				Display Settings
					Window Location and Size
						Left:   1.633"
						Top:    0.274"
						Width:  2.35"
						Width Editable? Yes
						Height: 0.357"
						Height Editable? Yes
					Visible? Yes
					Border? Yes
					Justify: Center
					Format: Date
					Country: Default
					Font Name: Default
					Font Size: 12
					Font Enhancement: Bold
					Text Color: Default
					Background Color: Default
					Input Mask: Unformatted
				Message Actions
					On SAM_Validate
						If not SalIsValidDateTime( hWndItem )
							Call SalMessageBox( 'Ош. формат даты', 'Ошибка.', MB_IconExclamation )
							Return VALIDATE_Cancel
						If dfDat>GetBankDate()
							Call SalMessageBox( 'Устанавливаемая дата больше банковской. ', 'Ошибка.', MB_IconExclamation )
							Return VALIDATE_Cancel
						Return VALIDATE_OkClearFlag
			Frame
				Resource Id: 62642
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Window Location and Size
					Left:   1.483"
					Top:    0.167"
					Width:  2.65"
					Width Editable? Yes
					Height: 0.571"
					Height Editable? Yes
				Visible? Yes
				Corners: Square
				Border Style: Raised-Shadow
				Border Thickness: 2
				Border Color: System Frame Color
				Background Color: Default
		Functions
		Window Parameters
			Receive Date/Time: dDat
		Window Variables
		Message Actions
			On SAM_Create
				Set dfDat=GetBankDate()
				Call SalSetFocus( pbCancel )
				Call SalCenterWindow(hWndItem)
				Call ShowApdVersion('04')
			On SAM_CreateComplete
				Call SalWaitCursor(FALSE)
	Form Window: splSchemaBld !! 05
.data CLASSPROPS
0000: 56543A53706C6974 746572002B000100 00000000000090B0 A800C8D8D8005880
0020: 7800020000000000 0000010000000100 0000000000000001 00000000
.enddata
.data CLASSPROPSSIZE
0000: 3C00
.enddata
		Class: cGenericTableSpl
		Property Template:
		Class DLL Name:
		Title: Конструктор схем розмежувань та перерахувань
		Icon File:
		Accesories Enabled? Class Default
		Visible? No
		Display Settings
			Display Style? Class Default
			Visible at Design time? Yes
			Automatically Created at Runtime? Class Default
			Initial State: Normal
			Maximizable? Class Default
			Minimizable? Class Default
			System Menu? Class Default
			Resizable? Class Default
			Window Location and Size
				Left:   4.963"
				Top:    2.396"
				Width:  13.567"
				Width Editable? Class Default
				Height: 7.536"
				Height Editable? Class Default
			Form Size
				Width:  Class Default
				Height: Class Default
				Number of Pages: Class Default
			Font Name: Class Default
			Font Size: Class Default
			Font Enhancement: Class Default
			Text Color: Class Default
			Background Color: Class Default
		Description:
		Named Menus
		Menu
		Tool Bar
			Display Settings
				Display Style? Class Default
				Location? Class Default
				Visible? Class Default
				Size: Class Default
				Size Editable? Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Text Color: Class Default
				Background Color: Class Default
			Contents
				Pushbutton: pbIns
					Class Child Ref Key: 15
					Class ChildKey: 0
					Class: cGenericTableSpl
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
						On SAM_Create
							Set strTip = 'Добавить новую запись'
						On SAM_Click
							Call SalSendMsg( hWndLost, UM_Insert, 0, 0 )
				Pushbutton: pbDel
					Class Child Ref Key: 16
					Class ChildKey: 0
					Class: cGenericTableSpl
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
						On SAM_Create
							Set strTip = 'Пометить/Снять пометку на удаление'
						On SAM_Click
							Call SalSendMsg( hWndLost, UM_Delete, 0, 0 )
				Pushbutton: pbRefresh
					Class Child Ref Key: 17
					Class ChildKey: 0
					Class: cGenericTableSpl
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Pushbutton: pbUpdate
					Class Child Ref Key: 18
					Class ChildKey: 0
					Class: cGenericTableSpl
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: F10
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
						On SAM_Create
							Set strTip = 'Внести изменения в Базу Данных'
						On SAM_Click
							Call SalSendMsg(hWndForm, UM_Update, 0, 0)
				Line
					Resource Id: 41413
					Class Child Ref Key: 19
					Class ChildKey: 0
					Class: cGenericTableSpl
					Coordinates
						Begin X:  Class Default
						Begin Y:  Class Default
						End X:  Class Default
						End Y:  Class Default
					Visible? Class Default
					Line Style: Class Default
					Line Thickness: Class Default
					Line Color: Class Default
				Pushbutton: pbSearch
					Class Child Ref Key: 20
					Class ChildKey: 0
					Class: cGenericTableSpl
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Pushbutton: pbFilter
					Class Child Ref Key: 21
					Class ChildKey: 0
					Class: cGenericTableSpl
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
						On SAM_Create
							Set strTip = 'Перечитать записи в таблице (с фильтром)'
							Call SalEnableWindow(hWndItem)
						On SAM_Click
							Call SalTblDefineSplitWindow(tbl, 0, FALSE)
							If SetQueryFilter( cF )
								Set sf = cF.GetFilterWhereClause( FALSE )
								Set sfrom = cF.GetFilterFromClause( FALSE )
							Call SalSendMsg(tbl, UM_Populate, 0, 0)
				Pushbutton: pbDetails
					Class Child Ref Key: 31
					Class ChildKey: 0
					Class: cGenericTableSpl
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Pushbutton: pbPrint
					Class Child Ref Key: 22
					Class ChildKey: 0
					Class: cGenericTableSpl
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Line
					Resource Id: 41414
					Class Child Ref Key: 23
					Class ChildKey: 0
					Class: cGenericTableSpl
					Coordinates
						Begin X:  3.933"
						Begin Y:  Class Default
						End X:  3.933"
						End Y:  Class Default
					Visible? Class Default
					Line Style: Class Default
					Line Thickness: Class Default
					Line Color: Class Default
				Pushbutton: pbExit
					Class Child Ref Key: 25
					Class ChildKey: 0
					Class: cGenericTableSpl
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   4.067"
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Line
					Resource Id: 41415
					Class Child Ref Key: 26
					Class ChildKey: 0
					Class: cGenericTableSpl
					Coordinates
						Begin X:  4.617"
						Begin Y:  Class Default
						End X:  4.617"
						End Y:  Class Default
					Visible? Class Default
					Line Style: Class Default
					Line Thickness: Class Default
					Line Color: Class Default
				Combo Box: cmbGroups
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class: cGenComboBox_NumId
					Property Template:
					Class DLL Name:
					Window Location and Size
						Left:   4.783"
						Top:    0.107"
						Width:  5.883"
						Width Editable? Class Default
						Height: 5.06"
						Height Editable? Class Default
					Visible? Class Default
					Editable? No
					String Type: Class Default
					Maximum Data Length: Class Default
					Sorted? Class Default
					Always Show List? Class Default
					Vertical Scroll? Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Bold
					Text Color: Class Default
					Background Color: System Window Color
					Input Mask: Class Default
					List Initialization
					Message Actions
						On SAM_Create
							If cmbGroups.Init( hWndItem )
								Call cmbGroups.Populate( hSql(), 'idg', 'name', 'perekr_g', 'order by name' )
								Call cmbGroups.SetSelectById( nGrp )
						On SAM_Click
							Call SalSendClassMessage( SAM_Click, 0, 0 )
							Set nGrp=cmbGroups.nCurrentId
							Call SalSendMsg( tbl, UM_Populate, 0, 0 )
				Pushbutton: pbImportDbf
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class: ctb_pbSwitch
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   11.167"
						Top:    0.073"
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
						On SAM_Click
							Call SalModalDialog( dlg_LoadDbf, hWndForm, nGrp, 0 )
						On SAM_Create
							Set strTip = 'Импорт с DBF'
				Pushbutton: pbExportDbf
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class: ctb_pbRelation
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   10.717"
						Top:    0.073"
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
						On SAM_Click
							! если есть что записать в файл (tbl2)
							If SalTblAnyRows( tbl2, 0, 0 )
								Call SalModalDialog( dlg_LoadDbf, hWndForm, nGrp, 1 )
							Else
								Call SalMessageBox( 'Нет данных для экспорта', 'Информация', MB_Ok )
						On SAM_Create
							Set strTip = 'Экспорт в DBF'
				Pushbutton: pbChangeHistory
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class:
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   11.683"
						Top:    0.071"
						Width:  0.43"
						Width Editable? No
						Height: 0.317"
						Height Editable? No
					Visible? Yes
					Keyboard Accelerator: F5
					Font Name: Default
					Font Size: Default
					Font Enhancement: None
					Picture File Name: \BARS98\RESOURCE\BMP\BOOKS1.BMP
					Picture Transparent Color: Gray
					Image Style: Single
					Text Color: Default
					Background Color: Default
					Message Actions
						On SAM_Click
							If SalTblAnyRows( tbl, ROW_Selected, 0 )
								Call SalCreateWindow(tblHistSchem, hWndForm, tbl.colIds )
						On SAM_TooltipSetText
							Return XSalTooltipSetText( lParam, 'История изменений' )
				Pushbutton: pb_Insert
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class:
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   12.383"
						Top:    0.155"
						Width:  1.2"
						Width Editable? Yes
						Height: 0.298"
						Height Editable? Yes
					Visible? No
					Keyboard Accelerator: F1
					Font Name: Default
					Font Size: Default
					Font Enhancement: Default
					Picture File Name:
					Picture Transparent Color: None
					Image Style: Single
					Text Color: Default
					Background Color: Default
					Message Actions
						On SAM_Click
							Call CopySchemaRows()
		Contents
			Custom Control: ccSplitter
				Class Child Ref Key: 1
				Class ChildKey: 0
				Class: cGenericTableSpl
				Property Template:
				Class DLL Name:
				Display Settings
					DLL Name:
					MS Windows Class Name:
					Style:  Class Default
					ExStyle:  Class Default
					Title:
					Window Location and Size
						Left:   0.0"
						Top:    3.655"
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Border? Class Default
					Etched Border? Class Default
					Hollow? Class Default
					Vertical Scroll? Class Default
					Horizontal Scroll? Class Default
					Tab Stop? Class Default
					Tile To Parent? Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Text Color: Class Default
					Background Color: Class Default
					DLL Settings
				Message Actions
			Child Table: tbl
				Class Child Ref Key: 28
				Class ChildKey: 0
				Class: cGenericTableSpl
				Property Template:
				Class DLL Name:
				Display Settings
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Bold
					Text Color: Class Default
					Background Color: System Window Color
					View: Class Default
					Allow Row Sizing? Class Default
					Lines Per Row: Class Default
				Memory Settings
					Maximum Rows in Memory: Class Default
					Discardable? Class Default
				Contents
					Column: colNlsA
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Рахунок
								А
						Visible? Yes
						Editable? Yes
						Maximum Data Length: 14
						Data Type: String
						Justify: Left
						Width:  2.057"
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
							On SAM_Validate
								If colKvA=NUMBER_Null !! не заполн код валюты
									Call SalSetFocus( tbl.colKvA )
									Return VALIDATE_Ok
								If colNlsA= STRING_Null !! не заполнен номер счета
									Call SalPostMsg(hWndForm, UM_Populate, 0, 0)
									Return VALIDATE_Ok
								If SqlPrepareAndExecute(cMain.hSql(), T('
										 SELECT acc INTO :colAcc FROM accounts WHERE nls=:colNlsA AND kv=:colKvA'))
										and SqlFetchNext(cMain.hSql(),nFetchRes)
									If SqlPrepareAndExecute(cMain.hSql(), T('
											 SELECT acc INTO :colAcc FROM specparam WHERE acc=:colAcc'))
											and SqlFetchNext(cMain.hSql(),nFetchRes)
										Call SalTblSetRowFlags( hWndForm, nRow, ROW_Edited, TRUE )
										Call SalTblSetRowFlags( hWndForm, nRow, ROW_New, FALSE )
									Return VALIDATE_Ok
								Call SalMessageBox( 'Не открыт счет '||colNlsA||'('||SalNumberToStrX(colKvA,0)||')', 'Внимание', MB_IconExclamation )
								Return VALIDATE_Cancel
					Column: colKvA
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: ВАЛ
								А
						Visible? Yes
						Editable? Yes
						Maximum Data Length: 3
						Data Type: Number
						Justify: Center
						Width:  0.514"
						Width Editable? Yes
						Format: #0
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
							On SAM_Validate
								If colNlsA= STRING_Null !! не заполнен номер счета
									Call SalSetFocus( tbl.colNlsA )
									Return VALIDATE_Ok
								Call SalSendMsg( tbl.colNlsA, SAM_Validate, 0, 0)
					Column: colNms
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Назва рахунку
						Visible? Yes
						Editable? No
						Maximum Data Length: Default
						Data Type: String
						Justify: Left
						Width:  9.186"
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
							On SAM_Validate
								If colKvA=NUMBER_Null !! не заполн код валюты
									Call SalSetFocus( tbl.colKvA )
									Return VALIDATE_Ok
								If colNlsA= STRING_Null !! не заполнен номер счета
									Call SalPostMsg(hWndForm, UM_Populate, 0, 0)
									Return VALIDATE_Ok
								If SqlPrepareAndExecute(cMain.hSql(), T('
										 SELECT acc INTO :colAcc FROM accounts WHERE nls=:colNlsA AND kv=:colKvA'))
										and SqlFetchNext(cMain.hSql(),nFetchRes)
									If SqlPrepareAndExecute(cMain.hSql(), T('
											 SELECT acc INTO :colAcc FROM specparam WHERE acc=:colAcc'))
											and SqlFetchNext(cMain.hSql(),nFetchRes)
										Call SalTblSetRowFlags( hWndForm, nRow, ROW_Edited, TRUE )
										Call SalTblSetRowFlags( hWndForm, nRow, ROW_New, FALSE )
									Return VALIDATE_Ok
								Call SalMessageBox( 'Не открыт счет '||colNlsA||'('||SalNumberToStrX(colKvA,0)||')', 'Внимание', MB_IconExclamation )
								Return VALIDATE_Cancel
					Column: colIdg
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: №
								грп
						Visible? No
						Editable? No
						Maximum Data Length: 3
						Data Type: Number
						Justify: Right
						Width:  0.95"
						Width Editable? Yes
						Format: #0
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: colIds
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: №
								схм
						Visible? Yes
						Editable? Yes
						Maximum Data Length: Default
						Data Type: Number
						Justify: Right
						Width:  1.329"
						Width Editable? Yes
						Format: #0
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: colAcc
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Acc
						Visible? No
						Editable? No
						Maximum Data Length: Default
						Data Type: Number
						Justify: Right
						Width:  0.433"
						Width Editable? Yes
						Format: #0
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: colSps
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Способ
								вычисления
								суммы
						Visible? Yes
						Editable? Yes
						Maximum Data Length: 4
						Data Type: Number
						Justify: Right
						Width:  0.967"
						Width Editable? Yes
						Format: #0
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
				Functions
				Window Variables
					String: strSqlPopulate	! Строка SQL SELECT                         
					String: strSqlInsert	! Строка SQL INSERT 
					String: strSqlDelete	! Строка SQL DELETE 
					String: strSqlUpdate	! Строка SQL UPDATE 
					String: strTitleAux	
				Message Actions
					On SAM_Create
						Set strSqlDelete='
								 UPDATE specparam SET idg=NULL,ids=NULL,sps=NULL
								 WHERE acc=:colAcc'
						Set strSqlInsert='
								 INSERT INTO specparam (acc,idg,ids,sps)
								  SELECT acc,:colIdg,:colIds,nvl(:colSps,1)
								    FROM accounts WHERE nls=:colNlsA AND kv=:colKvA'
						Set strSqlUpdate='
								 UPDATE specparam SET idg=:colIdg,ids=:colIds,sps=nvl(:colSps,1)  WHERE acc=:colAcc'
						If nPar
							Call SalHideWindow( colKvA )
						If strSps
							Call SalShowWindow( colSps )
						Else
							Call SalHideWindow( colSps )
					On UM_Populate
						Set strSqlPopulate='
								SELECT nls, kv, nms, specparam.idg, specparam.ids, specparam.sps, a.acc
								  INTO :colNlsA,:colKvA,:colNms,:colIdg,:colIds,:colSps,:colAcc
								  FROM accounts a, specparam '||IifS(sfrom !='',', '||sfrom,'' ) ||
								' WHERE a.acc=specparam.acc AND specparam.idg = :nGrp '||
								  IifS(sf !='',' and '||sf,'') || ' ORDER BY a.nbs ' 
						Call SalWaitCursor(TRUE)
						Call SalTblDefineSplitWindow(hWndForm, 0, FALSE)
						Call SalTblPopulate(hWndForm, hSql(), T(strSqlPopulate),TBL_FillAll)
						Set nRow = VisTblFindString (tbl, 0, colNlsA, sNls)
						If nRow=-1
							Call SalTblSetContext( hWndForm, 0 )
						Else
							Call SalTblSetContext( hWndForm, nRow )
							Call SalTblSetRowFlags( hWndForm, nRow, ROW_Selected, TRUE )
							Call SalTblSetFocusRow( hWndForm, nRow )
						Call SalSendMsg( hWndForm, SAM_TblDoDetails, 0, 0 )
						Call SalWaitCursor(FALSE)
					On SAM_TblDoDetails
						If colIds
							Set nSch=colIds
						Else
							Set nSch=SalStrToNumber( tbl.colNlsA )
							Set colIds=nSch
							Call SalTblSetRowFlags( tbl, SalTblQueryContext( tbl ), ROW_Edited, TRUE )
						Set nAcc=colAcc
						Call SalSendMsg( tbl2, UM_Populate, 0, 0 )
					On SAM_CreateComplete
						Set sf = ''
						Call SalSendMsg( hWndForm, UM_Populate, 0, 0 )
					On SAM_KillFocus
						Set hWndLost=hWndForm
						Set sNls=colNlsA
					On UM_Update
						Call SalWaitCursor(TRUE)
						Call SaveInfoToLog(MSG_SaveDataRef() || ' ' || strTitleAux)
						If strSqlDelete != ''
							Call SqlPrepare(cMain.hSql(), T(strSqlDelete))
							Call SalTblDoDeletes(hWndForm, cMain.hSql(), ROW_MarkDeleted)
						Call SqlPrepareAndExecute(cMain.hSql(),'SELECT acc FROM specparam WHERE acc=:colAcc')
						If SqlFetchNext(cMain.hSql(),nFetchRes)
							Call SqlPrepare(cMain.hSql(), T(strSqlUpdate))
						Else
							Call SqlPrepare(cMain.hSql(), T(strSqlInsert))
						Call SalTblDoInserts(hWndForm, cMain.hSql(), TRUE)
						If strSqlUpdate != ''
							Call SqlPrepare(cMain.hSql(), T(strSqlUpdate))
							Call SalTblDoUpdates(hWndForm, cMain.hSql(), TRUE)
						Call SqlCommit(cMain.hSql())
						Call SalTblDefineSplitWindow(hWndForm, 0, FALSE)
						Call SalPostMsg(hWndForm, UM_Populate, 0, 0)
						Call SalWaitCursor(FALSE)
					On SAM_SetFocus
						If SalTblQueryRowFlags ( hWndForm, lParam, ROW_New )
							Set colIdg=nGrp
							If nPar
								Set colKvA=GetBaseVal()
							If not colIds
								Set nSch=SalStrToNumber( tbl.colNlsA )
								Set colIds=nSch
			Child Table: tbl2
				Class Child Ref Key: 27
				Class ChildKey: 0
				Class: cGenericTableSpl
				Property Template:
				Class DLL Name:
				Display Settings
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Bold
					Text Color: Class Default
					Background Color: System Window Color
					View: Class Default
					Allow Row Sizing? Class Default
					Lines Per Row: Class Default
				Memory Settings
					Maximum Rows in Memory: 2500
					Discardable? Class Default
				Contents
					Column: colVob
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Вид
								Док
						Visible? Yes
						Editable? Yes
						Maximum Data Length: 2
						Data Type: Number
						Justify: Center
						Width:  0.4"
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: colTT
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Код
								оп.
						Visible? Yes
						Editable? Yes
						Maximum Data Length: 3
						Data Type: String
						Justify: Center
						Width:  0.567"
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: colMfoB
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: МФО
								Б
						Visible? Yes
						Editable? Yes
						Maximum Data Length: 9
						Data Type: String
						Justify: Center
						Width:  1.233"
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: colNlsB
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Рахунок
								Б
						Visible? Yes
						Editable? Yes
						Maximum Data Length: 14
						Data Type: String
						Justify: Left
						Width:  1.783"
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: colKvB
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: ВАЛ
								Б
						Visible? Yes
						Editable? Yes
						Maximum Data Length: 3
						Data Type: Number
						Justify: Center
						Width:  0.433"
						Width Editable? Yes
						Format: #0
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: colKoef
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Коеф.
						Visible? Yes
						Editable? Yes
						Maximum Data Length: Default
						Data Type: Number
						Justify: Right
						Width:  0.45"
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: colPolu
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Отримувач
						Visible? Yes
						Editable? Yes
						Maximum Data Length: 38
						Data Type: String
						Justify: Left
						Width:  2.529"
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: colNazn
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Призначення платежу                 
						Visible? Yes
						Editable? Yes
						Maximum Data Length: 160
						Data Type: String
						Justify: Left
						Width:  4.817"
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: colOkpoB
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: ОКПО
								Б
						Visible? Yes
						Editable? Yes
						Maximum Data Length: Default
						Data Type: String
						Justify: Left
						Width:  1.171"
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: colSub
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Субрахунок
						Visible? Yes
						Editable? Yes
						Maximum Data Length: Default
						Data Type: String
						Justify: Left
						Width:  1.171"
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: colLevB
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Рівень
						Visible? Yes
						Editable? Yes
						Maximum Data Length: 3
						Data Type: Number
						Justify: Center
						Width:  0.5"
						Width Editable? Yes
						Format: #0
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: colRowId
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: RowId
						Visible? No
						Editable? No
						Maximum Data Length: Default
						Data Type: String
						Justify: Left
						Width:  Default
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: colKod
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Пар.сортировки
						Visible? Yes
						Editable? Yes
						Maximum Data Length: 1
						Data Type: Number
						Justify: Center
						Width:  Default
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: colId
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title:
						Visible? No
						Editable? Yes
						Maximum Data Length: Default
						Data Type: Number
						Justify: Left
						Width:  Default
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
				Functions
				Window Variables
					String: strSqlPopulate	! Строка SQL SELECT                         
					String: strSqlInsert	! Строка SQL INSERT 
					String: strSqlDelete	! Строка SQL DELETE 
					String: strSqlUpdate	! Строка SQL UPDATE 
					String: strTitleAux	
					String: sTmp
				Message Actions
					On SAM_Create
						If bFormulaSum
							Call SalShowWindow( colKod)
						Else
							Call SalHideWindow( colKod)
						If GetGlobalOption('SUB')='1'
							Call SalShowWindow( colSub)
						Else
							Call SalHideWindow( colSub)
						Set strSqlPopulate='
								SELECT vob,tt,mfob,nlsb,kv,koef,polu,nazn,okpo,idr,rowid'||
								IifS( bFormulaSum,", kod","") || 
								IifS( GetGlobalOption('SUB')='1' ,",sub","")||', id
								  INTO :colVob,:colTT,:colMfoB,:colNlsB,:colKvB,:colKoef,:colPolu,:colNazn,:colOkpoB,:colLevB,:colRowId'||
								IifS( bFormulaSum,", :colKod","") || 
								IifS( GetGlobalOption('SUB')='1' ,",:colSub","")||',:colId
								  FROM perekr_b WHERE ids=:nSch ORDER by koef'
						Set strSqlDelete='DELETE FROM perekr_b WHERE rowid=:colRowId'
						Set strSqlInsert='
								 INSERT INTO perekr_b (ids,vob,tt,mfob,nlsb,kv,koef,polu,nazn,okpo'||
								IifS( bFormulaSum,", kod","") || 
								IifS( GetGlobalOption('SUB')='1' ,",sub","") ||', idr)
								  VALUES (:nSch,:colVob,:colTT,:colMfoB,:colNlsB,:colKvB,:colKoef,:colPolu,:colNazn,:colOkpoB'||
								IifS( bFormulaSum,", :colKod","") || 
								IifS( GetGlobalOption('SUB')='1' ,",:colSub","") ||',:colLevB)'
						Set strSqlUpdate='
								 UPDATE perekr_b 
								         SET ids=:nSch,tt=:colTT,vob=:colVob,mfob=:colMfoB,nlsb=:colNlsB,kv=:colKvB,koef=:colKoef,polu=:colPolu,nazn=:colNazn,okpo=:colOkpoB'||
								IifS( bFormulaSum,", kod=:colKod","") || 
								IifS( GetGlobalOption('SUB')='1' ,", sub=:colSub","")||', idr=:colLevB
								  WHERE rowid=:colRowId'
						! Else
							      Call SalHideWindow( colKod)
							      Set strSqlPopulate='
									SELECT vob,tt,mfob,nlsb,kv,koef,polu,nazn,okpo,idr,rowid, id
									  INTO :colVob,:colTT,:colMfoB,:colNlsB,:colKvB,:colKoef,
									       :colPolu,:colNazn,:colOkpoB,:colLevB,:colRowId, :colId
									  FROM perekr_b WHERE ids=:nSch ORDER by koef'
							      Set strSqlDelete='DELETE FROM perekr_b WHERE rowid=:colRowId'
							      Set strSqlInsert='
									 INSERT INTO perekr_b (ids,vob,tt,mfob,nlsb,kv,koef,polu,nazn,okpo,idr)
									  VALUES (:nSch,:colVob,:colTT,:colMfoB,:colNlsB,:colKvB,:colKoef,
									          :colPolu,:colNazn,:colOkpoB,:colLevB)'
							      Set strSqlUpdate='
									 UPDATE perekr_b SET ids=:nSch,tt=:colTT,vob=:colVob,
									        mfob=:colMfoB,nlsb=:colNlsB,kv=:colKvB,koef=:colKoef,
									        polu=:colPolu,nazn=:colNazn,okpo=:colOkpoB,idr=:colLevB
									  WHERE rowid=:colRowId'
						If nPar
							Call SalHideWindow( colKvB )
					On UM_Populate
						Call SalWaitCursor(TRUE)
						Call SalTblDefineSplitWindow(hWndForm, 0, FALSE)
						Call SalTblPopulate(hWndForm, hSql(), T(strSqlPopulate),TBL_FillAll)
						Call SalWaitCursor(FALSE)
					On SAM_CreateComplete
						Call SalSendMsg( hWndForm, UM_Populate, 0, 0 )
					On UM_Update
						Call SalWaitCursor(TRUE)
						Set nRow = TBL_MinRow							
						Set nTmp = 0
						While SalTblFindNextRow ( hWndForm, nRow, 0, ROW_MarkDeleted )
							Call SalTblSetContext( hWndForm, nRow )
							Set nTmp=nTmp+colKoef
						If not nSch
							Set nSch=SalStrToNumber( tbl.colNlsA )
							Set tbl.colIds=nSch
						Call SqlPrepareAndExecute( hSql(), 'SELECT ids FROM perekr_s WHERE ids=:nSch')
						If not SqlFetchNext(hSql(),nFetchRes)
							Set sTmp='Схема для рах.'||tbl.colNlsA
							Call SqlPrepareAndExecute( hSql(), 'INSERT INTO perekr_s (ids,name) VALUES (:nSch,:sTmp)')
							Call SalTblSetRowFlags( tbl, SalTblQueryContext( tbl ), ROW_Edited, TRUE )
						If nTmp = 1 or nTmp=0
							Call SaveInfoToLog(MSG_SaveDataRef() || ' ' || strTitleAux)
							If strSqlDelete != ''
								Call SqlPrepare(tbl.cMain.hSql(), T(strSqlDelete))
								Call SalTblDoDeletes(hWndForm, tbl.cMain.hSql(), ROW_MarkDeleted)
							If strSqlInsert != ''
								Call SqlPrepare(tbl.cMain.hSql(), T(strSqlInsert))
								Call SalTblDoInserts(hWndForm, tbl.cMain.hSql(), TRUE)
							If strSqlUpdate != ''
								Call SqlPrepare(tbl.cMain.hSql(), T(strSqlUpdate))
								Call SalTblDoUpdates(hWndForm, tbl.cMain.hSql(), TRUE)
							Call SqlCommit(tbl.cMain.hSql())
							Call SalPostMsg(hWndForm, UM_Populate, 0, 0)
						Else
							Call SqlRollback(tbl.cMain.hSql())
							Call SalMessageBox( 'Сумма коеф не равна 1 ', 'Внимание', MB_IconExclamation )
						Call SalWaitCursor(FALSE)
					On SAM_KillFocus
						Set hWndLost=hWndItem
					On SAM_SetFocus
						If SalTblQueryRowFlags ( hWndForm, lParam, ROW_New )
							If nPar
								Set colKvB=GetBaseVal()
					On UM_Insert
						If not SalTblAnyRows(hWndForm, ROW_New, 0)
							Call SalTblDefineSplitWindow(hWndForm, 3, TBL_Split_Adjustable)
						Set nRow = SalTblInsertRow(hWndForm, TBL_MinRow)
						Call SalTblSetContext(hWndForm, nRow)
						Call SalTblSetFocusCell(hWndForm, nRow, GetFirstEditableColumn(hWndForm), 0, 1)
					On UM_Delete
						Set nRow = TBL_MinRow
						While SalTblFindNextRow(hWndForm, nRow, ROW_Selected, 0)
							If NOT SalTblQueryRowFlags(hWndForm, nRow, ROW_New)
								Call SalTblSetRowFlags(hWndForm, nRow, ROW_MarkDeleted,
										     not SalTblQueryRowFlags(hWndForm, nRow, ROW_MarkDeleted))
							Else
								Call SalTblDeleteRow(hWndForm, nRow, TBL_NoAdjust)
		Functions
			Function: um_ins
				Description:
				Returns
				Parameters
				Static Variables
				Local variables
				Actions
					If not SalTblAnyRows(hWndForm, ROW_New, 0)
						Call SalTblDefineSplitWindow(hWndForm, 3, TBL_Split_Adjustable)
					Set nRow = SalTblInsertRow(hWndForm, TBL_MinRow)
					Call SalTblSetContext(hWndForm, nRow)
					Call SalTblSetFocusCell(hWndForm, nRow,
							     GetFirstEditableColumn(hWndForm), 0, 1)
			Function: GetFirstEditableColumn
				Description: Получить первую редактируюмую колонку
				Returns
					Window Handle:
				Parameters
					Window Handle: hWndTbl
				Static Variables
				Local variables
					Number: nCol
					Window Handle: hWndCol
				Actions
					Set nCol=1
					Loop
						Set hWndCol = SalTblGetColumnWindow(hWndTbl, nCol, COL_GetPos)
						If hWndCol = hWndNULL
							Break
						If SalTblQueryColumnFlags(hWndCol, COL_Editable) and
								   SalIsWindowVisible(hWndCol)
							Break
						Set nCol = nCol + 1
					Return hWndCol
			Function: CopySchemaRows
				Description:
				Returns
				Parameters
				Static Variables
				Local variables
				Actions
					If SalTblAnyRows( tbl2, ROW_Selected, 0 )
						Call SalTblCopyRows( tbl2, ROW_Selected, 0 )
						Call SalTblPasteRows( tbl2 )
		Window Parameters
			Number: nMode        !(4 or   6)      4  - редактирование, 6 просмотр
			Number: nPar         !(0 or   1)      0  - показать валюту(для банков)  1-валюту не показывать 
			String: strSps       !('' or '1')     '' - не показывать колонку способа перекрытий, '1' - показывать
			Boolean: bFormulaSum !(true, false)   true - c вычислением формулы, false - без вычисления
		Window Variables
			Number: nSch
			Number: nGrp
			Number: nAcc
			Number: nFetchRes
			Number: nRow
			Window Handle: hWndLost
			: cMain
				Class: cABSConnect
			Boolean: bFlag
			Boolean: bSwitch
			Number: nTmp
			String: sNls
			!
			: cF
				Class: cGenFilter
			String: sf
			String: sfrom
			String: sFilNem
			Number: nInd
			String: strText
			String: sDeviceDef
			String: sDriverDef
			String: sPortDef
			String: strBind
			!
			Number: IDG
			Number: IDS
			Number: VOB
			String: TT
			String: NLSA
			Number: KVA
			String: OKPOA
			String: NLSB
			Number: KVB
			String: MFOB
			String: OKPOB
			Number: KOEF
			String: NAMB
			String: NAZN
			Number: IDR
		Message Actions
			On SAM_Create
				Set nGrp=1
				Call cF.Init('Accounts', 'a')
				Call SalMapEnterToTab( TRUE )
				Call PrepareWindowEx( hWndForm )
				Call SetWindowFullSize( hWndForm )
				Call ShowApdVersion('05')
				Call SalSendClassMessage( SAM_Create, 0, 0 )
				If nMode=6
					Call SalDisableWindow( splSchemaBld.tbl.colNlsA )
					Call SalDisableWindow( splSchemaBld.tbl.colKvA )
					Call SalDisableWindow( splSchemaBld.tbl.colNms )
					Call SalDisableWindow( splSchemaBld.tbl.colIdg )
					Call SalDisableWindow( splSchemaBld.tbl.colAcc )
					Call SalDisableWindow( splSchemaBld.tbl.colIds )
					Call SalDisableWindow( splSchemaBld.tbl.colSps )
					Call SalDisableWindow( splSchemaBld.tbl2.colVob )
					Call SalDisableWindow( splSchemaBld.tbl2.colTT )
					Call SalDisableWindow( splSchemaBld.tbl2.colMfoB )
					Call SalDisableWindow( splSchemaBld.tbl2.colNlsB )
					Call SalDisableWindow( splSchemaBld.tbl2.colKvB )
					Call SalDisableWindow( splSchemaBld.tbl2.colKoef )
					Call SalDisableWindow( splSchemaBld.tbl2.colPolu )
					Call SalDisableWindow( splSchemaBld.tbl2.colNazn )
					Call SalDisableWindow( splSchemaBld.tbl2.colOkpoB )
					Call SalDisableWindow( splSchemaBld.tbl2.colLevB )
					Call SalDisableWindow( splSchemaBld.tbl2.colRowId )
					Call SalDisableWindow( splSchemaBld.tbl2.colKod )
					Call SalDisableWindow( splSchemaBld.pbIns )
					Call SalDisableWindow( splSchemaBld.pbDel )
					Call SalDisableWindow( splSchemaBld.pbUpdate )
					Call SalDisableWindow( splSchemaBld.pbImportDbf )
					Call SalDisableWindow( splSchemaBld.pbExportDbf )
			On UM_Update
				Call SalSendMsg( hWndLost, UM_Update, 0, 0 )
				Call SalSendMsg( tbl2,     UM_Update, 0, 0 )
				Call SalSendMsg( tbl,      UM_Update, 0, 0 )
			On SAM_Close
				Call SalMapEnterToTab( FALSE )
			On UM_Print
				Set strBind='IDG,IDS,VOB,TT,NLSA,KVA,OKPOA,NLSB,KVB,MFOB,OKPOB,KOEF,NAMB,NAZN,IDR'
				Set nInd = RPT_NoToolbar
				Set sFilNem=GetPrnDir()||'\\PEREKRS.'||SalFmtFormatNumber(nGrp,'000')
				Call SalWaitCursor( TRUE )
				Call SalReportPrintToFile( hWndForm,
						     GetTemplateDir() || '\\BARS015U.QRP',
						     sFilNem, strBind, strBind, 1, RPT_PrintAll, 1, 1, FALSE, nInd )
				If nInd>4 
					Call SalMessageBox( 'Ошибка '||SalNumberToStrX( nInd, 0 )||' при формировании отчета', 'Внимание', MB_IconExclamation )
				Call zarez12(sFilNem, 90, sDeviceDef)
				Call SalWaitCursor( FALSE)
			On SAM_ReportStart
				Call SqlPrepare( hSql(),T( "
						SELECT s.idg,s.ids,b.vob,b.tt,a.nls,a.kv,b.nlsb,b.kv,b.mfob,b.okpo,b.koef,b.polu,b.nazn,b.idr
						  INTO :IDG,:IDS,:VOB,:TT,:NLSA,:KVA,:NLSB,:KVB,:MFOB,:OKPOB,:KOEF,:NAMB,:NAZN,:IDR
						  FROM accounts a,perekr_b b,specparam s
						 WHERE a.acc=s.acc AND s.ids=b.ids AND s.idg=:nGrp
						 ORDER BY SUBSTR(a.nls,1,4)||SUBSTR(a.nls,6)") )
			On SAM_ReportFetchInit
				Return SqlExecute( hSql() )
			On SAM_ReportFetchNext
				Return SqlFetchNext( hSql(), nFetchRes )
	Dialog Box: dlg_LoadDbf        !! 06
		Class:
		Property Template:
		Class DLL Name:
		Title: Загрузка файла
		Accesories Enabled? No
		Visible? Yes
		Display Settings
			Display Style? Default
			Visible at Design time? Yes
			Type of Dialog: Modal
			Window Location and Size
				Left:   1.738"
				Top:    1.188"
				Width:  7.229"
				Width Editable? Yes
				Height: 2.396"
				Height Editable? Yes
			Absolute Screen Location? Yes
			Font Name: Default
			Font Size: Default
			Font Enhancement: Default
			Text Color: Default
			Background Color: Default
		Description: Загрузка файлов dbf в таблицы б.д. (MIK)
		Tool Bar
			Display Settings
				Display Style? Default
				Location? Top
				Visible? No
				Size: Default
				Size Editable? Yes
				Font Name: Default
				Font Size: Default
				Font Enhancement: Default
				Text Color: Default
				Background Color: Default
			Contents
		Contents
			!
			Custom Control: ccProgressBar
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cMeter
				Property Template:
				Class DLL Name:
				Display Settings
					DLL Name:
					MS Windows Class Name:
					Style:  Class Default
					ExStyle:  Class Default
					Title:
					Window Location and Size
						Left:   0.143"
						Top:    0.969"
						Width:  6.829"
						Width Editable? Class Default
						Height: 0.281"
						Height Editable? Class Default
					Visible? Class Default
					Border? Class Default
					Etched Border? Class Default
					Hollow? Class Default
					Vertical Scroll? Class Default
					Horizontal Scroll? Class Default
					Tab Stop? Class Default
					Tile To Parent? Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Text Color: Dark Blue
					Background Color: 3D Face Color
					DLL Settings
				Message Actions
					On SAM_Create
						Call SalSetFocus( hWndItem )
			!
			Frame
				Resource Id: 43783
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Window Location and Size
					Left:   0.086"
					Top:    0.052"
					Width:  6.957"
					Width Editable? Yes
					Height: 0.719"
					Height Editable? Yes
				Visible? Yes
				Corners: Square
				Border Style: Etched
				Border Thickness: 1
				Border Color: 3D Shadow Color
				Background Color: Default
			Data Field: dfPath
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Data
					Maximum Data Length: Default
					Data Type: String
					Editable? Yes
				Display Settings
					Window Location and Size
						Left:   0.171"
						Top:    0.156"
						Width:  5.186"
						Width Editable? Yes
						Height: 0.25"
						Height Editable? Yes
					Visible? Yes
					Border? Yes
					Justify: Left
					Format: Unformatted
					Country: Default
					Font Name: Default
					Font Size: Default
					Font Enhancement: Default
					Text Color: Default
					Background Color: Default
					Input Mask: Unformatted
				Message Actions
			Pushbutton: pbChoose
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Выбрать...
				Window Location and Size
					Left:   5.486"
					Top:    0.135"
					Width:  1.429"
					Width Editable? Yes
					Height: 0.292"
					Height Editable? Yes
				Visible? Yes
				Keyboard Accelerator: (none)
				Font Name: Default
				Font Size: Default
				Font Enhancement: Default
				Picture File Name:
				Picture Transparent Color: None
				Image Style: Single
				Text Color: Default
				Background Color: Default
				Message Actions
					On SAM_Click
						If nIE = 0
							Call SalDlgOpenFile ( hWndForm, 'Open File', strFilters, 2, nIndex, strFile, dfPath )
						If nIE = 1
							Call SalDlgSaveFile ( hWndForm, 'Save File', strFilters, 2, nIndex, strFile, dfPath )
			Check Box: cbTransCode
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Перекодировать
				Window Location and Size
					Left:   0.171"
					Top:    0.448"
					Width:  6.057"
					Width Editable? Yes
					Height: 0.25"
					Height Editable? Yes
				Visible? Yes
				Font Name: Default
				Font Size: Default
				Font Enhancement: Default
				Text Color: Default
				Background Color: Default
				Message Actions
			Frame
				Resource Id: 43784
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Window Location and Size
					Left:   0.086"
					Top:    0.844"
					Width:  6.957"
					Width Editable? Yes
					Height: 0.531"
					Height Editable? Yes
				Visible? Yes
				Corners: Square
				Border Style: Etched
				Border Thickness: 1
				Border Color: 3D Shadow Color
				Background Color: Default
			Pushbutton: pbRun
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cpbExecute
				Property Template:
				Class DLL Name:
				Title: Выполнить
				Window Location and Size
					Left:   1.329"
					Top:    1.5"
					Width:  1.5"
					Width Editable? Yes
					Height: Class Default
					Height Editable? Yes
				Visible? Yes
				Keyboard Accelerator: (none)
				Font Name: Default
				Font Size: Default
				Font Enhancement: Default
				Picture File Name:
				Picture Transparent Color: Class Default
				Image Style: Single
				Text Color: Default
				Background Color: Default
				Message Actions
					On SAM_Click
						If nIE = 0
							If dfPath = STRING_Null OR dfPath = ''
								If SalDlgOpenFile ( hWndForm,'Open File', strFilters, 2, nIndex, strFile, dfPath )
									Call SalMessageBox(strFile, dfPath, MB_OK)
									If SalFileSetCurrentDirectory( SalStrLeftX(dfPath,SalStrScan(dfPath,strFile)-1 ))
										Call SalSetWindowText( hWndForm, 'Загрузка файла ' || dfPath)
										Call CreTabSqlFromDbf(dfPath, cbTransCode )
									Else
										Call SalMessageBox('Не удалось переити в каталог'||dfPath,'',MB_OK)
							Else
								Call CreTabSqlFromDbf(dfPath, cbTransCode)
						If nIE = 1
							! Задать полное имя файла в dfPath
							If dfPath = STRING_Null OR dfPath = ''
								If SalDlgSaveFile ( hWndForm,'Save File', strFilters, 2, nIndex, strFile, dfPath )
									Call SalMessageBox(strFile, dfPath, MB_OK)
									If SalFileSetCurrentDirectory( SalStrLeftX(dfPath,SalStrScan(dfPath,strFile)-1 ))
										Call CreTabDbfFromSql( dfPath, cbTransCode )
									Else
										Call SalMessageBox( 'Не удалось переити в каталог ' || dfPath, '', MB_OK )
							Else
								Call CreTabDbfFromSql( dfPath, cbTransCode )
			Pushbutton: pbExit
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cpbCancel
				Property Template:
				Class DLL Name:
				Title:
				Window Location and Size
					Left:   4.171"
					Top:    1.5"
					Width:  1.5"
					Width Editable? Class Default
					Height: Class Default
					Height Editable? Class Default
				Visible? Class Default
				Keyboard Accelerator: Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Picture File Name:
				Picture Transparent Color: Class Default
				Image Style: Class Default
				Text Color: Class Default
				Background Color: Class Default
				Message Actions
					On SAM_Click
						Call SalEndDialog( hWndForm, 0 )
		Functions
			Function: CreTabSqlFromDbf
				Description:
				Returns
					Boolean:
				Parameters
					String: sDbf
					Boolean: bTrans
				Static Variables
				Local variables
					Sql Handle: hSqlOdbc
					File Handle: hFile
					String: sBuf
					String: sItem
					String: sTyp
					String: sLen1
					String: sLen2
					Number: i
					Number: j
					Number: nLen1
					Number: nLen2
					String: sSqlItm
					String: sSqlSel
					String: sSqlBin
					String: sTab
					Number: NTmp[*]
					String: CTmp[*]
					Date/Time: DTmp[*]
					Number: nRec
					Number: nDelta
					Number: nFetchRes
					Number: nBound
					!
					String: oldNLSA
					Number: VOB
					String: TT
					String: NLSA
					Number: KVA
					String: OKPOA
					String: NLSB
					Number: KVB
					String: MFOB
					String: OKPOB
					Number: KOEF
					String: NAMB
					String: NAZN
					Number: IDR
					Number: nFlg
					Number: nSum
				Actions
					If SalFileOpen( hFile, sDbf, OF_Exist )
						Set i=SalStrLength(sDbf)
						While i>0
							If SalStrMidX(sDbf,i-1,1)='\\' or SalStrMidX(sDbf,i-1,1)=':'
								Break
							Set i=i-1
						Set sTab=SalStrMidX(sDbf,i,SalStrLength(sDbf)-i)
						Set SqlDatabase='dBase_Files'
						If SqlConnect( hSqlOdbc )
							Call SqlPrepareAndExecute(hSqlOdbc,'SELECT count(*) FROM '||sTab||' INTO :nRec' )
							Call SqlFetchNext( hSqlOdbc, nFetchRes )
							If nRec>0
								Set i=0
								Set oldNLSA='010101010'
								Set nSum=1
								Set nDelta=100/nRec
								Call SqlPrepareAndExecute(hSqlOdbc,
										'SELECT vob, tt, nlsa, kva, nlsb, kvb, mfob, okpo,  koef, polu, nazn, idr
										  INTO :VOB,:TT,:NLSA,:KVA,:NLSB,:KVB,:MFOB,:OKPOB,:KOEF,:NAMB,:NAZN,:IDR
										  FROM '||sTab||
										' ORDER BY nlsa')
								While SqlFetchNext( hSqlOdbc, nFetchRes )
									If bTrans
										Set NAMB=StrDosToWinX(NAMB)
										Set NAZN=StrDosToWinX(NAZN)
									If NLSA != oldNLSA
										Set nFlg=0
										If nSum=1
											Call SqlCommit( hSql() )
										Else
											Call SqlRollback(hSql())
											Call SalMessageBox( 'Сумма коеф <>0 по '||oldNLSA, 'Ошибка', MB_IconHand )
										Set oldNLSA=NLSA
										Set nSum=0
									Else
										Set nFlg=1
									Set nSum=nSum+KOEF
									If not SqlPLSQLCommand(hSql(),
											 "IN_PRKRB(nFlg,IDG,TT,VOB,NLSA,KVA,NLSB,KVB,MFOB,OKPOB,KOEF,NAMB,NAZN,IDR)")
										Set nSum=0
										Call SqlRollback(hSql())
									Set i=i+nDelta
									Call ccProgressBar.SetProgress( i )
								If nSum=1
									Call SqlCommit( hSql() )
								Else
									Call SqlRollback(hSql())
									Call SalMessageBox( 'Сумма коеф <>0 по '||oldNLSA, 'Ошибка', MB_IconHand )
							Call ccProgressBar.SetProgress(100)
							Call SqlDisconnect( hSqlOdbc )
							!
							Call MessageInfoEx('Готово.')
							!
						Else
							Call SalMessageBox('Нет доступа к базе данных: ' || SqlDatabase,'Ошибка',MB_OK )
							Return FALSE
						Return TRUE
					Else
						Call SalMessageBox('Нет файла: '||sDbf,'Ошибка',MB_OK)
						Return FALSE
			Function: CreTabDbfFromSql
				Description:
				Returns
					Boolean:
				Parameters
					String: sDbf
					Boolean: bTrans
				Static Variables
				Local variables
					Sql Handle: hSqlOdbc
					Number: i
					String: sTab
					Number: nFetchRes
					!
					Number: VOB
					String: TT
					String: NLSA
					Number: KVA
					String: OKPOA
					String: NLSB
					Number: KVB
					String: MFOB
					String: OKPOB
					Number: KOEF
					String: NAMB
					String: NAZN
					Number: IDR
					String: strCreate
					String: strInsert
				Actions
					Set i = SalStrLength(sDbf)
					While i>0
						If SalStrMidX(sDbf,i-1,1)='\\' or SalStrMidX(sDbf,i-1,1)=':'
							Break
						Set i = i - 1
					! sTab - имя таблицы dbf (filename)
					Set sTab = SalStrMidX(sDbf,i,SalStrLength(sDbf)-i)
					Set SqlDatabase = 'dBase_Files'
					If SqlConnect( hSqlOdbc )
						Set strCreate = "CREATE TABLE " || sTab || " (
								  idg  number(19),
								  ids  number(19),
								  vob  number(2),
								  tt   char(3),
								  nlsa char(14),
								  kva  number(3),
								  nlsb char(14),
								  kvb  number(3),
								  mfob char(9),
								  okpo char(10),
								  koef number(19,6),
								  polu char(38),
								  nazn char(160),
								  idr  number(3) )"
						Call SqlPrepareAndExecute( hSqlOdbc, strCreate )
						Call ccProgressBar.SetProgress(20)
						Call SqlPrepareAndExecute(hSql(), '
								  SELECT s.idg,s.ids,b.vob,b.tt,a.nls,a.kv,
								         b.nlsb,b.kv,b.mfob,b.okpo,b.koef,
								         b.polu,b.nazn,b.idr
								    INTO :IDG,:IDS,:VOB,:TT,:NLSA,:KVA,:NLSB,:KVB,
								         :MFOB,:OKPOB,:KOEF,:NAMB,:NAZN,:IDR
								    FROM accounts a,perekr_b b,specparam s
								   WHERE a.acc=s.acc AND s.ids=b.ids AND s.idg=:splSchemaBld.nGrp '||
								  IifS(splSchemaBld.sf !='',' and '||splSchemaBld.sf,'') || 
								 ' ORDER BY SUBSTR(a.nls,1,4)||SUBSTR(a.nls,6)')
						While SqlFetchNext( hSql(), nFetchRes )
							If bTrans
								Set NAMB=StrWinToDosX(NAMB)
								Set NAZN=StrWinToDosX(NAZN)
							Set strInsert = "INSERT INTO " || sTab || " VALUES (
									  :IDG,:IDS,:VOB,:TT,:NLSA,:KVA,:NLSB,:KVB,
									  :MFOB,:OKPOB,:KOEF,:NAMB,:NAZN,:IDR)"
							Call SqlPrepareAndExecute( hSqlOdbc, strInsert)
						!
						Call SqlCommit( hSqlOdbc )
						Call ccProgressBar.SetProgress(100)
						Call SqlDisconnect( hSqlOdbc )
						!
						Call MessageInfoEx( 'Готово.' )
					Else
						Call SalMessageBox( 'Нет доступа к базе данных: ' || SqlDatabase, 'Ошибка', MB_OK )
						Return FALSE
		Window Parameters
			Number: IDG
			Number: nIE
		Window Variables
			Number: nIndex
			String: strFilters[2]
			String: strFile
		Message Actions
			On SAM_Create
				Call PrepareWindowEx( hWndForm )
				Call ShowApdVersion('06')
				Set dfPath = ''
				Set strFilters[0]='Data Base Files (*.dbf)'
				Set strFilters[1]='*.dbf'
				If nIE = 1
					Call SalSetWindowText( hWndForm, 'Экспорт в файл ' || dfPath)
				Call WaitCursorOn()
			On SAM_CreateComplete
				Call WaitCursorOff()
			On SAM_Destroy
				Call WaitCursorOff()
	Dialog Box: dlg_DV
		Class: cGenericTableDlg
		Property Template:
		Class DLL Name:
		Title: Додавання рахуків 9 к.
		Accesories Enabled? Class Default
		Visible? Class Default
		Display Settings
			Display Style? Class Default
			Visible at Design time? Yes
			Type of Dialog: Class Default
			Window Location and Size
				Left:   Default
				Top:    Default
				Width:  Class Default
				Width Editable? Class Default
				Height: Class Default
				Height Editable? Class Default
			Absolute Screen Location? Class Default
			Font Name: Class Default
			Font Size: Class Default
			Font Enhancement: Class Default
			Text Color: Class Default
			Background Color: Class Default
		Description:
		Tool Bar
			Display Settings
				Display Style? Class Default
				Location? Class Default
				Visible? Class Default
				Size: Class Default
				Size Editable? Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Text Color: Class Default
				Background Color: Class Default
			Contents
				Pushbutton: pbIns
					Class Child Ref Key: 11
					Class ChildKey: 0
					Class: cGenericTableDlg
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? No
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Pushbutton: pbDel
					Class Child Ref Key: 12
					Class ChildKey: 0
					Class: cGenericTableDlg
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? No
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Pushbutton: pbRefresh
					Class Child Ref Key: 20
					Class ChildKey: 0
					Class: cGenericTableDlg
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Pushbutton: pbUpdate
					Class Child Ref Key: 15
					Class ChildKey: 0
					Class: cGenericTableDlg
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Line
					Resource Id: 53354
					Class Child Ref Key: 19
					Class ChildKey: 0
					Class: cGenericTableDlg
					Coordinates
						Begin X:  Class Default
						Begin Y:  Class Default
						End X:  Class Default
						End Y:  Class Default
					Visible? No
					Line Style: Class Default
					Line Thickness: Class Default
					Line Color: Class Default
				Pushbutton: pbSearch
					Class Child Ref Key: 13
					Class ChildKey: 0
					Class: cGenericTableDlg
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? No
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Pushbutton: pbFilter
					Class Child Ref Key: 23
					Class ChildKey: 0
					Class: cGenericTableDlg
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? No
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Pushbutton: pbPrint
					Class Child Ref Key: 14
					Class ChildKey: 0
					Class: cGenericTableDlg
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? No
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Line
					Resource Id: 53355
					Class Child Ref Key: 21
					Class ChildKey: 0
					Class: cGenericTableDlg
					Coordinates
						Begin X:  Class Default
						Begin Y:  Class Default
						End X:  Class Default
						End Y:  Class Default
					Visible? No
					Line Style: Class Default
					Line Thickness: Class Default
					Line Color: Class Default
				Pushbutton: pbOk
					Class Child Ref Key: 16
					Class ChildKey: 0
					Class: cGenericTableDlg
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? No
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Pushbutton: pbExit
					Class Child Ref Key: 17
					Class ChildKey: 0
					Class: cGenericTableDlg
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   2.017"
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Line
					Resource Id: 53356
					Class Child Ref Key: 22
					Class ChildKey: 0
					Class: cGenericTableDlg
					Coordinates
						Begin X:  1.867"
						Begin Y:  Class Default
						End X:  1.867"
						End Y:  Class Default
					Visible? Class Default
					Line Style: Class Default
					Line Thickness: Class Default
					Line Color: Class Default
				Pushbutton: pbIn
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class: cpbOk
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   0.083"
						Top:    0.05"
						Width:  0.433"
						Width Editable? Class Default
						Height: 0.321"
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name: \BARS98\RESOURCE\BMP\4.bmp
					Picture Transparent Color: Magenta
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Default
					Message Actions
						On SAM_Click
							Set nRow=TBL_MinRow
							While SalTblFindNextRow( dlg_DV.tbl, nRow, 2, 0 )
								Call SalTblSetRowFlags( dlg_DV.tbl, nRow, ROW_Edited, TRUE )
				Pushbutton: pbNo
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class: cpbOk
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   0.5"
						Top:    0.05"
						Width:  0.433"
						Width Editable? Class Default
						Height: 0.321"
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name: \BARS98\RESOURCE\BMP\5.bmp
					Picture Transparent Color: Magenta
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Default
					Message Actions
						On SAM_Click
							Set nRow=TBL_MinRow
							While SalTblFindNextRow( dlg_DV.tbl, nRow, 2, 0 )
								Call SalTblSetRowFlags( dlg_DV.tbl, nRow, ROW_Edited, FALSE )
		Contents
			Child Table: tbl
				Class Child Ref Key: 8
				Class ChildKey: 0
				Class: cGenericTableDlg
				Property Template:
				Class DLL Name:
				Display Settings
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Text Color: Class Default
					Background Color: Class Default
					View: Class Default
					Allow Row Sizing? Class Default
					Lines Per Row: Class Default
				Memory Settings
					Maximum Rows in Memory: Class Default
					Discardable? Class Default
				Contents
					Column: ACC
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title:
						Visible? No
						Editable? No
						Maximum Data Length: Default
						Data Type: Number
						Justify: Left
						Width:  Default
						Width Editable? Yes
						Format: ###000
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: Name
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Владелец
						Visible? Yes
						Editable? No
						Maximum Data Length: Default
						Data Type: String
						Justify: Left
						Width:  6.733"
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: NLS
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Счет
						Visible? Yes
						Editable? No
						Maximum Data Length: Default
						Data Type: String
						Justify: Left
						Width:  1.933"
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? Yes
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
				Functions
				Window Variables
				Message Actions
					On UM_Populate
						Call SalWaitCursor(TRUE)
						Call SalTblPopulate(dlg_DV.tbl, hSql(), T(dlg_DV.strSqlPopulate), TBL_FillAll)
						Call SalWaitCursor(FALSE)
					On SAM_Create
						Set dlg_DV.strSqlPopulate="select a.nls,t.nr,a.acc
								from accounts a ,tl_terra t,params p
								where a.acc not in (select acc from MONTH_OST) and
								      t.ID_KEY= substr(a.nls,12,14) and p.par='KOBL_412' and t.obl=p.val  and
								      a.nbs in ('9261','9271')
								order by a.nls
								INTO :dlg_DV.tbl.NLS,:dlg_DV.tbl.Name,:dlg_DV.tbl.ACC  "
						Set nYins_DV = SalStrToNumber( SalStrRightX(GetBankDateEx(  ),4))
						Set dlg_DV.strSqlUpdate='insert into MONTH_OST_VIEW ( acc , YEAR )
								 values ( :dlg_DV.tbl.ACC , :nYins_DV )'
		Functions
		Window Parameters
		Window Variables
			Number: nRow
			Number: nYins_DV
		Message Actions
			On UM_DoubleClick
				Set nRow=SalTblQueryContext( dlg_DV.tbl )
				Call SalTblSetRowFlags( dlg_DV.tbl, nRow, ROW_Edited, TRUE )
	Table Window: frm_DV
		Class: cGenericTable
		Property Template:
		Class DLL Name:
		Title: Розгортання помісячного розпису дотації та вилучень
		Icon File:
		Accesories Enabled? Class Default
		Visible? Class Default
		Display Settings
			Visible at Design time? Yes
			Automatically Created at Runtime? Class Default
			Initial State: Class Default
			Maximizable? Class Default
			Minimizable? Class Default
			System Menu? Class Default
			Resizable? Class Default
			Window Location and Size
				Left:   Default
				Top:    Default
				Width:  Class Default
				Width Editable? Class Default
				Height: Class Default
				Height Editable? Class Default
			Font Name: Class Default
			Font Size: Class Default
			Font Enhancement: Class Default
			Text Color: Class Default
			Background Color: Class Default
			View: Class Default
			Allow Row Sizing? Class Default
			Lines Per Row: Class Default
		Memory Settings
			Maximum Rows in Memory: Class Default
			Discardable? Class Default
		Description:
		Named Menus
		Menu
		Tool Bar
			Display Settings
				Display Style? Class Default
				Location? Class Default
				Visible? Class Default
				Size: Class Default
				Size Editable? Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Text Color: Class Default
				Background Color: Class Default
			Contents
				Pushbutton: pbIns
					Class Child Ref Key: 33
					Class ChildKey: 0
					Class: cGenericTable
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
						On SAM_Click
							Call SalModalDialog( dlg_DV,hWndNULL )
							Call SalSendMsg( frm_DV,    UM_Populate, 0, 0 )
				Pushbutton: pbFull
					Class Child Ref Key: 0
					Class ChildKey: 0
					Class:
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   3.783"
						Top:    0.071"
						Width:  0.43"
						Width Editable? Yes
						Height: 0.317"
						Height Editable? Yes
					Visible? Yes
					Keyboard Accelerator: (none)
					Font Name: MS Sans Serif
					Font Size: 8
					Font Enhancement: Default
					Picture File Name: \BARS98\RESOURCE\BMP\Doc_out.bmp
					Picture Transparent Color: Gray
					Image Style: Single
					Text Color: Default
					Background Color: Default
					Message Actions
						On SAM_Click
							Call SalWaitCursor(TRUE)
							If SqlPLSQLCommand( hSql(), "
									wp_month_ost_all(    0 ,"||
									                              SalNumberToStrX(dMDate,0)        ||","||
									                              SalNumberToStrX(frm_DV.M00*100,0)||","||
									                              SalNumberToStrX(frm_DV.M01*100,0)||","||
									                              SalNumberToStrX(frm_DV.M02*100,0)||","||
									                              SalNumberToStrX(frm_DV.M03*100,0)||","||
									                              SalNumberToStrX(frm_DV.M04*100,0)||","||
									                              SalNumberToStrX(frm_DV.M05*100,0)||","||
									                              SalNumberToStrX(frm_DV.M06*100,0)||","||
									                              SalNumberToStrX(frm_DV.M07*100,0)||","||
									                              SalNumberToStrX(frm_DV.M08*100,0)||","||
									                              SalNumberToStrX(frm_DV.M09*100,0)||","||
									                              SalNumberToStrX(frm_DV.M10*100,0)||","||
									                              SalNumberToStrX(frm_DV.M11*100,0)||","||
									                              SalNumberToStrX(frm_DV.M12*100,0)||") ")
								Call SqlCommit( hSql() )
							Else
								Call SqlRollback( hSql() )
							Call SalWaitCursor(FALSE)
							Call SalSendMsg( frm_DV,    UM_Populate, 0, 0 )
				Pushbutton: pbDel
					Class Child Ref Key: 34
					Class ChildKey: 0
					Class: cGenericTable
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Pushbutton: pbRefresh
					Class Child Ref Key: 35
					Class ChildKey: 0
					Class: cGenericTable
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Pushbutton: pbUpdate
					Class Child Ref Key: 36
					Class ChildKey: 0
					Class: cGenericTable
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
						On SAM_Click
							Set nValue=TBL_MinRow
							While SalTblFindNextRow(frm_DV, nValue,4, 0 )
								Call SalTblSetFocusRow(frm_DV, nValue )
								If SqlPLSQLCommand( hSql(), "
										wp_month_ost_all("||SalNumberToStrX(frm_DV.ACC,0)||","||
										                              SalNumberToStrX(dMDate,0)        ||","||
										                              SalNumberToStrX(frm_DV.M00*100,0)||","||
										                              SalNumberToStrX(frm_DV.M01*100,0)||","||
										                              SalNumberToStrX(frm_DV.M02*100,0)||","||
										                              SalNumberToStrX(frm_DV.M03*100,0)||","||
										                              SalNumberToStrX(frm_DV.M04*100,0)||","||
										                              SalNumberToStrX(frm_DV.M05*100,0)||","||
										                              SalNumberToStrX(frm_DV.M06*100,0)||","||
										                              SalNumberToStrX(frm_DV.M07*100,0)||","||
										                              SalNumberToStrX(frm_DV.M08*100,0)||","||
										                              SalNumberToStrX(frm_DV.M09*100,0)||","||
										                              SalNumberToStrX(frm_DV.M10*100,0)||","||
										                              SalNumberToStrX(frm_DV.M11*100,0)||","||
										                              SalNumberToStrX(frm_DV.M12*100,0)||") ")
									Call SqlCommit( hSql() )
								Else
									Call SqlRollback( hSql() )
							Call SalSendClassMessage( SAM_Click, wParam, lParam )
				Line
					Resource Id: 53357
					Class Child Ref Key: 37
					Class ChildKey: 0
					Class: cGenericTable
					Coordinates
						Begin X:  3.65"
						Begin Y:  Class Default
						End X:  3.65"
						End Y:  Class Default
					Visible? Class Default
					Line Style: Class Default
					Line Thickness: Class Default
					Line Color: Class Default
				Pushbutton: pbSearch
					Class Child Ref Key: 38
					Class ChildKey: 0
					Class: cGenericTable
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Pushbutton: pbFilter
					Class Child Ref Key: 44
					Class ChildKey: 0
					Class: cGenericTable
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Pushbutton: pbDetails
					Class Child Ref Key: 39
					Class ChildKey: 0
					Class: cGenericTable
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? No
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Pushbutton: pbPrint
					Class Child Ref Key: 40
					Class ChildKey: 0
					Class: cGenericTable
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? No
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Line
					Resource Id: 53358
					Class Child Ref Key: 41
					Class ChildKey: 0
					Class: cGenericTable
					Coordinates
						Begin X:  2.983"
						Begin Y:  Class Default
						End X:  2.983"
						End Y:  Class Default
					Visible? Class Default
					Line Style: Class Default
					Line Thickness: Class Default
					Line Color: Class Default
				Pushbutton: pbExit
					Class Child Ref Key: 42
					Class ChildKey: 0
					Class: cGenericTable
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   3.117"
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Line
					Resource Id: 53359
					Class Child Ref Key: 43
					Class ChildKey: 0
					Class: cGenericTable
					Coordinates
						Begin X:  Class Default
						Begin Y:  Class Default
						End X:  Class Default
						End Y:  Class Default
					Visible? Class Default
					Line Style: Class Default
					Line Thickness: Class Default
					Line Color: Class Default
		Contents
			Column: NLS
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Счет
				Visible? Yes
				Editable? No
				Maximum Data Length: Default
				Data Type: String
				Justify: Left
				Width:  1.933"
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? Yes
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: Name
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Владелец
				Visible? Yes
				Editable? No
				Maximum Data Length: Default
				Data Type: String
				Justify: Left
				Width:  2.65"
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: OST
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Остаток
				Visible? Yes
				Editable? No
				Maximum Data Length: Default
				Data Type: Number
				Justify: Left
				Width:  Default
				Width Editable? Yes
				Format: ###000
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: M00
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: ГОД
				Visible? Yes
				Editable? No
				Maximum Data Length: Default
				Data Type: Number
				Justify: Left
				Width:  Default
				Width Editable? Yes
				Format: ###000
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: M01
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: ЯНВАРЬ
				Visible? Yes
				Editable? Yes
				Maximum Data Length: Default
				Data Type: Number
				Justify: Left
				Width:  Default
				Width Editable? Yes
				Format: ###000
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
					On SAM_AnyEdit
						Set M00=(M01+M02+M03+M04+M05+M06+M07+M08+M09+M10+M11+M12)
			Column: M02
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: ФЕВРАЛЬ
				Visible? Yes
				Editable? Yes
				Maximum Data Length: Default
				Data Type: Number
				Justify: Left
				Width:  Default
				Width Editable? Yes
				Format: ###000
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
					On SAM_AnyEdit
						Set M00=(M01+M02+M03+M04+M05+M06+M07+M08+M09+M10+M11+M12)
			Column: M03
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: МАРТ
				Visible? Yes
				Editable? Yes
				Maximum Data Length: Default
				Data Type: Number
				Justify: Left
				Width:  Default
				Width Editable? Yes
				Format: ###000
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
					On SAM_AnyEdit
						Set M00=(M01+M02+M03+M04+M05+M06+M07+M08+M09+M10+M11+M12)
			Column: M04
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: АПРЕЛЬ
				Visible? Yes
				Editable? Yes
				Maximum Data Length: Default
				Data Type: Number
				Justify: Left
				Width:  Default
				Width Editable? Yes
				Format: ###000
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
					On SAM_AnyEdit
						Set M00=(M01+M02+M03+M04+M05+M06+M07+M08+M09+M10+M11+M12)
			Column: M05
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: МАЙ
				Visible? Yes
				Editable? Yes
				Maximum Data Length: Default
				Data Type: Number
				Justify: Left
				Width:  Default
				Width Editable? Yes
				Format: ###000
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
					On SAM_AnyEdit
						Set M00=(M01+M02+M03+M04+M05+M06+M07+M08+M09+M10+M11+M12)
			Column: M06
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: ИЮНЬ
				Visible? Yes
				Editable? Yes
				Maximum Data Length: Default
				Data Type: Number
				Justify: Left
				Width:  Default
				Width Editable? Yes
				Format: ###000
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
					On SAM_AnyEdit
						Set M00=(M01+M02+M03+M04+M05+M06+M07+M08+M09+M10+M11+M12)
			Column: M07
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: ИЮЛЬ
				Visible? Yes
				Editable? Yes
				Maximum Data Length: Default
				Data Type: Number
				Justify: Left
				Width:  Default
				Width Editable? Yes
				Format: ###000
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
					On SAM_AnyEdit
						Set M00=(M01+M02+M03+M04+M05+M06+M07+M08+M09+M10+M11+M12)
			Column: M08
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: АВГУСТ
				Visible? Yes
				Editable? Yes
				Maximum Data Length: Default
				Data Type: Number
				Justify: Left
				Width:  Default
				Width Editable? Yes
				Format: ###000
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
					On SAM_AnyEdit
						Set M00=(M01+M02+M03+M04+M05+M06+M07+M08+M09+M10+M11+M12)
			Column: M09
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: СЕНТЯБРЬ
				Visible? Yes
				Editable? Yes
				Maximum Data Length: Default
				Data Type: Number
				Justify: Left
				Width:  Default
				Width Editable? Yes
				Format: ###000
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
					On SAM_AnyEdit
						Set M00=(M01+M02+M03+M04+M05+M06+M07+M08+M09+M10+M11+M12)
			Column: M10
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: ОКТЯБРЬ
				Visible? Yes
				Editable? Yes
				Maximum Data Length: Default
				Data Type: Number
				Justify: Left
				Width:  Default
				Width Editable? Yes
				Format: ###000
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
					On SAM_AnyEdit
						Set M00=(M01+M02+M03+M04+M05+M06+M07+M08+M09+M10+M11+M12)
			Column: M11
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: НОЯБРЬ
				Visible? Yes
				Editable? Yes
				Maximum Data Length: Default
				Data Type: Number
				Justify: Left
				Width:  Default
				Width Editable? Yes
				Format: ###000
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
					On SAM_AnyEdit
						Set M00=(M01+M02+M03+M04+M05+M06+M07+M08+M09+M10+M11+M12)
			Column: M12
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: ДЕКАБРЬ
				Visible? Yes
				Editable? Yes
				Maximum Data Length: Default
				Data Type: Number
				Justify: Left
				Width:  Default
				Width Editable? Yes
				Format: ###000
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
					On SAM_AnyEdit
						Set M00=(M01+M02+M03+M04+M05+M06+M07+M08+M09+M10+M11+M12)
			Column: ACC
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title:
				Visible? No
				Editable? No
				Maximum Data Length: Default
				Data Type: Number
				Justify: Left
				Width:  Default
				Width Editable? Yes
				Format: ###000
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: MON
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title:
				Visible? No
				Editable? Yes
				Maximum Data Length: Default
				Data Type: Number
				Justify: Left
				Width:  Default
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
		Functions
		Window Parameters
		Window Variables
			String: dYDate
			Number: dMDate
			Number: nValue
			Number: nValueSum
			String: strPopulate
			Number: nValueY
			Number: nYins
		Message Actions
			On SAM_Create
				Set strFilterTblName='MONTH_OST_VIEW'
				Set nValue=0
				Set fFilterAtStart=TRUE
				Call PrepareWindow(hWndForm)
				Set dYDate=SalNumberToStrX( SalDateYear( GetBankDate()),0)
				Call SalCenterWindow( frm_DV )
				Call SalTblSetTableFlags( frm_DV, TBL_Flag_SizableCols, TRUE )
				Call SalTblSetTableFlags( hWndForm, TBL_Flag_SelectableCols, FALSE )
				Set frm_DV.strSqlPopulate="select MONTH_OST_VIEW.nls,MONTH_OST_VIEW.nr,MONTH_OST_VIEW.acc, MONTH_OST_VIEW.ostc/100 , MONTH_OST_VIEW.m00/100,MONTH_OST_VIEW.m01/100,
						MONTH_OST_VIEW.m02/100,MONTH_OST_VIEW.m03/100,MONTH_OST_VIEW.m04/100,MONTH_OST_VIEW.m05/100,
						MONTH_OST_VIEW.m06/100,MONTH_OST_VIEW.m07/100,MONTH_OST_VIEW.m08/100,MONTH_OST_VIEW.m09/100,
						MONTH_OST_VIEW.m10/100,MONTH_OST_VIEW.m11/100,MONTH_OST_VIEW.m12/100,MONTH_OST_VIEW.month  
						from MONTH_OST_VIEW  
						order by MONTH_OST_VIEW.nls  
						INTO :frm_DV.NLS,:frm_DV.Name,:frm_DV.ACC, :frm_DV.OST, :frm_DV.M00, :frm_DV.M01,
						:frm_DV.M02, :frm_DV.M03, :frm_DV.M04, :frm_DV.M05, :frm_DV.M06, :frm_DV.M07, :frm_DV.M08,
						:frm_DV.M09, :frm_DV.M10, :frm_DV.M11, :frm_DV.M12, :frm_DV.MON  "
				Call SalSendClassMessage( SAM_Create, 0, 0 )
				Set dMDate=1
				Set dYDate =  GetBankDateEx(  )
				Set nYins = SalStrToNumber( SalStrRightX(dYDate,4))
				Set dYDate =  SalStrLeftX( dYDate,SalStrScan( dYDate,'/' ) )
				Set frm_DV.strSqlDelete='delete from MONTH_OST where acc = :frm_DV.ACC and SUBSTR(MONTH,3)=:nYins'
				While dMDate < SalStrToNumber( dYDate)
					Select Case dMDate
						Case 1
							Call SalDisableWindow(frm_DV.M01)
							Break
						Case 2
							Call SalDisableWindow(frm_DV.M02)
							Break
						Case 3
							Call SalDisableWindow(frm_DV.M03)
							Break
						Case 4
							Call SalDisableWindow(frm_DV.M04)
							Break
						Case 5
							Call SalDisableWindow(frm_DV.M05)
							Break
						Case 6
							Call SalDisableWindow(frm_DV.M06)
							Break
						Case 7
							Call SalDisableWindow(frm_DV.M07)
							Break
						Case 8
							Call SalDisableWindow(frm_DV.M08)
							Break
						Case 9
							Call SalDisableWindow(frm_DV.M09)
							Break
						Case 10
							Call SalDisableWindow(frm_DV.M10)
							Break
						Case 11
							Call SalDisableWindow(frm_DV.M11)
							Break
						Case 12
							Call SalDisableWindow(frm_DV.M12)
							Break
					Set dMDate=dMDate+1
				Call SalFontSet(M01, GetFontName(GetFontTables()), GetFontSize(GetFontTables()), FONT_EnhBold)
			On SAM_FetchRowDone
				If dMDate>=1
					If dMDate=1
						If frm_DV.MON = dMDate
							Call SalColorSet( M01, 100, COLOR_Blue)
						Else
							Call SalColorSet( M01, 100, COLOR_Red)
					Else
						Call SalColorSet( M01, 100, COLOR_Gray )
				If dMDate>=2
					If dMDate=2
						If frm_DV.MON = dMDate
							Call SalColorSet( M02, 100, COLOR_Blue)
						Else
							Call SalColorSet( M02, 100, COLOR_Red)
					Else
						Call SalColorSet( M02, 100, COLOR_Gray )
				If dMDate>=3
					If dMDate=3
						If frm_DV.MON = dMDate
							Call SalColorSet( M03, 100, COLOR_Blue)
						Else
							Call SalColorSet( M03, 100, COLOR_Red)
					Else
						Call SalColorSet( M03, 100, COLOR_Gray )
				If dMDate>=4
					If dMDate=4
						If frm_DV.MON = dMDate
							Call SalColorSet( M04, 100, COLOR_Blue)
						Else
							Call SalColorSet( M04, 100, COLOR_Red)
					Else
						Call SalColorSet( M04, 100, COLOR_Gray )
				If dMDate>=5
					If dMDate=5
						If frm_DV.MON = dMDate
							Call SalColorSet( M05, 100, COLOR_Blue)
						Else
							Call SalColorSet( M05, 100, COLOR_Red)
					Else
						Call SalColorSet( M05, 100, COLOR_Gray )
				If dMDate>=6
					If dMDate=6
						If frm_DV.MON = dMDate
							Call SalColorSet( M06, 100, COLOR_Blue)
						Else
							Call SalColorSet( M06, 100, COLOR_Red)
					Else
						Call SalColorSet( M06, 100, COLOR_Gray )
				If dMDate>=7
					If dMDate=7
						If frm_DV.MON = dMDate
							Call SalColorSet( M07, 100, COLOR_Blue)
						Else
							Call SalColorSet( M07, 100, COLOR_Red)
					Else
						Call SalColorSet( M07, 100, COLOR_Gray )
				If dMDate>=8
					If dMDate=8
						If frm_DV.MON = dMDate
							Call SalColorSet( M08, 100, COLOR_Blue)
						Else
							Call SalColorSet( M08, 100, COLOR_Red)
					Else
						Call SalColorSet( M08, 100, COLOR_Gray )
				If dMDate>=9
					If dMDate=9
						If frm_DV.MON = dMDate
							Call SalColorSet( M09, 100, COLOR_Blue)
						Else
							Call SalColorSet( M09, 100, COLOR_Red)
					Else
						Call SalColorSet( M09, 100, COLOR_Gray )
				If dMDate>=10
					If dMDate=10
						If frm_DV.MON = dMDate
							Call SalColorSet( M10, 100, COLOR_Blue)
						Else
							Call SalColorSet( M10, 100, COLOR_Red)
					Else
						Call SalColorSet( M10, 100, COLOR_Gray )
				If dMDate>=11
					If dMDate=11
						If frm_DV.MON = dMDate
							Call SalColorSet( M11, 100, COLOR_Blue)
						Else
							Call SalColorSet( M11, 100, COLOR_Red)
					Else
						Call SalColorSet( M11, 100, COLOR_Gray )
				If dMDate>=12
					If dMDate=12
						If frm_DV.MON = dMDate
							Call SalColorSet( M12, 100, COLOR_Blue)
						Else
							Call SalColorSet( M12, 100, COLOR_Red)
					Else
						Call SalColorSet( M12, 100, COLOR_Gray )
	Dialog Box: dlg_P_Ovr
		Class: cGenericTableDlg
		Property Template:
		Class DLL Name:
		Title:
		Accesories Enabled? Class Default
		Visible? No
		Display Settings
			Display Style? Class Default
			Visible at Design time? Yes
			Type of Dialog: Class Default
			Window Location and Size
				Left:   Default
				Top:    Default
				Width:  9.583"
				Width Editable? Class Default
				Height: Class Default
				Height Editable? Class Default
			Absolute Screen Location? Class Default
			Font Name: Class Default
			Font Size: Class Default
			Font Enhancement: Class Default
			Text Color: Class Default
			Background Color: Class Default
		Description:
		Tool Bar
			Display Settings
				Display Style? Default
				Location? Class Default
				Visible? No
				Size: Class Default
				Size Editable? Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Text Color: Class Default
				Background Color: Class Default
			Contents
				Pushbutton: pbIns
					Class Child Ref Key: 11
					Class ChildKey: 0
					Class: cGenericTableDlg
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Pushbutton: pbDel
					Class Child Ref Key: 12
					Class ChildKey: 0
					Class: cGenericTableDlg
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Pushbutton: pbRefresh
					Class Child Ref Key: 20
					Class ChildKey: 0
					Class: cGenericTableDlg
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Pushbutton: pbUpdate
					Class Child Ref Key: 15
					Class ChildKey: 0
					Class: cGenericTableDlg
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Line
					Resource Id: 59093
					Class Child Ref Key: 19
					Class ChildKey: 0
					Class: cGenericTableDlg
					Coordinates
						Begin X:  Class Default
						Begin Y:  Class Default
						End X:  Class Default
						End Y:  Class Default
					Visible? Class Default
					Line Style: Class Default
					Line Thickness: Class Default
					Line Color: Class Default
				Pushbutton: pbSearch
					Class Child Ref Key: 13
					Class ChildKey: 0
					Class: cGenericTableDlg
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Pushbutton: pbFilter
					Class Child Ref Key: 23
					Class ChildKey: 0
					Class: cGenericTableDlg
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Pushbutton: pbPrint
					Class Child Ref Key: 14
					Class ChildKey: 0
					Class: cGenericTableDlg
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Line
					Resource Id: 59094
					Class Child Ref Key: 21
					Class ChildKey: 0
					Class: cGenericTableDlg
					Coordinates
						Begin X:  Class Default
						Begin Y:  Class Default
						End X:  Class Default
						End Y:  Class Default
					Visible? Class Default
					Line Style: Class Default
					Line Thickness: Class Default
					Line Color: Class Default
				Pushbutton: pbOk
					Class Child Ref Key: 16
					Class ChildKey: 0
					Class: cGenericTableDlg
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Pushbutton: pbExit
					Class Child Ref Key: 17
					Class ChildKey: 0
					Class: cGenericTableDlg
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Line
					Resource Id: 59095
					Class Child Ref Key: 22
					Class ChildKey: 0
					Class: cGenericTableDlg
					Coordinates
						Begin X:  Class Default
						Begin Y:  Class Default
						End X:  Class Default
						End Y:  Class Default
					Visible? Class Default
					Line Style: Class Default
					Line Thickness: Class Default
					Line Color: Class Default
		Contents
			Child Table: tbl
				Class Child Ref Key: 8
				Class ChildKey: 0
				Class: cGenericTableDlg
				Property Template:
				Class DLL Name:
				Display Settings
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: 4.82"
						Height Editable? Class Default
					Visible? Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Text Color: Class Default
					Background Color: Class Default
					View: Class Default
					Allow Row Sizing? Class Default
					Lines Per Row: Class Default
				Memory Settings
					Maximum Rows in Memory: Class Default
					Discardable? Class Default
				Contents
					Column: cFlag
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title:
						Visible? No
						Editable? No
						Maximum Data Length: Default
						Data Type: Number
						Justify: Left
						Width:  Default
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: cRef
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Референс
						Visible? Yes
						Editable? No
						Maximum Data Length: Default
						Data Type: Number
						Justify: Left
						Width:  Default
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: cNlsA
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Счет отправителя
						Visible? Yes
						Editable? No
						Maximum Data Length: Default
						Data Type: String
						Justify: Left
						Width:  1.717"
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: cNlsB
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Счет получателя
						Visible? Yes
						Editable? No
						Maximum Data Length: Default
						Data Type: String
						Justify: Left
						Width:  1.617"
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: cS
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Сумма
						Visible? Yes
						Editable? No
						Maximum Data Length: Default
						Data Type: Number
						Justify: Right
						Width:  Default
						Width Editable? Yes
						Format: ###000
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
					Column: cErr
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Title: Ошибка
						Visible? Yes
						Editable? No
						Maximum Data Length: Default
						Data Type: Long String
						Justify: Left
						Width:  6.3"
						Width Editable? Yes
						Format: Unformatted
						Country: Default
						Input Mask: Unformatted
						Cell Options
							Cell Type? Standard
							Multiline Cell? No
							Cell DropDownList
								Sorted? Yes
								Vertical Scroll? Yes
								Auto Drop Down? No
								Allow Text Editing? Yes
							Cell CheckBox
								Check Value:
								Uncheck Value:
								Ignore Case? Yes
						List Values
						Message Actions
				Functions
				Window Variables
				Message Actions
					On UM_Populate
						Call SalWaitCursor(TRUE)
						Call SalTblPopulate(dlg_P_Ovr.tbl, hSql(), T(dlg_P_Ovr.strSqlPopulate), TBL_FillAll)
						Call SalWaitCursor(FALSE)
					On SAM_Create
						Set dlg_P_Ovr.strSqlPopulate="select flag,ref, nlsa,nlsb,s/100,err 
								                                      from P_ovr_err  
								                                      order by flag desc  
								INTO :dlg_P_Ovr.tbl.cFlag,:dlg_P_Ovr.tbl.cRef,:dlg_P_Ovr.tbl.cNlsA,:dlg_P_Ovr.tbl.cNlsB,:dlg_P_Ovr.tbl.cS,:dlg_P_Ovr.tbl.cErr  "
					On UM_FetchRowDone
						If dlg_P_Ovr.tbl.cFlag != 0
							Call VisTblSetRowColor(dlg_P_Ovr.tbl, SalTblQueryContext( dlg_P_Ovr.tbl ), COLOR_Blue)
						Else
							Call VisTblSetRowColor(dlg_P_Ovr.tbl, SalTblQueryContext( dlg_P_Ovr.tbl ), COLOR_Red)
		Functions
		Window Parameters
		Window Variables
		Message Actions
	Table Window: tblHistSchem
		Class: cGenericTable
		Property Template:
		Class DLL Name:
		Title: Изменения параметров для схемы 
		Icon File:
		Accesories Enabled? Class Default
		Visible? Class Default
		Display Settings
			Visible at Design time? Yes
			Automatically Created at Runtime? Class Default
			Initial State: Class Default
			Maximizable? Class Default
			Minimizable? Class Default
			System Menu? Class Default
			Resizable? Class Default
			Window Location and Size
				Left:   0.81"
				Top:    1.075"
				Width:  16.483"
				Width Editable? Class Default
				Height: 7.702"
				Height Editable? Class Default
			Font Name: Class Default
			Font Size: Class Default
			Font Enhancement: Class Default
			Text Color: Class Default
			Background Color: Class Default
			View: Class Default
			Allow Row Sizing? Class Default
			Lines Per Row: Class Default
		Memory Settings
			Maximum Rows in Memory: 2000
			Discardable? Class Default
		Description:
		Named Menus
		Menu
		Tool Bar
			Display Settings
				Display Style? Class Default
				Location? Class Default
				Visible? Class Default
				Size: Class Default
				Size Editable? Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Text Color: Class Default
				Background Color: Class Default
			Contents
				Pushbutton: pbIns
					Class Child Ref Key: 33
					Class ChildKey: 0
					Class: cGenericTable
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Pushbutton: pbDel
					Class Child Ref Key: 34
					Class ChildKey: 0
					Class: cGenericTable
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Pushbutton: pbRefresh
					Class Child Ref Key: 35
					Class ChildKey: 0
					Class: cGenericTable
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Pushbutton: pbUpdate
					Class Child Ref Key: 36
					Class ChildKey: 0
					Class: cGenericTable
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Line
					Resource Id: 57827
					Class Child Ref Key: 37
					Class ChildKey: 0
					Class: cGenericTable
					Coordinates
						Begin X:  Class Default
						Begin Y:  Class Default
						End X:  Class Default
						End Y:  Class Default
					Visible? Class Default
					Line Style: Class Default
					Line Thickness: Class Default
					Line Color: Class Default
				Pushbutton: pbSearch
					Class Child Ref Key: 38
					Class ChildKey: 0
					Class: cGenericTable
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Pushbutton: pbFilter
					Class Child Ref Key: 44
					Class ChildKey: 0
					Class: cGenericTable
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Pushbutton: pbDetails
					Class Child Ref Key: 39
					Class ChildKey: 0
					Class: cGenericTable
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Pushbutton: pbPrint
					Class Child Ref Key: 40
					Class ChildKey: 0
					Class: cGenericTable
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Line
					Resource Id: 57828
					Class Child Ref Key: 41
					Class ChildKey: 0
					Class: cGenericTable
					Coordinates
						Begin X:  Class Default
						Begin Y:  Class Default
						End X:  Class Default
						End Y:  Class Default
					Visible? Class Default
					Line Style: Class Default
					Line Thickness: Class Default
					Line Color: Class Default
				Pushbutton: pbExit
					Class Child Ref Key: 42
					Class ChildKey: 0
					Class: cGenericTable
					Property Template:
					Class DLL Name:
					Title:
					Window Location and Size
						Left:   Class Default
						Top:    Class Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? Class Default
					Keyboard Accelerator: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Picture File Name:
					Picture Transparent Color: Class Default
					Image Style: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Message Actions
				Line
					Resource Id: 57829
					Class Child Ref Key: 43
					Class ChildKey: 0
					Class: cGenericTable
					Coordinates
						Begin X:  Class Default
						Begin Y:  Class Default
						End X:  Class Default
						End Y:  Class Default
					Visible? Class Default
					Line Style: Class Default
					Line Thickness: Class Default
					Line Color: Class Default
		Contents
			Column: chDat
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cColumnLabeled
				Property Template:
				Class DLL Name:
				Title: Дата 
						изменений
				Visible? Class Default
				Editable? Class Default
				Maximum Data Length: Class Default
				Data Type: Date/Time
				Justify: Class Default
				Width:  1.667"
				Width Editable? Class Default
				Format: dd-MM-yyyy hh:mm
				Country: Class Default
				Input Mask: Class Default
				Cell Options
					Cell Type? Class Default
					Multiline Cell? Class Default
					Cell DropDownList
						Sorted? Class Default
						Vertical Scroll? Class Default
						Auto Drop Down? Class Default
						Allow Text Editing? Class Default
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Class Default
				List Values
				Message Actions
			Column: user
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Кто сделал
				Visible? Yes
				Editable? Yes
				Maximum Data Length: Default
				Data Type: String
				Justify: Left
				Width:  1.267"
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: actionDesc
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Действие
				Visible? Yes
				Editable? Yes
				Maximum Data Length: Default
				Data Type: String
				Justify: Left
				Width:  Default
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: tt
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Операция
				Visible? Yes
				Editable? Yes
				Maximum Data Length: Default
				Data Type: String
				Justify: Left
				Width:  0.95"
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: mfob
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: МФО Б
				Visible? Yes
				Editable? Yes
				Maximum Data Length: Default
				Data Type: String
				Justify: Left
				Width:  Default
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: nlsb
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Счет Б
				Visible? Yes
				Editable? Yes
				Maximum Data Length: Default
				Data Type: String
				Justify: Left
				Width:  2.217"
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: koef
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Коеф.
				Visible? Yes
				Editable? Yes
				Maximum Data Length: Default
				Data Type: Number
				Justify: Left
				Width:  1.0"
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: polu
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Получатель
				Visible? Yes
				Editable? Yes
				Maximum Data Length: Default
				Data Type: String
				Justify: Left
				Width:  2.933"
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: nazn
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Назначение
				Visible? Yes
				Editable? Yes
				Maximum Data Length: Default
				Data Type: String
				Justify: Left
				Width:  4.333"
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: okpo
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: ОКПО Б
				Visible? Yes
				Editable? Yes
				Maximum Data Length: Default
				Data Type: String
				Justify: Left
				Width:  1.383"
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: idr
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Уровень 
						бюджета
				Visible? Yes
				Editable? Yes
				Maximum Data Length: Default
				Data Type: Number
				Justify: Left
				Width:  1.033"
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: formula
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Формула
				Visible? Yes
				Editable? Yes
				Maximum Data Length: Default
				Data Type: String
				Justify: Left
				Width:  Default
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: vob
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: Вид 
						обраб.
				Visible? Yes
				Editable? Yes
				Maximum Data Length: Default
				Data Type: String
				Justify: Left
				Width:  Default
				Width Editable? Yes
				Format: Unformatted
				Country: Default
				Input Mask: Unformatted
				Cell Options
					Cell Type? Standard
					Multiline Cell? No
					Cell DropDownList
						Sorted? Yes
						Vertical Scroll? Yes
						Auto Drop Down? No
						Allow Text Editing? Yes
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Yes
				List Values
				Message Actions
			Column: kod
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cColumnLabeled
				Property Template:
				Class DLL Name:
				Title: Сорт.
				Visible? Class Default
				Editable? Class Default
				Maximum Data Length: Class Default
				Data Type: Class Default
				Justify: Class Default
				Width:  Class Default
				Width Editable? Class Default
				Format: Class Default
				Country: Class Default
				Input Mask: Class Default
				Cell Options
					Cell Type? Class Default
					Multiline Cell? Class Default
					Cell DropDownList
						Sorted? Class Default
						Vertical Scroll? Class Default
						Auto Drop Down? Class Default
						Allow Text Editing? Class Default
					Cell CheckBox
						Check Value:
						Uncheck Value:
						Ignore Case? Class Default
				List Values
				Message Actions
		Functions
		Window Parameters
			Number: nIDS
		Window Variables
			String: sSql
		Message Actions
			On SAM_Create
				Call SalDisableWindow(pbIns)
				Call SalDisableWindow(pbDel)
				Call SalDisableWindow(pbFilter)
				Call SalDisableWindow(pbSearch)
				Call SalDisableWindow(pbDetails)
				Call SalDisableWindow(pbUpdate)
				! Set PrinterFile
				Set strPrintFileName=SalNumberToStrX(nIDS,0)||'.sch'
				Set sSql=
						"SELECT  TT, MFOB, NLSB, POLU, NAZN, OKPO, IDR, KOEF, VOB, FORMULA, FDAT, USER_NAME, act, kod
						  INTO :tblHistSchem.tt, :tblHistSchem.mfob, :tblHistSchem.nlsb, :tblHistSchem.polu, 
						       :tblHistSchem.nazn, :tblHistSchem.okpo, :tblHistSchem.idr,
						       :tblHistSchem.koef, :tblHistSchem.vob, :tblHistSchem.formula, :tblHistSchem.chDat, 
						       :tblHistSchem.user, :tblHistSchem.actionDesc, :tblHistSchem.kod
						FROM(
						SELECT idupd,TT, MFOB, NLSB, POLU, NAZN, OKPO, IDR, KOEF, VOB, FORMULA, kod,
						        FDAT, USER_NAME, decode(CHACTION, 0, 'Добавлено', 1, 'Изменение', 2, 'Удалено') act
								FROM perekr_b_update 
								WHERE ids = "||SalNumberToStrX(nIDS,0)||
						"UNION ALL
						SELECT idupd, decode(c1,t1,'',c1) tt, CASE WHEN (c2=t2) THEN null ELSE c2 end as mfob,
						 decode(c3,t3,'',c3) nlsb,
								      CASE WHEN (c4=t4) THEN '' ELSE c4 end as polu,					  
								      CASE WHEN (c5=t5) THEN '' ELSE c5 end as nazn,
						                      decode(c6,t6,'',c6) okpo,
						                      CASE WHEN (c7=t7) THEN null ELSE c7 end as idr, 
						                      CASE WHEN (c8=t8) THEN null ELSE c8 end as koef,
						                      CASE WHEN (c9=t9) THEN null ELSE c9 end as vob,
							              decode(c10,t10,'',c10) formula, decode(c11,t11,0,c11) kod, null, null, 'на' 
						FROM( 
						SELECT t.idupd, t.min_id, 
						        b.TT c1, b.MFOB c2, b.NLSB c3, b.POLU c4, b.NAZN c5, b.OKPO c6, b.IDR c7, b.KOEF c8, b.VOB c9, b.FORMULA c10, b.KOD c11,  
						        t.TT t1, t.MFOB t2, t.NLSB t3, t.POLU t4, t.NAZN t5, t.OKPO t6, t.IDR t7, t.KOEF t8, t.VOB t9, t.FORMULA t10, t.KOD t11
						FROM perekr_b_update b, 
						(SELECT b.idupd, b.id, TT, MFOB, NLSB, POLU, NAZN, OKPO, IDR, KOEF, VOB, FORMULA, KOD, 
						       (SELECT min(idupd) m FROM perekr_b_update WHERE idupd > b.idupd AND id = b.id ) min_id
						 FROM perekr_b_update b
						 WHERE  b.ids= "|| SalNumberToStrX(nIDS,0) ||" AND b.chaction=1
						) t
						WHERE b.idupd=t.min_id AND t.min_id is not null
						UNION ALL
						SELECT t.idupd, t.min_id,   
						        b.TT, b.MFOB, b.NLSB, b.POLU, b.NAZN, b.OKPO, b.IDR, b.KOEF, b.VOB, b.FORMULA, b.KOD,
							    t.TT, t.MFOB, t.NLSB, t.POLU, t.NAZN, t.OKPO, t.IDR, t.KOEF, t.VOB, t.FORMULA, t.KOD
						FROM perekr_b b, 
						(SELECT b.idupd, b.id, TT, MFOB, NLSB, POLU, NAZN, OKPO, IDR, KOEF, VOB, FORMULA, KOD, 
						       (SELECT min(idupd) m FROM perekr_b_update WHERE idupd > b.idupd AND id = b.id ) min_id
						 FROM perekr_b_update b
						 WHERE 
						      b.ids="|| SalNumberToStrX(nIDS,0) || "AND b.chaction=1
						) t  WHERE b.id=t.id AND t.min_id is null
						)) order by idupd, fdat"
				Call SalSendMsg(tblHistSchem, UM_Populate, 0, 0)
			On UM_Populate
				Call SalTblPopulate( tblHistSchem, hSql(), sSql, TBL_FillAll )
