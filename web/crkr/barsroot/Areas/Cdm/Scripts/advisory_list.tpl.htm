<script id="custAdvisoryTemplate" type="text/x-kendo-template">
    <table id="advisoryTable" style="margin-top:20px;">
        # for (var i = 0; i < data.groups.length; i++) { #
        <tr>
            <td colspan="2">
                <h2 style="margin-top:20px;font-weight:bold;">#=data.groups[i].NAME#</h2>
            </td>
        </tr>
        # for (var j=0; j < data.items.length; j++) {
        var item = data.items[j];
        var isItemAdvisored = bars.quality.isAttributeAdvisored(item.NAME);
        var itemDisabled = 
            item.NAME === 'RNK' || item.NAME === 'KF' || item.NAME === 'BRANCH' || item.NAME === 'DATE_OFF'|| item.NAME === 'NMK' ? 'disabled = "disabled"' : '';
        if (item.ATTR_GR_ID === data.groups[i].ID && (!advisoryOnly || isItemAdvisored) ) {
        #

        <tr style="padding: 4px 10px 6px 10px;">
            <td style="padding-left:8px;">
                <label for="atr-#=item.NAME#">
                    #=item.ATT_UKR_NAME # &nbsp;
                </label>
            </td>
            <td style="padding-bottom:4px;">               
                #if (item.PAGE_ITEM_VIEW === 'Dialog') {#  <span class="k-space-right">  #}#
                <input type="text" data-type="#=item.PAGE_ITEM_VIEW#" data-name="#=item.NAME#" value="#=item.DB_VALUE#" data-bind="value: #=item.NAME#.newVal"
                       #=(item.REQUIRED ===1) ? "required data-required-msg=' заповніть поле.'": "" #
                       #=(item.PAGE_ITEM_VIEW === 'Dialog') ? 'disabled="disabled"' : ''#
                       style="width:300px;font-weight:normal"
                       #=(isItemAdvisored) ? (bars.quality.isAdvisoredFilled(item.NAME) ? "class='k-textbox attr-advise-confirmed'" : "class='k-textbox attr-advisored'") : "class='k-textbox'"#                        
                       id="atr-#=item.NAME#" #=itemDisabled#/>
                #if (item.PAGE_ITEM_VIEW === 'Dialog') {#  
                     <a class="k-icon k-filter" data-listname="#=item.NAME#" onclick="bars.quality.showAttributeDialog('#=item.NAME#')"></a>
                    </span>
               #}#
            </td>            
        </tr>
        #}} #
        #} #
    </table>
</script>