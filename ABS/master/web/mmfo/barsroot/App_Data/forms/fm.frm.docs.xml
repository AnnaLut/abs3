<?xml version="1.0" encoding="utf-8"?>
<xmlform captiontype="OnlyTitle" caption="Коментар">
  <grids>
    <grid id="gFm" pagesize="10" showpagesizebox="true" title="Відбір документів для Фінансового Моніторингу">
      <datasource>
        <sql>
          select * from v_finmon_que_web
        </sql>
      </datasource>
      <filters caption="Фільтр" buttontext="Застосувати" columnscount="1" width="100%">
        <filter field="pdat" caption="Дата вводу документів" allowemptyvalue="false" columnindex="1" condition="Equal" id="fltrPDat">
          <uicontrol type="DateInput" align="Center">
            <defaultvalue type="PlSqlFunction" value="sysdate"></defaultvalue>
          </uicontrol>
        </filter>
      </filters>
      <buttons defaulttype="Button">
        <button id="btnDoc" caption="Документ" hint="Перегляд документу">
          <command type="Redirect" url="/barsroot/documentview/default.aspx">
            <parameters>
              <parameter type="DataField" name="REF" altname="ref"></parameter>
            </parameters>
          </command>
        </button>
      </buttons>
      <rowselection method="SingleRow"></rowselection>
      <editform style="Dialog" title="" width="520" >
        <buttons defaulttype="Button">
          <button id="btnSend" caption="Повідомити|Зберегти|Вiдмiнити" hint="Повідомити|Зберегти|Вiдмiнити">
            <command type="Edit">
              <sql>
                begin p_fm_set_status(:ref, null, 'I', :comments, null); end;
              </sql>
              <parameters>
                <parameter type="DataField" name="REF"></parameter>
                <parameter type="DataField" name="COMMENTS"></parameter>
              </parameters>
            </command>
          </button>
          <button caption="Закрити" id="btnClose">
            <command type="Close" />
          </button>
        </buttons>
      </editform>
      <fields>
        <field name="REF" key="true" datatype="Int64" sort="Desc">
          <column show="true" caption="Реф." align="Right"></column>
          <form show="true" rwmode="RW" required="true">
            <uicontrol type="Text" readonly="true" />
          </form>
        </field>
        <field name="STATUS" key="false" datatype="String" sort="Default">
          <column show="false" caption="Статус" align="Left"></column>
          <form show="false" rwmode="RW" required="false">
            <uicontrol type="Text" />
          </form>
          <layout>
            <colors scope="EntireRow">
              <color color="clGreen" operation="Equal" value="N"></color>
              <color color="clGreen" operation="Equal" value="T"></color>
              <color color="clBlue" operation="Equal" value="I"></color>
              <color color="clRed" operation="Equal" value="R"></color>
              <color color="clRed" operation="Equal" value="D"></color>
            </colors>
          </layout>
        </field>
        <field name="STATUS_NAME" key="false" datatype="String" sort="Default">
          <column show="true" caption="Статус" align="Left"></column>
          <form show="false" rwmode="RW" required="false">
            <uicontrol type="Text" />
          </form>
        </field>
        <field name="TT" key="false" datatype="String" sort="Default">
          <column show="true" caption="Оп." align="Center"></column>
          <form show="false" rwmode="RW" required="false">
            <uicontrol type="Text" />
          </form>
        </field>
        <field name="ND" key="false" datatype="String" sort="Default">
          <column show="true" caption="Номер док." align="Left"></column>
          <form show="false" rwmode="RW" required="false">
            <uicontrol type="Text" />
          </form>
        </field>
        <field name="DATD" key="false" datatype="DateTime" sort="Default">
          <column show="true" caption="Дата док." align="Center"></column>
          <form show="false" rwmode="RW" required="false">
            <uicontrol type="Text" />
          </form>
        </field>
        <field name="NLSA" key="false" datatype="String" sort="Default">
          <column show="true" caption="Рахунок-А" align="Left"></column>
          <form show="false" rwmode="RW" required="false">
            <uicontrol type="Text" />
          </form>
        </field>
        <field name="S" key="false" datatype="Decimal" sort="Default">
          <column show="true" caption="Сума" align="Right"></column>
          <form show="false" rwmode="RW" required="false">
            <uicontrol type="Text" />
          </form>
        </field>
        <field name="LCV" key="false" datatype="String" sort="Default">
          <column show="true" caption="Вал-А" align="Center"></column>
          <form show="false" rwmode="RW" required="false">
            <uicontrol type="Text" />
          </form>
        </field>
        <field name="DK" key="false" datatype="Int64" sort="Default">
          <column show="true" caption="Д/К" align="Center"></column>
          <form show="false" rwmode="RW" required="false">
            <uicontrol type="Text" />
          </form>
        </field>
        <field name="NLSB" key="false" datatype="String" sort="Default">
          <column show="true" caption="Рахунок-Б" align="Left"></column>
          <form show="false" rwmode="RW" required="false">
            <uicontrol type="Text" />
          </form>
        </field>
        <field name="S2" key="false" datatype="Decimal" sort="Default">
          <column show="true" caption="Сума-Б" align="Right"></column>
          <form show="false" rwmode="RW" required="true">
            <uicontrol type="Text" />
          </form>
        </field>
        <field name="LCV2" key="false" datatype="String" sort="Default">
          <column show="true" caption="Вал-Б" align="Center"></column>
          <form show="false" rwmode="RW" required="false">
            <uicontrol type="Text" />
          </form>
        </field>
        <field name="VDAT" key="false" datatype="DateTime" sort="Default">
          <column show="true" caption="Дата валют." align="Center"></column>
          <form show="false" rwmode="RW" required="false">
            <uicontrol type="Text" />
          </form>
        </field>
        <field name="NAZN" key="false" datatype="String" sort="Default">
          <column show="true" caption="Признвчення" align="Left"></column>
          <form show="false" rwmode="RW" required="false">
            <uicontrol type="Text" />
          </form>
        </field>
        <field name="PDAT" key="false" datatype="DateTime" sort="Default">
          <column show="false" caption="Дата вводу" align="Center"></column>
          <form show="false" rwmode="RW" required="false">
            <uicontrol type="Text" />
          </form>
        </field>
        <field name="COMMENTS" key="false" datatype="String" sort="Default">
          <column show="false" caption="Коментар" align="Left"></column>
          <form show="true" rwmode="RW" required="true">
            <uicontrol type="Text" controlwidth="300" linescount="5" />
          </form>
        </field>
      </fields>
    </grid>
  </grids>
</xmlform>
