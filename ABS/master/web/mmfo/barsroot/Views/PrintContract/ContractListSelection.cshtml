@model IEnumerable<BarsWeb.Models.DocSchemeReport>
@{
    Layout = null;
    string[] SendTicketToEa = new string[] {  "DKBOEA26_CANCEL_FRX",
                                              "DKBOEA10_ADDCARD_FRX",
                                              "DKBOEA12_CARDHOLDER_CLAIM_FRX",
                                              "ACC_3_BPK_ZAYAVA_NEW_VAL_1_FRX",
                                              "ACC_3_BPK_ZAYAVA_NEW_VAL_2_FRX",
                                              "DKBOEA12A_DODCLIENTS_CLAIM_FRX" };
}
@foreach (var contract in Model)
{
    <tr id="@contract.Id" name="@contract.Name" structcode="@contract.Struct_Code" dkbo_number="@contract.DKBO_NUMBER">
        <td><input type="checkbox" id="rowcheck" onclick="selectRow(this);" /></td>
        <td>@contract.Id</td>
        <td>@contract.Name</td>

        @*var isDKBO = bars.extension.getParamFromUrl('ISDKBO', document.location.href);*@

        @if (ViewBag.DKBOEA_ON)
        {
            if (@contract.State == null)
            {
                <td>
                    @Html.Label(contract.State.ToString(), new { @class = "label" })
                </td>
            }
            else
            {
                if (@contract.State < 0)
                {
                    @*отключить возможность подписания кредитных заявок с последующей отправкой в ЭА*@
                    if (!SendTicketToEa.Contains(contract.Id))
                    {
                        <td>
                            <input type="checkbox"
                                   id="signed"
                                   disabled="disabled" />
                        </td>
                    }
                    else
                    {
                        <td>
                            <input type="checkbox"
                                   id="signed"
                                   onclick="if(confirm('Підписати документ?')) SignDocument(@contract.State); else UpdatePage();" />
                        </td>
                        }
                }

                if (@contract.State > 0)
                {
                    <td>
                        <input type="checkbox"
                                id="signed"
                                checked="checked"
                                disabled="disabled" />
                        @*Html.Label(contract.State.ToString(), new { @class = "label" })*@

                        @if (contract.DKBO_NUMBER != null)
                        {
                            <a href="" onclick="EADocsView_ShowDialog('@contract.RNK.ToString()','@contract.PRINT_NUMBER.ToString().Replace("-", "")')">Перегляд док. ЕА</a>
                        }

                    </td>
                        }
                    }
                }
        <td>@contract.PRINT_NUMBER</td>
    </tr>
}