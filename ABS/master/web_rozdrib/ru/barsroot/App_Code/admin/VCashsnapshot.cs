/*
    AUTOGENERATED! Do not modify this code.
*/

using System;
using System.Collections;
using System.Collections.Generic;
using System.Text;
using System.Collections.Specialized;
using System.Data;
using System.Web.Configuration;
using Oracle.DataAccess.Client;
using Oracle.DataAccess.Types;
using ibank.core;
using Bars.Classes;

namespace ibank.core
{
    public sealed class VCashsnapshotRecord : BbRecord
    {
        public VCashsnapshotRecord(): base()
        {
            fillFields();
        }
        public VCashsnapshotRecord(BbDataSource Parent) : base (Parent)
        {
            fillFields();
        }
        public VCashsnapshotRecord(BbDataSource Parent, OracleDecimal RowScn, DateTime? OPDATE, Decimal? SHIFT, Decimal? ACC, String NLS, Decimal? KV, String NMS, Decimal? OSTF)
            : this(Parent)
        {
            this.OPDATE = OPDATE;
            this.SHIFT = SHIFT;
            this.ACC = ACC;
            this.NLS = NLS;
            this.KV = KV;
            this.NMS = NMS;
            this.OSTF = OSTF;
            this.RowScn = RowScn;
            this.IsRowscnSupported = false;
            this.ClearChanges();
        }
        private void fillFields()
        {
            Fields.Add( new BbField("OPDATE", OracleDbType.Date, false, false, false, false, false, "V_CASHSNAPSHOT", ObjectTypes.View, "Срезы остатков по кассе за текущую системную дату за любую смену", ""));
            Fields.Add( new BbField("SHIFT", OracleDbType.Decimal, true, false, false, false, false, "V_CASHSNAPSHOT", ObjectTypes.View, "Срезы остатков по кассе за текущую системную дату за любую смену", ""));
            Fields.Add( new BbField("ACC", OracleDbType.Decimal, false, false, false, false, false, "V_CASHSNAPSHOT", ObjectTypes.View, "Срезы остатков по кассе за текущую системную дату за любую смену", ""));
            Fields.Add( new BbField("NLS", OracleDbType.Varchar2, false, false, false, false, false, "V_CASHSNAPSHOT", ObjectTypes.View, "Срезы остатков по кассе за текущую системную дату за любую смену", ""));
            Fields.Add( new BbField("KV", OracleDbType.Decimal, false, false, false, false, false, "V_CASHSNAPSHOT", ObjectTypes.View, "Срезы остатков по кассе за текущую системную дату за любую смену", "валюта"));
            Fields.Add( new BbField("NMS", OracleDbType.Varchar2, false, false, false, false, false, "V_CASHSNAPSHOT", ObjectTypes.View, "Срезы остатков по кассе за текущую системную дату за любую смену", ""));
            Fields.Add( new BbField("OSTF", OracleDbType.Decimal, true, false, false, false, false, "V_CASHSNAPSHOT", ObjectTypes.View, "Срезы остатков по кассе за текущую системную дату за любую смену", ""));        
        }
        public DateTime? OPDATE { get { return (DateTime?)FindField("OPDATE").Value; } set {SetField("OPDATE", value);} }
        public Decimal? SHIFT { get { return (Decimal?)FindField("SHIFT").Value; } set {SetField("SHIFT", value);} }
        public Decimal? ACC { get { return (Decimal?)FindField("ACC").Value; } set {SetField("ACC", value);} }
        public String NLS { get { return (String)FindField("NLS").Value; } set {SetField("NLS", value);} }
        public Decimal? KV { get { return (Decimal?)FindField("KV").Value; } set {SetField("KV", value);} }
        public String NMS { get { return (String)FindField("NMS").Value; } set {SetField("NMS", value);} }
        public Decimal? OSTF { get { return (Decimal?)FindField("OSTF").Value; } set {SetField("OSTF", value);} }
    }

    public sealed class VCashsnapshotFilters : BbFilters
    {
        public VCashsnapshotFilters(BbDataSource Parent) : base (Parent)
        {
            OPDATE = new BBDateFilter(this, "OPDATE");
            SHIFT = new BBDecimalFilter(this, "SHIFT");
            ACC = new BBDecimalFilter(this, "ACC");
            NLS = new BBVarchar2Filter(this, "NLS");
            KV = new BBDecimalFilter(this, "KV");
            NMS = new BBVarchar2Filter(this, "NMS");
            OSTF = new BBDecimalFilter(this, "OSTF");
        }
        public BBDateFilter OPDATE;
        public BBDecimalFilter SHIFT;
        public BBDecimalFilter ACC;
        public BBVarchar2Filter NLS;
        public BBDecimalFilter KV;
        public BBVarchar2Filter NMS;
        public BBDecimalFilter OSTF;
    }

    public partial class VCashsnapshot : BbTable<VCashsnapshotRecord, VCashsnapshotFilters>
    {
        public VCashsnapshot() : base(new BbConnection())
        {
            base.Connection.RoleName = "OPER000";
        }
        public VCashsnapshot(BbConnection Connection)
            : base(Connection)
        {
        }
        public override List<VCashsnapshotRecord> Select(VCashsnapshotRecord Item)
        {
            List<VCashsnapshotRecord> res = new List<VCashsnapshotRecord>();
            ConnectionResult connectionResult = Connection.InitConnection();
            try
            {
                OracleDataReader rdr = ExecuteReader(Item);
                while (rdr.Read())
                {
                    res.Add(new VCashsnapshotRecord(
                        this,
                        rdr.IsDBNull(0) ? OracleDecimal.Null : rdr.GetOracleDecimal(0),
                        rdr.IsDBNull(1) ?  (DateTime?)null : Convert.ToDateTime(rdr[1]), 
                        rdr.IsDBNull(2) ?  (Decimal?)null : Convert.ToDecimal(rdr[2]), 
                        rdr.IsDBNull(3) ?  (Decimal?)null : Convert.ToDecimal(rdr[3]), 
                        rdr.IsDBNull(4) ?  (String)null : Convert.ToString(rdr[4]), 
                        rdr.IsDBNull(5) ?  (Decimal?)null : Convert.ToDecimal(rdr[5]), 
                        rdr.IsDBNull(6) ?  (String)null : Convert.ToString(rdr[6]), 
                        rdr.IsDBNull(7) ?  (Decimal?)null : Convert.ToDecimal(rdr[7]))
                    );
                }
                rdr.Close();
                rdr.Dispose();
            }
            finally
            {
                if (ConnectionResult.New == connectionResult)
                    Connection.CloseConnection();
            }
            return res;
        }
        public List<VCashsnapshotRecord> Select(String SortExpression)
        {
            VCashsnapshotRecord rec = new VCashsnapshotRecord();

            return Select(SortExpression);            
        }
    }
}