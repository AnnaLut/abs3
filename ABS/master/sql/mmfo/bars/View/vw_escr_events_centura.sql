

PROMPT ===================================================================================== 
PROMPT *** Run *** ========== Scripts /Sql/BARS/View/VW_ESCR_EVENTS_CENTURA.sql =========***
PROMPT ===================================================================================== 


PROMPT *** Create  view VW_ESCR_EVENTS_CENTURA ***

  CREATE OR REPLACE FORCE VIEW BARS.VW_ESCR_EVENTS_CENTURA ("ID", "NAME", "EVENT_TYPE", "BUILD_TYPE_ID", "OB22", "EVENT_CODE") AS 
  WITH ob22_all AS
 (SELECT '220256' ob22, 2 id
      FROM dual
    UNION ALL
    SELECT '220258' ob22, 2 id
      FROM dual
    UNION ALL
    SELECT '220346' ob22, 2 id
      FROM dual
    UNION ALL
    SELECT '220348' ob22, 2 id
      FROM dual
    UNION ALL
    SELECT '220257' ob22, 1 id
      FROM dual
    UNION ALL
    SELECT '220347' ob22, 1 id
      FROM dual)
SELECT t.id, t.name, t.event_type, t1.build_type_id, ob.ob22,substr(t.name,1,200) event_code
  FROM escr_events t
  JOIN escr_map_event_to_build_type t1
    ON t.id = t1.event_id
   AND t.date_to IS NULL
  JOIN ob22_all ob
    ON ob.id = t.event_type;

PROMPT *** Create  grants  VW_ESCR_EVENTS_CENTURA ***
grant SELECT                                                                 on VW_ESCR_EVENTS_CENTURA to BARS_ACCESS_DEFROLE;



PROMPT ===================================================================================== 
PROMPT *** End *** ========== Scripts /Sql/BARS/View/VW_ESCR_EVENTS_CENTURA.sql =========***
PROMPT ===================================================================================== 
