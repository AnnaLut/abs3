MERGE INTO EDS_CRT_LOG_STATE A USING
 (SELECT
  0 as ID,
  'Декларація формується' as NAME,
  'DECLARATION_REGISTER' as STATE
  FROM DUAL) B
ON (A.ID = B.ID)
WHEN NOT MATCHED THEN 
INSERT (
  ID, NAME, STATE)
VALUES (
  B.ID, B.NAME, B.STATE)
WHEN MATCHED THEN
UPDATE SET 
  A.NAME = B.NAME,
  A.STATE = B.STATE;

MERGE INTO EDS_CRT_LOG_STATE A USING
 (SELECT
  1 as ID,
  'Декларація підготовлена' as NAME,
  'DECLARATION_PREPARED' as STATE
  FROM DUAL) B
ON (A.ID = B.ID)
WHEN NOT MATCHED THEN 
INSERT (
  ID, NAME, STATE)
VALUES (
  B.ID, B.NAME, B.STATE)
WHEN MATCHED THEN
UPDATE SET 
  A.NAME = B.NAME,
  A.STATE = B.STATE;

MERGE INTO EDS_CRT_LOG_STATE A USING
 (SELECT
  2 as ID,
  'Декларація підготовлена з помилками' as NAME,
  'DECLARATION_ERROR' as STATE
  FROM DUAL) B
ON (A.ID = B.ID)
WHEN NOT MATCHED THEN 
INSERT (
  ID, NAME, STATE)
VALUES (
  B.ID, B.NAME, B.STATE)
WHEN MATCHED THEN
UPDATE SET 
  A.NAME = B.NAME,
  A.STATE = B.STATE;

MERGE INTO EDS_CRT_LOG_STATE A USING
 (SELECT
  3 as ID,
  'Помилка підготовки декларації' as NAME,
  'DECLARATION_REJECTED' as STATE
  FROM DUAL) B
ON (A.ID = B.ID)
WHEN NOT MATCHED THEN 
INSERT (
  ID, NAME, STATE)
VALUES (
  B.ID, B.NAME, B.STATE)
WHEN MATCHED THEN
UPDATE SET 
  A.NAME = B.NAME,
  A.STATE = B.STATE;

COMMIT;
